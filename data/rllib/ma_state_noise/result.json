{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 33.83210897445679, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535c4518>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": 338.3412248869964, "av": -338.3412248869964}, "episode_reward_max": 0.0, "time_this_iter_s": 33.83210897445679, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 20000, "timestamp": 1544501815, "episodes_total": 99, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 1394.366, "num_steps_sampled": 20000, "sample_time_ms": 22036.14, "grad_time_ms": 10081.88, "load_time_ms": 160.427, "num_steps_trained": 20000, "av": {"vf_explained_var": 1.4316576653072843e-06, "kl": 0.01359601505100727, "vf_loss": 5623.986328125, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.012992529198527336, "total_loss": 5623.9755859375, "cur_lr": 9.999999747378752e-05, "entropy": 2.819345712661743}, "adversary": {"vf_explained_var": 1.459167606299161e-06, "kl": 0.021096352487802505, "vf_loss": 5625.20263671875, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.06338287889957428, "total_loss": 5625.1435546875, "cur_lr": 9.999999747378752e-05, "entropy": 136.20977783203125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 20000, "training_iteration": 1, "episode_reward_mean": 0.0, "time_total_s": 33.83210897445679, "episodes_this_iter": 99, "done": false, "episode_len_mean": 200.0, "date": "2018-12-11_04-16-55", "iterations_since_restore": 1}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 60.49014186859131, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535df748>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": 156.14939515606457, "av": -156.14939515606457}, "episode_reward_max": 0.0, "time_this_iter_s": 26.65803289413452, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 40000, "timestamp": 1544501842, "episodes_total": 181, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 702.149, "num_steps_sampled": 40000, "sample_time_ms": 19923.503, "grad_time_ms": 9419.483, "load_time_ms": 89.002, "num_steps_trained": 40000, "av": {"vf_explained_var": 7.526996910200978e-07, "kl": 0.013750690966844559, "vf_loss": 618.081298828125, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.0154329938814044, "total_loss": 618.068603515625, "cur_lr": 9.999999747378752e-05, "entropy": 2.8076541423797607}, "adversary": {"vf_explained_var": 7.779170232424804e-07, "kl": 0.024558156728744507, "vf_loss": 618.3170166015625, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.06900530308485031, "total_loss": 618.2529296875, "cur_lr": 9.999999747378752e-05, "entropy": 136.2129669189453}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 40000, "training_iteration": 2, "episode_reward_mean": 0.0, "time_total_s": 60.49014186859131, "episodes_this_iter": 82, "done": false, "episode_len_mean": 265.13, "date": "2018-12-11_04-17-22", "iterations_since_restore": 2}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 83.8866651058197, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535d9dd8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": 23.543146457055744, "av": -23.543146457055744}, "episode_reward_max": 0.0, "time_this_iter_s": 23.396523237228394, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 60000, "timestamp": 1544501865, "episodes_total": 243, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 471.232, "num_steps_sampled": 60000, "sample_time_ms": 18301.252, "grad_time_ms": 9030.284, "load_time_ms": 64.696, "num_steps_trained": 60000, "av": {"vf_explained_var": -4.430994067661231e-06, "kl": 0.009709526784718037, "vf_loss": 382.15869140625, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.009835352189838886, "total_loss": 382.15081787109375, "cur_lr": 9.999999747378752e-05, "entropy": 2.791663885116577}, "adversary": {"vf_explained_var": -3.5522075449989643e-06, "kl": 0.025724563747644424, "vf_loss": 382.3211364746094, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.07176769524812698, "total_loss": 382.2545166015625, "cur_lr": 9.999999747378752e-05, "entropy": 136.19003295898438}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 60000, "training_iteration": 3, "episode_reward_mean": 0.0, "time_total_s": 83.8866651058197, "episodes_this_iter": 62, "done": false, "episode_len_mean": 320.16, "date": "2018-12-11_04-17-45", "iterations_since_restore": 3}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 105.9199903011322, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535c4be0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -87.21850737564246, "av": 87.21850737564246}, "episode_reward_max": 0.0, "time_this_iter_s": 22.0333251953125, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 80000, "timestamp": 1544501887, "episodes_total": 295, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 355.41, "num_steps_sampled": 80000, "sample_time_ms": 17098.078, "grad_time_ms": 8889.088, "load_time_ms": 52.176, "num_steps_trained": 80000, "av": {"vf_explained_var": 0.1602686196565628, "kl": 0.009652786888182163, "vf_loss": 234.38616943359375, "cur_kl_coeff": 0.10000002384185791, "policy_loss": -0.009914949536323547, "total_loss": 234.3771514892578, "cur_lr": 9.999999747378752e-05, "entropy": 2.7765583992004395}, "adversary": {"vf_explained_var": 0.159827321767807, "kl": 0.026280781254172325, "vf_loss": 234.55210876464844, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.0730571523308754, "total_loss": 234.4843292236328, "cur_lr": 9.999999747378752e-05, "entropy": 136.2147979736328}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 80000, "training_iteration": 4, "episode_reward_mean": 0.0, "time_total_s": 105.9199903011322, "episodes_this_iter": 52, "done": false, "episode_len_mean": 390.54, "date": "2018-12-11_04-18-07", "iterations_since_restore": 4}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 127.27032136917114, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a4d68>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -174.10441755562368, "av": 174.10441755562368}, "episode_reward_max": 0.0, "time_this_iter_s": 21.35033106803894, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 100000, "timestamp": 1544501909, "episodes_total": 341, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 286.023, "num_steps_sampled": 100000, "sample_time_ms": 16230.163, "grad_time_ms": 8812.151, "load_time_ms": 45.362, "num_steps_trained": 100000, "av": {"vf_explained_var": 0.16615359485149384, "kl": 0.01050253864377737, "vf_loss": 317.5405578613281, "cur_kl_coeff": 0.050000011920928955, "policy_loss": -0.011769386008381844, "total_loss": 317.52935791015625, "cur_lr": 9.999999747378752e-05, "entropy": 2.777252674102783}, "adversary": {"vf_explained_var": 0.17175251245498657, "kl": 0.026571178808808327, "vf_loss": 316.208740234375, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.07433715462684631, "total_loss": 316.1396789550781, "cur_lr": 9.999999747378752e-05, "entropy": 136.12973022460938}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 100000, "training_iteration": 5, "episode_reward_mean": 0.0, "time_total_s": 127.27032136917114, "episodes_this_iter": 46, "done": false, "episode_len_mean": 454.43, "date": "2018-12-11_04-18-29", "iterations_since_restore": 5}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 148.73950791358948, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d69cd30>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -223.3560277485878, "av": 223.3560277485878}, "episode_reward_max": 0.0, "time_this_iter_s": 21.469186544418335, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 120000, "timestamp": 1544501930, "episodes_total": 385, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 239.689, "num_steps_sampled": 120000, "sample_time_ms": 15661.168, "grad_time_ms": 8772.369, "load_time_ms": 39.797, "num_steps_trained": 120000, "av": {"vf_explained_var": 0.11283931881189346, "kl": 0.008949216455221176, "vf_loss": 328.1858825683594, "cur_kl_coeff": 0.050000011920928955, "policy_loss": -0.008947291411459446, "total_loss": 328.17742919921875, "cur_lr": 9.999999747378752e-05, "entropy": 2.755469799041748}, "adversary": {"vf_explained_var": 0.1220172718167305, "kl": 0.02910073846578598, "vf_loss": 327.5373840332031, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.07844974845647812, "total_loss": 327.4647521972656, "cur_lr": 9.999999747378752e-05, "entropy": 136.12034606933594}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 120000, "training_iteration": 6, "episode_reward_mean": 0.0, "time_total_s": 148.73950791358948, "episodes_this_iter": 44, "done": false, "episode_len_mean": 483.48, "date": "2018-12-11_04-18-50", "iterations_since_restore": 6}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 170.3917510509491, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535d9710>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -253.85563993752575, "av": 253.85563993752575}, "episode_reward_max": 0.0, "time_this_iter_s": 21.65224313735962, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 140000, "timestamp": 1544501952, "episodes_total": 432, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 206.726, "num_steps_sampled": 140000, "sample_time_ms": 15281.731, "grad_time_ms": 8743.438, "load_time_ms": 35.744, "num_steps_trained": 140000, "av": {"vf_explained_var": 0.18178902566432953, "kl": 0.010920479893684387, "vf_loss": 347.8123474121094, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.010831840336322784, "total_loss": 347.8017883300781, "cur_lr": 9.999999747378752e-05, "entropy": 2.7482478618621826}, "adversary": {"vf_explained_var": 0.1899166852235794, "kl": 0.029230045154690742, "vf_loss": 345.7337341308594, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.07807902991771698, "total_loss": 345.6614990234375, "cur_lr": 9.999999747378752e-05, "entropy": 136.08590698242188}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 140000, "training_iteration": 7, "episode_reward_mean": 0.0, "time_total_s": 170.3917510509491, "episodes_this_iter": 47, "done": false, "episode_len_mean": 484.22, "date": "2018-12-11_04-19-12", "iterations_since_restore": 7}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 191.40878558158875, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d69cfd0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -272.25462335952653, "av": 272.25462335952653}, "episode_reward_max": 0.0, "time_this_iter_s": 21.01703453063965, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 160000, "timestamp": 1544501973, "episodes_total": 474, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 181.905, "num_steps_sampled": 160000, "sample_time_ms": 14916.783, "grad_time_ms": 8722.032, "load_time_ms": 33.449, "num_steps_trained": 160000, "av": {"vf_explained_var": 0.07323091477155685, "kl": 0.009739787317812443, "vf_loss": 338.26123046875, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.010355164296925068, "total_loss": 338.25115966796875, "cur_lr": 9.999999747378752e-05, "entropy": 2.723040819168091}, "adversary": {"vf_explained_var": 0.06614536792039871, "kl": 0.03161977604031563, "vf_loss": 334.8099365234375, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08135116100311279, "total_loss": 334.7348937988281, "cur_lr": 9.999999747378752e-05, "entropy": 136.07574462890625}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 160000, "training_iteration": 8, "episode_reward_mean": 0.0, "time_total_s": 191.40878558158875, "episodes_this_iter": 42, "done": false, "episode_len_mean": 484.22, "date": "2018-12-11_04-19-33", "iterations_since_restore": 8}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 212.60055303573608, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535c4ac8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -330.1252679900908, "av": 330.1252679900908}, "episode_reward_max": 0.0, "time_this_iter_s": 21.19176745414734, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 180000, "timestamp": 1544501994, "episodes_total": 520, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 162.915, "num_steps_sampled": 180000, "sample_time_ms": 14652.971, "grad_time_ms": 8704.162, "load_time_ms": 31.649, "num_steps_trained": 180000, "av": {"vf_explained_var": 0.03519965335726738, "kl": 0.012304866686463356, "vf_loss": 354.15924072265625, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.009612166322767735, "total_loss": 354.1497802734375, "cur_lr": 9.999999747378752e-05, "entropy": 2.6828196048736572}, "adversary": {"vf_explained_var": 0.03166566789150238, "kl": 0.03266937658190727, "vf_loss": 354.0701904296875, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08153276145458221, "total_loss": 353.99517822265625, "cur_lr": 9.999999747378752e-05, "entropy": 136.0352783203125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 180000, "training_iteration": 9, "episode_reward_mean": 0.0, "time_total_s": 212.60055303573608, "episodes_this_iter": 46, "done": false, "episode_len_mean": 494.92, "date": "2018-12-11_04-19-54", "iterations_since_restore": 9}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 233.86776566505432, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d69c908>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -321.14018401067796, "av": 321.14018401067796}, "episode_reward_max": 0.0, "time_this_iter_s": 21.267212629318237, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 200000, "timestamp": 1544502016, "episodes_total": 564, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 147.448, "num_steps_sampled": 200000, "sample_time_ms": 14446.378, "grad_time_ms": 8694.26, "load_time_ms": 29.907, "num_steps_trained": 200000, "av": {"vf_explained_var": 0.05921294912695885, "kl": 0.012758967466652393, "vf_loss": 363.99761962890625, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.01234013307839632, "total_loss": 363.98541259765625, "cur_lr": 9.999999747378752e-05, "entropy": 2.685169219970703}, "adversary": {"vf_explained_var": 0.055698212236166, "kl": 0.030914558097720146, "vf_loss": 363.11419677734375, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08051400631666183, "total_loss": 363.0398254394531, "cur_lr": 9.999999747378752e-05, "entropy": 136.03768920898438}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 200000, "training_iteration": 10, "episode_reward_mean": 0.0, "time_total_s": 233.86776566505432, "episodes_this_iter": 44, "done": false, "episode_len_mean": 495.31, "date": "2018-12-11_04-20-16", "iterations_since_restore": 10}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 255.09347295761108, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535df198>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -312.8059817123589, "av": 312.8059817123589}, "episode_reward_max": 0.0, "time_this_iter_s": 21.225707292556763, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 220000, "timestamp": 1544502037, "episodes_total": 606, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.874, "num_steps_sampled": 220000, "sample_time_ms": 13500.873, "grad_time_ms": 8542.678, "load_time_ms": 15.041, "num_steps_trained": 220000, "av": {"vf_explained_var": 0.021497873589396477, "kl": 0.013386311009526253, "vf_loss": 346.40032958984375, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.012777075171470642, "total_loss": 346.38775634765625, "cur_lr": 9.999999747378752e-05, "entropy": 2.6587324142456055}, "adversary": {"vf_explained_var": 0.02245205268263817, "kl": 0.03255288302898407, "vf_loss": 346.7386779785156, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08157098293304443, "total_loss": 346.6636657714844, "cur_lr": 9.999999747378752e-05, "entropy": 135.99913024902344}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 220000, "training_iteration": 11, "episode_reward_mean": 0.0, "time_total_s": 255.09347295761108, "episodes_this_iter": 42, "done": false, "episode_len_mean": 500.0, "date": "2018-12-11_04-20-37", "iterations_since_restore": 11}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 276.8203446865082, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a4630>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -305.33770540224515, "av": 305.33770540224515}, "episode_reward_max": 0.0, "time_this_iter_s": 21.726871728897095, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 240000, "timestamp": 1544502059, "episodes_total": 655, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.769, "num_steps_sampled": 240000, "sample_time_ms": 13036.99, "grad_time_ms": 8513.343, "load_time_ms": 14.646, "num_steps_trained": 240000, "av": {"vf_explained_var": 0.01133646909147501, "kl": 0.013682818040251732, "vf_loss": 345.8992919921875, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.012033285573124886, "total_loss": 345.8874206542969, "cur_lr": 9.999999747378752e-05, "entropy": 2.6433398723602295}, "adversary": {"vf_explained_var": 0.01526670902967453, "kl": 0.03187105059623718, "vf_loss": 346.0486145019531, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08092134445905685, "total_loss": 345.97406005859375, "cur_lr": 9.999999747378752e-05, "entropy": 135.97268676757812}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 240000, "training_iteration": 12, "episode_reward_mean": 0.0, "time_total_s": 276.8203446865082, "episodes_this_iter": 49, "done": false, "episode_len_mean": 487.14, "date": "2018-12-11_04-20-59", "iterations_since_restore": 12}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 297.59587240219116, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a8940>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -306.23507969183333, "av": 306.23507969183333}, "episode_reward_max": 0.0, "time_this_iter_s": 20.775527715682983, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 260000, "timestamp": 1544502079, "episodes_total": 700, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.729, "num_steps_sampled": 260000, "sample_time_ms": 12767.518, "grad_time_ms": 8521.758, "load_time_ms": 14.464, "num_steps_trained": 260000, "av": {"vf_explained_var": 0.011815128847956657, "kl": 0.018070191144943237, "vf_loss": 322.7577819824219, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.01437358558177948, "total_loss": 322.74365234375, "cur_lr": 9.999999747378752e-05, "entropy": 2.6244804859161377}, "adversary": {"vf_explained_var": 0.011837632395327091, "kl": 0.033148642629384995, "vf_loss": 322.5838317871094, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08206532895565033, "total_loss": 322.5084228515625, "cur_lr": 9.999999747378752e-05, "entropy": 135.99169921875}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 260000, "training_iteration": 13, "episode_reward_mean": 0.0, "time_total_s": 297.59587240219116, "episodes_this_iter": 45, "done": false, "episode_len_mean": 482.54, "date": "2018-12-11_04-21-19", "iterations_since_restore": 13}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 318.8519594669342, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535dfb38>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -322.54452186023315, "av": 322.54452186023315}, "episode_reward_max": 0.0, "time_this_iter_s": 21.256087064743042, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 280000, "timestamp": 1544502101, "episodes_total": 742, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.99, "num_steps_sampled": 280000, "sample_time_ms": 12670.574, "grad_time_ms": 8539.439, "load_time_ms": 14.848, "num_steps_trained": 280000, "av": {"vf_explained_var": 0.0009898161515593529, "kl": 0.01846279762685299, "vf_loss": 355.8289794921875, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.012435749173164368, "total_loss": 355.8167419433594, "cur_lr": 9.999999747378752e-05, "entropy": 2.610886335372925}, "adversary": {"vf_explained_var": 0.0017991513013839722, "kl": 0.035615693777799606, "vf_loss": 355.5870056152344, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08473886549472809, "total_loss": 355.5093994140625, "cur_lr": 9.999999747378752e-05, "entropy": 136.00750732421875}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 280000, "training_iteration": 14, "episode_reward_mean": 0.0, "time_total_s": 318.8519594669342, "episodes_this_iter": 42, "done": false, "episode_len_mean": 491.42, "date": "2018-12-11_04-21-41", "iterations_since_restore": 14}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 340.3598539829254, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a4da0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -351.05185132246316, "av": 351.05185132246316}, "episode_reward_max": 0.0, "time_this_iter_s": 21.50789451599121, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 300000, "timestamp": 1544502122, "episodes_total": 788, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.991, "num_steps_sampled": 300000, "sample_time_ms": 12666.716, "grad_time_ms": 8559.703, "load_time_ms": 14.357, "num_steps_trained": 300000, "av": {"vf_explained_var": 0.004174761939793825, "kl": 0.015641335397958755, "vf_loss": 397.8514709472656, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.01310521550476551, "total_loss": 397.8385314941406, "cur_lr": 9.999999747378752e-05, "entropy": 2.613779306411743}, "adversary": {"vf_explained_var": 0.005069083999842405, "kl": 0.03554927557706833, "vf_loss": 397.6575927734375, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08386218547821045, "total_loss": 397.5808410644531, "cur_lr": 9.999999747378752e-05, "entropy": 135.9762420654297}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 300000, "training_iteration": 15, "episode_reward_mean": 0.0, "time_total_s": 340.3598539829254, "episodes_this_iter": 46, "done": false, "episode_len_mean": 498.81, "date": "2018-12-11_04-22-02", "iterations_since_restore": 15}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 361.64896726608276, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535df438>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -362.07900386366566, "av": 362.07900386366566}, "episode_reward_max": 0.0, "time_this_iter_s": 21.28911328315735, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 320000, "timestamp": 1544502143, "episodes_total": 831, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.02, "num_steps_sampled": 320000, "sample_time_ms": 12639.702, "grad_time_ms": 8568.144, "load_time_ms": 14.451, "num_steps_trained": 320000, "av": {"vf_explained_var": 0.015758294612169266, "kl": 0.015236024744808674, "vf_loss": 407.1650695800781, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.01249679271131754, "total_loss": 407.1528015136719, "cur_lr": 9.999999747378752e-05, "entropy": 2.59710431098938}, "adversary": {"vf_explained_var": 0.016402168199419975, "kl": 0.03489731624722481, "vf_loss": 406.7106018066406, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08347401022911072, "total_loss": 406.63409423828125, "cur_lr": 9.999999747378752e-05, "entropy": 135.97402954101562}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 320000, "training_iteration": 16, "episode_reward_mean": 0.0, "time_total_s": 361.64896726608276, "episodes_this_iter": 43, "done": false, "episode_len_mean": 498.81, "date": "2018-12-11_04-22-23", "iterations_since_restore": 16}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 383.23227643966675, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a8dd8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -357.5980185069652, "av": 357.5980185069652}, "episode_reward_max": 0.0, "time_this_iter_s": 21.583309173583984, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 340000, "timestamp": 1544502165, "episodes_total": 876, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.198, "num_steps_sampled": 340000, "sample_time_ms": 12596.855, "grad_time_ms": 8603.273, "load_time_ms": 14.605, "num_steps_trained": 340000, "av": {"vf_explained_var": 0.004701434634625912, "kl": 0.020916087552905083, "vf_loss": 386.6290588378906, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.012607850134372711, "total_loss": 386.61669921875, "cur_lr": 9.999999747378752e-05, "entropy": 2.605020523071289}, "adversary": {"vf_explained_var": 0.003611392807215452, "kl": 0.034546803683042526, "vf_loss": 385.8502197265625, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08069651573896408, "total_loss": 385.77642822265625, "cur_lr": 9.999999747378752e-05, "entropy": 135.97108459472656}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 340000, "training_iteration": 17, "episode_reward_mean": 0.0, "time_total_s": 383.23227643966675, "episodes_this_iter": 45, "done": false, "episode_len_mean": 495.99, "date": "2018-12-11_04-22-45", "iterations_since_restore": 17}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 404.6523289680481, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d69c240>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -363.2713527570584, "av": 363.2713527570584}, "episode_reward_max": 0.0, "time_this_iter_s": 21.420052528381348, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 360000, "timestamp": 1544502186, "episodes_total": 919, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.191, "num_steps_sampled": 360000, "sample_time_ms": 12579.265, "grad_time_ms": 8661.277, "load_time_ms": 14.114, "num_steps_trained": 360000, "av": {"vf_explained_var": 8.988991612568498e-05, "kl": 0.018500661477446556, "vf_loss": 389.1616516113281, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.014856197871267796, "total_loss": 389.14703369140625, "cur_lr": 9.999999747378752e-05, "entropy": 2.5795795917510986}, "adversary": {"vf_explained_var": 7.995275518624112e-05, "kl": 0.03502422198653221, "vf_loss": 388.7682800292969, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08350452035665512, "total_loss": 388.6917724609375, "cur_lr": 9.999999747378752e-05, "entropy": 136.05262756347656}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 360000, "training_iteration": 18, "episode_reward_mean": 0.0, "time_total_s": 404.6523289680481, "episodes_this_iter": 43, "done": false, "episode_len_mean": 495.99, "date": "2018-12-11_04-23-06", "iterations_since_restore": 18}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 426.5822079181671, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a4b70>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -363.44935513998337, "av": 363.44935513998337}, "episode_reward_max": 0.0, "time_this_iter_s": 21.92987895011902, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 380000, "timestamp": 1544502208, "episodes_total": 966, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.909, "num_steps_sampled": 380000, "sample_time_ms": 12613.764, "grad_time_ms": 8701.705, "load_time_ms": 13.53, "num_steps_trained": 380000, "av": {"vf_explained_var": 0.002715655602514744, "kl": 0.01684412732720375, "vf_loss": 405.52203369140625, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.012440181337296963, "total_loss": 405.50982666015625, "cur_lr": 9.999999747378752e-05, "entropy": 2.557448148727417}, "adversary": {"vf_explained_var": 0.0016821634490042925, "kl": 0.035160522907972336, "vf_loss": 405.4889831542969, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08365369588136673, "total_loss": 405.41241455078125, "cur_lr": 9.999999747378752e-05, "entropy": 135.9298095703125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 380000, "training_iteration": 19, "episode_reward_mean": 0.0, "time_total_s": 426.5822079181671, "episodes_this_iter": 47, "done": false, "episode_len_mean": 495.99, "date": "2018-12-11_04-23-28", "iterations_since_restore": 19}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 447.99816846847534, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a8588>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -373.67920038964667, "av": 373.67920038964667}, "episode_reward_max": 0.0, "time_this_iter_s": 21.415960550308228, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 400000, "timestamp": 1544502230, "episodes_total": 1009, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.897, "num_steps_sampled": 400000, "sample_time_ms": 12579.827, "grad_time_ms": 8749.334, "load_time_ms": 13.617, "num_steps_trained": 400000, "av": {"vf_explained_var": 0.0005022088880650699, "kl": 0.030898723751306534, "vf_loss": 430.41998291015625, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.015791194513440132, "total_loss": 430.404541015625, "cur_lr": 9.999999747378752e-05, "entropy": 2.557433605194092}, "adversary": {"vf_explained_var": 0.0006679835496470332, "kl": 0.03649964556097984, "vf_loss": 430.33587646484375, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08503085374832153, "total_loss": 430.2582092285156, "cur_lr": 9.999999747378752e-05, "entropy": 136.03785705566406}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 400000, "training_iteration": 20, "episode_reward_mean": 0.0, "time_total_s": 447.99816846847534, "episodes_this_iter": 43, "done": false, "episode_len_mean": 494.91, "date": "2018-12-11_04-23-50", "iterations_since_restore": 20}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 469.7012641429901, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535df6a0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -382.8505707696054, "av": 382.8505707696054}, "episode_reward_max": 0.0, "time_this_iter_s": 21.70309567451477, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 420000, "timestamp": 1544502252, "episodes_total": 1054, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.111, "num_steps_sampled": 420000, "sample_time_ms": 12566.702, "grad_time_ms": 8810.496, "load_time_ms": 13.604, "num_steps_trained": 420000, "av": {"vf_explained_var": 1.2424511623976287e-05, "kl": 0.025007352232933044, "vf_loss": 435.9949951171875, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.015243255533277988, "total_loss": 435.9801330566406, "cur_lr": 9.999999747378752e-05, "entropy": 2.5589189529418945}, "adversary": {"vf_explained_var": 5.929897815803997e-05, "kl": 0.037111155688762665, "vf_loss": 435.822509765625, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.0851965919137001, "total_loss": 435.74468994140625, "cur_lr": 9.999999747378752e-05, "entropy": 136.008056640625}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 420000, "training_iteration": 21, "episode_reward_mean": 0.0, "time_total_s": 469.7012641429901, "episodes_this_iter": 45, "done": false, "episode_len_mean": 496.72, "date": "2018-12-11_04-24-12", "iterations_since_restore": 21}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 491.5921313762665, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a8ef0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -379.0499190270265, "av": 379.0499190270265}, "episode_reward_max": 0.0, "time_this_iter_s": 21.890867233276367, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 440000, "timestamp": 1544502273, "episodes_total": 1099, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.97, "num_steps_sampled": 440000, "sample_time_ms": 12501.169, "grad_time_ms": 8893.411, "load_time_ms": 13.549, "num_steps_trained": 440000, "av": {"vf_explained_var": 0.001012527383863926, "kl": 0.019617272540926933, "vf_loss": 435.7766418457031, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.011958788149058819, "total_loss": 435.7648620605469, "cur_lr": 9.999999747378752e-05, "entropy": 2.570484161376953}, "adversary": {"vf_explained_var": 0.0008104240987449884, "kl": 0.03647679463028908, "vf_loss": 435.77313232421875, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08332208544015884, "total_loss": 435.6971130371094, "cur_lr": 9.999999747378752e-05, "entropy": 135.96218872070312}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 440000, "training_iteration": 22, "episode_reward_mean": 0.0, "time_total_s": 491.5921313762665, "episodes_this_iter": 45, "done": false, "episode_len_mean": 496.02, "date": "2018-12-11_04-24-33", "iterations_since_restore": 22}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 513.1234638690948, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535df940>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -392.9358722864378, "av": 392.9358722864378}, "episode_reward_max": 0.0, "time_this_iter_s": 21.53133249282837, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 460000, "timestamp": 1544502295, "episodes_total": 1142, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.862, "num_steps_sampled": 460000, "sample_time_ms": 12474.905, "grad_time_ms": 8994.164, "load_time_ms": 13.754, "num_steps_trained": 460000, "av": {"vf_explained_var": 1.9256884797869134e-07, "kl": 0.02804149128496647, "vf_loss": 453.49639892578125, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.012976383790373802, "total_loss": 453.4837341308594, "cur_lr": 9.999999747378752e-05, "entropy": 2.565156936645508}, "adversary": {"vf_explained_var": 8.934201105148531e-06, "kl": 0.03645392879843712, "vf_loss": 453.3099365234375, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.084127277135849, "total_loss": 453.2330627441406, "cur_lr": 9.999999747378752e-05, "entropy": 136.07559204101562}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 460000, "training_iteration": 23, "episode_reward_mean": 0.0, "time_total_s": 513.1234638690948, "episodes_this_iter": 43, "done": false, "episode_len_mean": 497.86, "date": "2018-12-11_04-24-55", "iterations_since_restore": 23}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 535.1051490306854, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d69c940>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -387.12794683504745, "av": 387.12794683504745}, "episode_reward_max": 0.0, "time_this_iter_s": 21.981685161590576, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 480000, "timestamp": 1544502317, "episodes_total": 1186, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.574, "num_steps_sampled": 480000, "sample_time_ms": 12508.672, "grad_time_ms": 9034.397, "load_time_ms": 13.663, "num_steps_trained": 480000, "av": {"vf_explained_var": 1.1504461099320906e-06, "kl": 0.023140115663409233, "vf_loss": 481.17547607421875, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.01180583517998457, "total_loss": 481.1639099121094, "cur_lr": 9.999999747378752e-05, "entropy": 2.52529239654541}, "adversary": {"vf_explained_var": 0.0003148890391457826, "kl": 0.03674345463514328, "vf_loss": 480.7249450683594, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08358196169137955, "total_loss": 480.64874267578125, "cur_lr": 9.999999747378752e-05, "entropy": 135.93112182617188}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 480000, "training_iteration": 24, "episode_reward_mean": 0.0, "time_total_s": 535.1051490306854, "episodes_this_iter": 44, "done": false, "episode_len_mean": 494.21, "date": "2018-12-11_04-25-17", "iterations_since_restore": 24}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 556.5057215690613, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6b7940>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -378.29122051602803, "av": 378.29122051602803}, "episode_reward_max": 0.0, "time_this_iter_s": 21.400572538375854, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 500000, "timestamp": 1544502338, "episodes_total": 1231, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.427, "num_steps_sampled": 500000, "sample_time_ms": 12459.227, "grad_time_ms": 9072.554, "load_time_ms": 14.186, "num_steps_trained": 500000, "av": {"vf_explained_var": 7.344744062720565e-06, "kl": 0.025625428184866905, "vf_loss": 449.7019348144531, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.012709436938166618, "total_loss": 449.68951416015625, "cur_lr": 9.999999747378752e-05, "entropy": 2.566927433013916}, "adversary": {"vf_explained_var": 0.0009159873588941991, "kl": 0.036635447293519974, "vf_loss": 449.7579040527344, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.0838053897023201, "total_loss": 449.6814880371094, "cur_lr": 9.999999747378752e-05, "entropy": 135.98753356933594}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 500000, "training_iteration": 25, "episode_reward_mean": 0.0, "time_total_s": 556.5057215690613, "episodes_this_iter": 45, "done": false, "episode_len_mean": 495.99, "date": "2018-12-11_04-25-38", "iterations_since_restore": 25}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 577.7931673526764, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a4d68>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -386.3971411653987, "av": 386.3971411653987}, "episode_reward_max": 0.0, "time_this_iter_s": 21.287445783615112, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 520000, "timestamp": 1544502360, "episodes_total": 1274, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.507, "num_steps_sampled": 520000, "sample_time_ms": 12423.265, "grad_time_ms": 9108.261, "load_time_ms": 14.414, "num_steps_trained": 520000, "av": {"vf_explained_var": -1.184451292601807e-08, "kl": 0.0366792194545269, "vf_loss": 518.2623901367188, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.01598430424928665, "total_loss": 518.2470092773438, "cur_lr": 9.999999747378752e-05, "entropy": 2.529320001602173}, "adversary": {"vf_explained_var": 0.00058763223933056, "kl": 0.036222465336322784, "vf_loss": 516.9260864257812, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08139956742525101, "total_loss": 516.8519287109375, "cur_lr": 9.999999747378752e-05, "entropy": 136.08863830566406}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 520000, "training_iteration": 26, "episode_reward_mean": 0.0, "time_total_s": 577.7931673526764, "episodes_this_iter": 43, "done": false, "episode_len_mean": 498.16, "date": "2018-12-11_04-26-00", "iterations_since_restore": 26}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 599.7498078346252, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6b7048>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -375.7509494063579, "av": 375.7509494063579}, "episode_reward_max": 0.0, "time_this_iter_s": 21.956640481948853, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 540000, "timestamp": 1544502382, "episodes_total": 1321, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.358, "num_steps_sampled": 540000, "sample_time_ms": 12447.813, "grad_time_ms": 9120.764, "load_time_ms": 14.707, "num_steps_trained": 540000, "av": {"vf_explained_var": 0.003726090071722865, "kl": 0.03154202178120613, "vf_loss": 514.7420043945312, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.013161842711269855, "total_loss": 514.7291870117188, "cur_lr": 9.999999747378752e-05, "entropy": 2.5893070697784424}, "adversary": {"vf_explained_var": 0.004310715012252331, "kl": 0.03799683600664139, "vf_loss": 513.8867797851562, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08725971728563309, "total_loss": 513.8070678710938, "cur_lr": 9.999999747378752e-05, "entropy": 135.9354705810547}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 540000, "training_iteration": 27, "episode_reward_mean": 0.0, "time_total_s": 599.7498078346252, "episodes_this_iter": 47, "done": false, "episode_len_mean": 494.22, "date": "2018-12-11_04-26-22", "iterations_since_restore": 27}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 621.292546749115, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c6400>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -363.23604747803626, "av": 363.23604747803626}, "episode_reward_max": 0.0, "time_this_iter_s": 21.542738914489746, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 560000, "timestamp": 1544502403, "episodes_total": 1366, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.399, "num_steps_sampled": 560000, "sample_time_ms": 12484.404, "grad_time_ms": 9096.037, "load_time_ms": 14.733, "num_steps_trained": 560000, "av": {"vf_explained_var": 0.00015184321091510355, "kl": 0.028104448691010475, "vf_loss": 520.2295532226562, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.012776849791407585, "total_loss": 520.2171630859375, "cur_lr": 9.999999747378752e-05, "entropy": 2.5753557682037354}, "adversary": {"vf_explained_var": 0.005508424248546362, "kl": 0.03768441081047058, "vf_loss": 519.2291870117188, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.0842679962515831, "total_loss": 519.1524658203125, "cur_lr": 9.999999747378752e-05, "entropy": 135.945556640625}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 560000, "training_iteration": 28, "episode_reward_mean": 0.0, "time_total_s": 621.292546749115, "episodes_this_iter": 45, "done": false, "episode_len_mean": 489.52, "date": "2018-12-11_04-26-43", "iterations_since_restore": 28}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 642.6130950450897, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535aa9e8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -365.2883832870069, "av": 365.2883832870069}, "episode_reward_max": 0.0, "time_this_iter_s": 21.32054829597473, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 580000, "timestamp": 1544502425, "episodes_total": 1410, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.393, "num_steps_sampled": 580000, "sample_time_ms": 12423.628, "grad_time_ms": 9095.038, "load_time_ms": 14.845, "num_steps_trained": 580000, "av": {"vf_explained_var": -0.00010747710621217266, "kl": 0.031350746750831604, "vf_loss": 551.1968994140625, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.01416367944329977, "total_loss": 551.1831665039062, "cur_lr": 9.999999747378752e-05, "entropy": 2.583698034286499}, "adversary": {"vf_explained_var": 0.004244295414537191, "kl": 0.038019221276044846, "vf_loss": 548.4794921875, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08527649194002151, "total_loss": 548.40185546875, "cur_lr": 9.999999747378752e-05, "entropy": 135.97007751464844}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 580000, "training_iteration": 29, "episode_reward_mean": 0.0, "time_total_s": 642.6130950450897, "episodes_this_iter": 44, "done": false, "episode_len_mean": 487.35, "date": "2018-12-11_04-27-05", "iterations_since_restore": 29}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 664.2169923782349, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a4b00>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -372.65771527208943, "av": 372.65771527208943}, "episode_reward_max": 0.0, "time_this_iter_s": 21.60389733314514, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 600000, "timestamp": 1544502446, "episodes_total": 1456, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.479, "num_steps_sampled": 600000, "sample_time_ms": 12432.691, "grad_time_ms": 9104.402, "load_time_ms": 15.054, "num_steps_trained": 600000, "av": {"vf_explained_var": 0.00041736470302566886, "kl": 0.041894394904375076, "vf_loss": 573.7674560546875, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.017305808141827583, "total_loss": 573.7506713867188, "cur_lr": 9.999999747378752e-05, "entropy": 2.615126848220825}, "adversary": {"vf_explained_var": 0.011435132473707199, "kl": 0.03741469234228134, "vf_loss": 571.3778686523438, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08440203219652176, "total_loss": 571.3009643554688, "cur_lr": 9.999999747378752e-05, "entropy": 135.85435485839844}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 600000, "training_iteration": 30, "episode_reward_mean": 0.0, "time_total_s": 664.2169923782349, "episodes_this_iter": 46, "done": false, "episode_len_mean": 489.34, "date": "2018-12-11_04-27-26", "iterations_since_restore": 30}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 685.8347334861755, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c6390>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -364.417002757308, "av": 364.417002757308}, "episode_reward_max": 0.0, "time_this_iter_s": 21.617741107940674, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 620000, "timestamp": 1544502468, "episodes_total": 1498, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.252, "num_steps_sampled": 620000, "sample_time_ms": 12420.218, "grad_time_ms": 9106.702, "load_time_ms": 15.748, "num_steps_trained": 620000, "av": {"vf_explained_var": 0.011555759236216545, "kl": 0.026782292872667313, "vf_loss": 590.2459716796875, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.012118960730731487, "total_loss": 590.2343139648438, "cur_lr": 9.999999747378752e-05, "entropy": 2.64459490776062}, "adversary": {"vf_explained_var": 0.017948098480701447, "kl": 0.03802111744880676, "vf_loss": 586.3317260742188, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08462798595428467, "total_loss": 586.2547607421875, "cur_lr": 9.999999747378752e-05, "entropy": 135.91455078125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 620000, "training_iteration": 31, "episode_reward_mean": 0.0, "time_total_s": 685.8347334861755, "episodes_this_iter": 42, "done": false, "episode_len_mean": 489.73, "date": "2018-12-11_04-27-48", "iterations_since_restore": 31}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 707.5121111869812, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a85f8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -368.23782345168934, "av": 368.23782345168934}, "episode_reward_max": 0.0, "time_this_iter_s": 21.677377700805664, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 640000, "timestamp": 1544502490, "episodes_total": 1546, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.381, "num_steps_sampled": 640000, "sample_time_ms": 12417.04, "grad_time_ms": 9089.327, "load_time_ms": 15.634, "num_steps_trained": 640000, "av": {"vf_explained_var": 0.0026659430004656315, "kl": 0.019417796283960342, "vf_loss": 622.26416015625, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.009533383883535862, "total_loss": 622.2550048828125, "cur_lr": 9.999999747378752e-05, "entropy": 2.630504608154297}, "adversary": {"vf_explained_var": 0.00869405921548605, "kl": 0.03878873959183693, "vf_loss": 621.0570068359375, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08430425077676773, "total_loss": 620.9804077148438, "cur_lr": 9.999999747378752e-05, "entropy": 135.9671173095703}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 640000, "training_iteration": 32, "episode_reward_mean": 0.0, "time_total_s": 707.5121111869812, "episodes_this_iter": 48, "done": false, "episode_len_mean": 490.13, "date": "2018-12-11_04-28-10", "iterations_since_restore": 32}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 729.1487510204315, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a8a58>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -382.9214411948015, "av": 382.9214411948015}, "episode_reward_max": 0.0, "time_this_iter_s": 21.636639833450317, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 660000, "timestamp": 1544502511, "episodes_total": 1590, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.515, "num_steps_sampled": 660000, "sample_time_ms": 12457.752, "grad_time_ms": 9058.72, "load_time_ms": 15.793, "num_steps_trained": 660000, "av": {"vf_explained_var": 0.001738527207635343, "kl": 0.02479533851146698, "vf_loss": 650.5332641601562, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.01021015364676714, "total_loss": 650.5234375, "cur_lr": 9.999999747378752e-05, "entropy": 2.6018474102020264}, "adversary": {"vf_explained_var": 0.006142644677311182, "kl": 0.03752985969185829, "vf_loss": 646.5809936523438, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08371704071760178, "total_loss": 646.5046997070312, "cur_lr": 9.999999747378752e-05, "entropy": 135.9659423828125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 660000, "training_iteration": 33, "episode_reward_mean": 0.0, "time_total_s": 729.1487510204315, "episodes_this_iter": 44, "done": false, "episode_len_mean": 489.19, "date": "2018-12-11_04-28-31", "iterations_since_restore": 33}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 750.649870634079, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535dfe10>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -383.41616770285043, "av": 383.41616770285043}, "episode_reward_max": 0.0, "time_this_iter_s": 21.50111961364746, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 680000, "timestamp": 1544502533, "episodes_total": 1635, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.729, "num_steps_sampled": 680000, "sample_time_ms": 12404.292, "grad_time_ms": 9063.513, "load_time_ms": 15.307, "num_steps_trained": 680000, "av": {"vf_explained_var": 0.008200142532587051, "kl": 0.03172082081437111, "vf_loss": 659.4329833984375, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.012844464741647243, "total_loss": 659.4207153320312, "cur_lr": 9.999999747378752e-05, "entropy": 2.6073453426361084}, "adversary": {"vf_explained_var": 0.04182646423578262, "kl": 0.039377421140670776, "vf_loss": 648.291259765625, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.0859852209687233, "total_loss": 648.213134765625, "cur_lr": 9.999999747378752e-05, "entropy": 135.9532012939453}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 680000, "training_iteration": 34, "episode_reward_mean": 0.0, "time_total_s": 750.649870634079, "episodes_this_iter": 45, "done": false, "episode_len_mean": 489.89, "date": "2018-12-11_04-28-53", "iterations_since_restore": 34}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 771.7734024524689, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c6e80>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -376.8355465453065, "av": 376.8355465453065}, "episode_reward_max": 0.0, "time_this_iter_s": 21.123531818389893, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 700000, "timestamp": 1544502554, "episodes_total": 1678, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.903, "num_steps_sampled": 700000, "sample_time_ms": 12387.916, "grad_time_ms": 9053.22, "load_time_ms": 14.837, "num_steps_trained": 700000, "av": {"vf_explained_var": 0.010834946297109127, "kl": 0.023458417505025864, "vf_loss": 682.200927734375, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.010894647799432278, "total_loss": 682.1904907226562, "cur_lr": 9.999999747378752e-05, "entropy": 2.6430962085723877}, "adversary": {"vf_explained_var": 0.09392212331295013, "kl": 0.03911283612251282, "vf_loss": 648.8809814453125, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08465055376291275, "total_loss": 648.8040771484375, "cur_lr": 9.999999747378752e-05, "entropy": 135.927001953125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 700000, "training_iteration": 35, "episode_reward_mean": 0.0, "time_total_s": 771.7734024524689, "episodes_this_iter": 43, "done": false, "episode_len_mean": 492.42, "date": "2018-12-11_04-29-14", "iterations_since_restore": 35}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 793.5750410556793, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535dfa58>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -372.9027725192698, "av": 372.9027725192698}, "episode_reward_max": 0.0, "time_this_iter_s": 21.80163860321045, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 720000, "timestamp": 1544502576, "episodes_total": 1723, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.958, "num_steps_sampled": 720000, "sample_time_ms": 12436.923, "grad_time_ms": 9056.233, "load_time_ms": 15.06, "num_steps_trained": 720000, "av": {"vf_explained_var": 0.0034587164409458637, "kl": 0.028462009504437447, "vf_loss": 707.1867065429688, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.012414923869073391, "total_loss": 707.1748046875, "cur_lr": 9.999999747378752e-05, "entropy": 2.61625075340271}, "adversary": {"vf_explained_var": 0.11577750742435455, "kl": 0.03740302473306656, "vf_loss": 637.6643676757812, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.0827077329158783, "total_loss": 637.5891723632812, "cur_lr": 9.999999747378752e-05, "entropy": 136.02394104003906}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 720000, "training_iteration": 36, "episode_reward_mean": 0.0, "time_total_s": 793.5750410556793, "episodes_this_iter": 45, "done": false, "episode_len_mean": 499.56, "date": "2018-12-11_04-29-36", "iterations_since_restore": 36}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 815.0401258468628, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c69e8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -377.81434522402145, "av": 377.81434522402145}, "episode_reward_max": 0.0, "time_this_iter_s": 21.46508479118347, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 740000, "timestamp": 1544502597, "episodes_total": 1768, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.997, "num_steps_sampled": 740000, "sample_time_ms": 12384.366, "grad_time_ms": 9059.243, "load_time_ms": 14.998, "num_steps_trained": 740000, "av": {"vf_explained_var": 0.00515481922775507, "kl": 0.027455586940050125, "vf_loss": 692.3346557617188, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.0124941635876894, "total_loss": 692.3226928710938, "cur_lr": 9.999999747378752e-05, "entropy": 2.5573766231536865}, "adversary": {"vf_explained_var": 0.1097932979464531, "kl": 0.03820902109146118, "vf_loss": 620.6492309570312, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08250849694013596, "total_loss": 620.5743408203125, "cur_lr": 9.999999747378752e-05, "entropy": 136.03561401367188}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 740000, "training_iteration": 37, "episode_reward_mean": 0.0, "time_total_s": 815.0401258468628, "episodes_this_iter": 45, "done": false, "episode_len_mean": 500.0, "date": "2018-12-11_04-29-57", "iterations_since_restore": 37}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 836.5063700675964, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a86a0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -378.2618040111731, "av": 378.2618040111731}, "episode_reward_max": 0.0, "time_this_iter_s": 21.466244220733643, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 760000, "timestamp": 1544502619, "episodes_total": 1812, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.003, "num_steps_sampled": 760000, "sample_time_ms": 12361.083, "grad_time_ms": 9075.53, "load_time_ms": 15.251, "num_steps_trained": 760000, "av": {"vf_explained_var": 0.012322666123509407, "kl": 0.030938001349568367, "vf_loss": 706.3021240234375, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.010254595428705215, "total_loss": 706.2923583984375, "cur_lr": 9.999999747378752e-05, "entropy": 2.608985424041748}, "adversary": {"vf_explained_var": 0.12148759514093399, "kl": 0.037683360278606415, "vf_loss": 626.6100463867188, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08279839903116226, "total_loss": 626.5348510742188, "cur_lr": 9.999999747378752e-05, "entropy": 135.9607391357422}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 760000, "training_iteration": 38, "episode_reward_mean": 0.0, "time_total_s": 836.5063700675964, "episodes_this_iter": 44, "done": false, "episode_len_mean": 500.0, "date": "2018-12-11_04-30-19", "iterations_since_restore": 38}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 858.0196034908295, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6b7fd0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -373.14913412673843, "av": 373.14913412673843}, "episode_reward_max": 0.0, "time_this_iter_s": 21.513233423233032, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 780000, "timestamp": 1544502640, "episodes_total": 1854, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.089, "num_steps_sampled": 780000, "sample_time_ms": 12377.004, "grad_time_ms": 9079.499, "load_time_ms": 15.393, "num_steps_trained": 780000, "av": {"vf_explained_var": 0.007073321379721165, "kl": 0.027243556454777718, "vf_loss": 759.733154296875, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.011074181646108627, "total_loss": 759.72265625, "cur_lr": 9.999999747378752e-05, "entropy": 2.617194175720215}, "adversary": {"vf_explained_var": 0.11675778776407242, "kl": 0.0378999300301075, "vf_loss": 675.2466430664062, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08184134215116501, "total_loss": 675.17236328125, "cur_lr": 9.999999747378752e-05, "entropy": 135.853759765625}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 780000, "training_iteration": 39, "episode_reward_mean": 0.0, "time_total_s": 858.0196034908295, "episodes_this_iter": 42, "done": false, "episode_len_mean": 496.03, "date": "2018-12-11_04-30-40", "iterations_since_restore": 39}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 879.9450194835663, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6aab38>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -372.69254811208054, "av": 372.69254811208054}, "episode_reward_max": 0.0, "time_this_iter_s": 21.925415992736816, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 800000, "timestamp": 1544502662, "episodes_total": 1901, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.119, "num_steps_sampled": 800000, "sample_time_ms": 12437.812, "grad_time_ms": 9051.223, "load_time_ms": 14.972, "num_steps_trained": 800000, "av": {"vf_explained_var": 0.04320854693651199, "kl": 0.028998106718063354, "vf_loss": 842.9873046875, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.010133241303265095, "total_loss": 842.977783203125, "cur_lr": 9.999999747378752e-05, "entropy": 2.57043194770813}, "adversary": {"vf_explained_var": 0.11038662493228912, "kl": 0.03881329670548439, "vf_loss": 766.7959594726562, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08434513211250305, "total_loss": 766.7194213867188, "cur_lr": 9.999999747378752e-05, "entropy": 135.8687744140625}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 800000, "training_iteration": 40, "episode_reward_mean": 0.0, "time_total_s": 879.9450194835663, "episodes_this_iter": 47, "done": false, "episode_len_mean": 487.34, "date": "2018-12-11_04-31-02", "iterations_since_restore": 40}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 901.6233718395233, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6cc4a8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -370.8752114444141, "av": 370.8752114444141}, "episode_reward_max": 0.0, "time_this_iter_s": 21.67835235595703, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 820000, "timestamp": 1544502684, "episodes_total": 1946, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.168, "num_steps_sampled": 820000, "sample_time_ms": 12440.299, "grad_time_ms": 9055.373, "load_time_ms": 14.86, "num_steps_trained": 820000, "av": {"vf_explained_var": 0.10686567425727844, "kl": 0.0344853475689888, "vf_loss": 802.3110961914062, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.010112577117979527, "total_loss": 802.3016967773438, "cur_lr": 9.999999747378752e-05, "entropy": 2.628034830093384}, "adversary": {"vf_explained_var": 0.1412002146244049, "kl": 0.03718129172921181, "vf_loss": 751.9298095703125, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08299165964126587, "total_loss": 751.854248046875, "cur_lr": 9.999999747378752e-05, "entropy": 135.84024047851562}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 820000, "training_iteration": 41, "episode_reward_mean": 0.0, "time_total_s": 901.6233718395233, "episodes_this_iter": 45, "done": false, "episode_len_mean": 491.31, "date": "2018-12-11_04-31-24", "iterations_since_restore": 41}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 923.2497236728668, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6d8470>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -362.66831072542163, "av": 362.66831072542163}, "episode_reward_max": 0.0, "time_this_iter_s": 21.626351833343506, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 840000, "timestamp": 1544502705, "episodes_total": 1990, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.126, "num_steps_sampled": 840000, "sample_time_ms": 12413.935, "grad_time_ms": 9075.432, "load_time_ms": 14.897, "num_steps_trained": 840000, "av": {"vf_explained_var": 0.1275387853384018, "kl": 0.025065068155527115, "vf_loss": 773.0467529296875, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.010263090953230858, "total_loss": 773.0369873046875, "cur_lr": 9.999999747378752e-05, "entropy": 2.721855401992798}, "adversary": {"vf_explained_var": 0.14938634634017944, "kl": 0.037168703973293304, "vf_loss": 742.8324584960938, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08332406729459763, "total_loss": 742.7565307617188, "cur_lr": 9.999999747378752e-05, "entropy": 135.9059295654297}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 840000, "training_iteration": 42, "episode_reward_mean": 0.0, "time_total_s": 923.2497236728668, "episodes_this_iter": 44, "done": false, "episode_len_mean": 496.42, "date": "2018-12-11_04-31-45", "iterations_since_restore": 42}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 944.8850002288818, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6cc828>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -358.78429229676, "av": 358.78429229676}, "episode_reward_max": 0.0, "time_this_iter_s": 21.635276556015015, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 860000, "timestamp": 1544502727, "episodes_total": 2036, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.154, "num_steps_sampled": 860000, "sample_time_ms": 12412.543, "grad_time_ms": 9077.171, "load_time_ms": 14.711, "num_steps_trained": 860000, "av": {"vf_explained_var": 0.1116676852107048, "kl": 0.026217851787805557, "vf_loss": 772.5601806640625, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.010522718541324139, "total_loss": 772.5501708984375, "cur_lr": 9.999999747378752e-05, "entropy": 2.608665943145752}, "adversary": {"vf_explained_var": 0.13338692486286163, "kl": 0.037725336849689484, "vf_loss": 750.6014404296875, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.0834968164563179, "total_loss": 750.5254516601562, "cur_lr": 9.999999747378752e-05, "entropy": 135.84451293945312}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 860000, "training_iteration": 43, "episode_reward_mean": 0.0, "time_total_s": 944.8850002288818, "episodes_this_iter": 46, "done": false, "episode_len_mean": 489.99, "date": "2018-12-11_04-32-07", "iterations_since_restore": 43}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 966.2545959949493, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535df630>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -367.5083698651661, "av": 367.5083698651661}, "episode_reward_max": 0.0, "time_this_iter_s": 21.369595766067505, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 880000, "timestamp": 1544502749, "episodes_total": 2082, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.054, "num_steps_sampled": 880000, "sample_time_ms": 12414.831, "grad_time_ms": 9062.081, "load_time_ms": 15.057, "num_steps_trained": 880000, "av": {"vf_explained_var": 0.1423719972372055, "kl": 0.027960218489170074, "vf_loss": 747.4756469726562, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.009461415000259876, "total_loss": 747.4666748046875, "cur_lr": 9.999999747378752e-05, "entropy": 2.698979616165161}, "adversary": {"vf_explained_var": 0.15375058352947235, "kl": 0.038387175649404526, "vf_loss": 732.0921630859375, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08373434096574783, "total_loss": 732.0160522460938, "cur_lr": 9.999999747378752e-05, "entropy": 135.79600524902344}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 880000, "training_iteration": 44, "episode_reward_mean": 0.0, "time_total_s": 966.2545959949493, "episodes_this_iter": 46, "done": false, "episode_len_mean": 488.93, "date": "2018-12-11_04-32-29", "iterations_since_restore": 44}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 988.0628051757812, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c8128>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -365.28795594625444, "av": 365.28795594625444}, "episode_reward_max": 0.0, "time_this_iter_s": 21.80820918083191, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 900000, "timestamp": 1544502770, "episodes_total": 2124, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.065, "num_steps_sampled": 900000, "sample_time_ms": 12460.343, "grad_time_ms": 9084.049, "load_time_ms": 14.958, "num_steps_trained": 900000, "av": {"vf_explained_var": 0.14542202651500702, "kl": 0.029178086668252945, "vf_loss": 784.5327758789062, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.010022700764238834, "total_loss": 784.5232543945312, "cur_lr": 9.999999747378752e-05, "entropy": 2.684499979019165}, "adversary": {"vf_explained_var": 0.15630368888378143, "kl": 0.039376989006996155, "vf_loss": 773.0707397460938, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08327237516641617, "total_loss": 772.9953002929688, "cur_lr": 9.999999747378752e-05, "entropy": 135.68917846679688}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 900000, "training_iteration": 45, "episode_reward_mean": 0.0, "time_total_s": 988.0628051757812, "episodes_this_iter": 42, "done": false, "episode_len_mean": 495.36, "date": "2018-12-11_04-32-50", "iterations_since_restore": 45}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1009.8667349815369, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c6be0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -350.5259043910585, "av": 350.5259043910585}, "episode_reward_max": 0.0, "time_this_iter_s": 21.803929805755615, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 920000, "timestamp": 1544502792, "episodes_total": 2170, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.993, "num_steps_sampled": 920000, "sample_time_ms": 12468.938, "grad_time_ms": 9074.361, "load_time_ms": 14.714, "num_steps_trained": 920000, "av": {"vf_explained_var": 0.1404133290052414, "kl": 0.026682306081056595, "vf_loss": 778.4652099609375, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.007082446478307247, "total_loss": 778.4586181640625, "cur_lr": 9.999999747378752e-05, "entropy": 2.671295404434204}, "adversary": {"vf_explained_var": 0.15048101544380188, "kl": 0.04001137986779213, "vf_loss": 768.2554321289062, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.08498646318912506, "total_loss": 768.1784057617188, "cur_lr": 9.999999747378752e-05, "entropy": 135.6045684814453}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 920000, "training_iteration": 46, "episode_reward_mean": 0.0, "time_total_s": 1009.8667349815369, "episodes_this_iter": 46, "done": false, "episode_len_mean": 498.66, "date": "2018-12-11_04-33-12", "iterations_since_restore": 46}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1031.3225400447845, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6cc3c8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -347.7653464859187, "av": 347.7653464859187}, "episode_reward_max": 0.0, "time_this_iter_s": 21.45580506324768, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 940000, "timestamp": 1544502814, "episodes_total": 2215, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.926, "num_steps_sampled": 940000, "sample_time_ms": 12447.085, "grad_time_ms": 9096.215, "load_time_ms": 14.588, "num_steps_trained": 940000, "av": {"vf_explained_var": 0.15297770500183105, "kl": 0.04488252475857735, "vf_loss": 846.9086303710938, "cur_kl_coeff": 0.01874999888241291, "policy_loss": -0.008829613216221333, "total_loss": 846.9007568359375, "cur_lr": 9.999999747378752e-05, "entropy": 2.7485926151275635}, "adversary": {"vf_explained_var": 0.15954971313476562, "kl": 0.034725360572338104, "vf_loss": 837.9485473632812, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.082053542137146, "total_loss": 837.8768310546875, "cur_lr": 9.999999747378752e-05, "entropy": 135.64183044433594}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 940000, "training_iteration": 47, "episode_reward_mean": 0.0, "time_total_s": 1031.3225400447845, "episodes_this_iter": 45, "done": false, "episode_len_mean": 494.46, "date": "2018-12-11_04-33-34", "iterations_since_restore": 47}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1053.1492750644684, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6ccf28>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -339.0920975022187, "av": 339.0920975022187}, "episode_reward_max": 0.0, "time_this_iter_s": 21.826735019683838, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 960000, "timestamp": 1544502835, "episodes_total": 2259, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.814, "num_steps_sampled": 960000, "sample_time_ms": 12455.801, "grad_time_ms": 9123.942, "load_time_ms": 14.467, "num_steps_trained": 960000, "av": {"vf_explained_var": 0.15232951939105988, "kl": 0.029570506885647774, "vf_loss": 884.6985473632812, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.009376643225550652, "total_loss": 884.6898803710938, "cur_lr": 9.999999747378752e-05, "entropy": 2.704465389251709}, "adversary": {"vf_explained_var": 0.16049446165561676, "kl": 0.0349486842751503, "vf_loss": 876.1295776367188, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.0835103765130043, "total_loss": 876.0565185546875, "cur_lr": 9.999999747378752e-05, "entropy": 135.71141052246094}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 960000, "training_iteration": 48, "episode_reward_mean": 0.0, "time_total_s": 1053.1492750644684, "episodes_this_iter": 44, "done": false, "episode_len_mean": 488.16, "date": "2018-12-11_04-33-55", "iterations_since_restore": 48}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1074.8268551826477, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f5141871e48>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -348.81566474227094, "av": 348.81566474227094}, "episode_reward_max": 0.0, "time_this_iter_s": 21.67758011817932, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 980000, "timestamp": 1544502857, "episodes_total": 2303, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.854, "num_steps_sampled": 980000, "sample_time_ms": 12460.072, "grad_time_ms": 9135.583, "load_time_ms": 14.527, "num_steps_trained": 980000, "av": {"vf_explained_var": 0.1562017798423767, "kl": 0.026605740189552307, "vf_loss": 859.9716796875, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.008141235448420048, "total_loss": 859.9641723632812, "cur_lr": 9.999999747378752e-05, "entropy": 2.6644434928894043}, "adversary": {"vf_explained_var": 0.15872220695018768, "kl": 0.034366853535175323, "vf_loss": 855.6812744140625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.0833841860294342, "total_loss": 855.608154296875, "cur_lr": 9.999999747378752e-05, "entropy": 135.5860137939453}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 980000, "training_iteration": 49, "episode_reward_mean": 0.0, "time_total_s": 1074.8268551826477, "episodes_this_iter": 44, "done": false, "episode_len_mean": 490.89, "date": "2018-12-11_04-34-17", "iterations_since_restore": 49}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1096.4616129398346, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d69c908>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -358.4375968430416, "av": 358.4375968430416}, "episode_reward_max": 0.0, "time_this_iter_s": 21.63475775718689, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1000000, "timestamp": 1544502879, "episodes_total": 2347, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.926, "num_steps_sampled": 1000000, "sample_time_ms": 12410.795, "grad_time_ms": 9155.782, "load_time_ms": 14.902, "num_steps_trained": 1000000, "av": {"vf_explained_var": 0.14912265539169312, "kl": 0.031195946037769318, "vf_loss": 863.828125, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.0065981317311525345, "total_loss": 863.822509765625, "cur_lr": 9.999999747378752e-05, "entropy": 2.656639575958252}, "adversary": {"vf_explained_var": 0.15057995915412903, "kl": 0.034804098308086395, "vf_loss": 858.6534423828125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08096635341644287, "total_loss": 858.5830078125, "cur_lr": 9.999999747378752e-05, "entropy": 135.59461975097656}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1000000, "training_iteration": 50, "episode_reward_mean": 0.0, "time_total_s": 1096.4616129398346, "episodes_this_iter": 44, "done": false, "episode_len_mean": 496.74, "date": "2018-12-11_04-34-39", "iterations_since_restore": 50}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1117.9309890270233, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535dfd68>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -360.5275079452284, "av": 360.5275079452284}, "episode_reward_max": 0.0, "time_this_iter_s": 21.46937608718872, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1020000, "timestamp": 1544502900, "episodes_total": 2391, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.908, "num_steps_sampled": 1020000, "sample_time_ms": 12405.297, "grad_time_ms": 9141.168, "load_time_ms": 14.335, "num_steps_trained": 1020000, "av": {"vf_explained_var": 0.15981239080429077, "kl": 0.02331276424229145, "vf_loss": 893.4429321289062, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.0066620721481740475, "total_loss": 893.4368896484375, "cur_lr": 9.999999747378752e-05, "entropy": 2.7100746631622314}, "adversary": {"vf_explained_var": 0.16441933810710907, "kl": 0.03499874100089073, "vf_loss": 887.39892578125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08252958208322525, "total_loss": 887.326904296875, "cur_lr": 9.999999747378752e-05, "entropy": 135.5517120361328}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1020000, "training_iteration": 51, "episode_reward_mean": 0.0, "time_total_s": 1117.9309890270233, "episodes_this_iter": 44, "done": false, "episode_len_mean": 500.0, "date": "2018-12-11_04-35-00", "iterations_since_restore": 51}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1139.327737569809, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c85c0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -349.12534754628985, "av": 349.12534754628985}, "episode_reward_max": 0.0, "time_this_iter_s": 21.396748542785645, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1040000, "timestamp": 1544502922, "episodes_total": 2435, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.961, "num_steps_sampled": 1040000, "sample_time_ms": 12400.686, "grad_time_ms": 9123.3, "load_time_ms": 14.943, "num_steps_trained": 1040000, "av": {"vf_explained_var": 0.1563749611377716, "kl": 0.02720687910914421, "vf_loss": 918.9457397460938, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.007485797628760338, "total_loss": 918.9390869140625, "cur_lr": 9.999999747378752e-05, "entropy": 2.704456090927124}, "adversary": {"vf_explained_var": 0.15260693430900574, "kl": 0.03475809469819069, "vf_loss": 915.2948608398438, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08225194364786148, "total_loss": 915.2230834960938, "cur_lr": 9.999999747378752e-05, "entropy": 135.4011688232422}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1040000, "training_iteration": 52, "episode_reward_mean": 0.0, "time_total_s": 1139.327737569809, "episodes_this_iter": 44, "done": false, "episode_len_mean": 497.44, "date": "2018-12-11_04-35-22", "iterations_since_restore": 52}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1160.6580030918121, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f5141df3320>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -357.8297537482786, "av": 357.8297537482786}, "episode_reward_max": 0.0, "time_this_iter_s": 21.330265522003174, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1060000, "timestamp": 1544502943, "episodes_total": 2480, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.788, "num_steps_sampled": 1060000, "sample_time_ms": 12355.578, "grad_time_ms": 9136.27, "load_time_ms": 16.32, "num_steps_trained": 1060000, "av": {"vf_explained_var": 0.1500641405582428, "kl": 0.0314643494784832, "vf_loss": 937.709716796875, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.007023483514785767, "total_loss": 937.70361328125, "cur_lr": 9.999999747378752e-05, "entropy": 2.652358293533325}, "adversary": {"vf_explained_var": 0.15124382078647614, "kl": 0.03539085388183594, "vf_loss": 932.3916015625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08203311264514923, "total_loss": 932.3203125, "cur_lr": 9.999999747378752e-05, "entropy": 135.44461059570312}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1060000, "training_iteration": 53, "episode_reward_mean": 0.0, "time_total_s": 1160.6580030918121, "episodes_this_iter": 45, "done": false, "episode_len_mean": 497.44, "date": "2018-12-11_04-35-43", "iterations_since_restore": 53}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1182.3387713432312, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a4588>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -356.0620363554863, "av": 356.0620363554863}, "episode_reward_max": 0.0, "time_this_iter_s": 21.680768251419067, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1080000, "timestamp": 1544502965, "episodes_total": 2525, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.905, "num_steps_sampled": 1080000, "sample_time_ms": 12367.257, "grad_time_ms": 9155.837, "load_time_ms": 16.097, "num_steps_trained": 1080000, "av": {"vf_explained_var": 0.1345899999141693, "kl": 0.033602986484766006, "vf_loss": 972.2584228515625, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.00714064622297883, "total_loss": 972.2520751953125, "cur_lr": 9.999999747378752e-05, "entropy": 2.6449739933013916}, "adversary": {"vf_explained_var": 0.13332854211330414, "kl": 0.03460901975631714, "vf_loss": 971.54638671875, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.0819048061966896, "total_loss": 971.4747314453125, "cur_lr": 9.999999747378752e-05, "entropy": 135.34657287597656}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1080000, "training_iteration": 54, "episode_reward_mean": 0.0, "time_total_s": 1182.3387713432312, "episodes_this_iter": 45, "done": false, "episode_len_mean": 495.58, "date": "2018-12-11_04-36-05", "iterations_since_restore": 54}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1203.9198060035706, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c6d68>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -351.5956248725321, "av": 351.5956248725321}, "episode_reward_max": 0.0, "time_this_iter_s": 21.581034660339355, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1100000, "timestamp": 1544502986, "episodes_total": 2568, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.945, "num_steps_sampled": 1100000, "sample_time_ms": 12342.685, "grad_time_ms": 9158.128, "load_time_ms": 16.417, "num_steps_trained": 1100000, "av": {"vf_explained_var": 0.17271530628204346, "kl": 0.024365052580833435, "vf_loss": 1013.813720703125, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.006608678959310055, "total_loss": 1013.8078002929688, "cur_lr": 9.999999747378752e-05, "entropy": 2.693315267562866}, "adversary": {"vf_explained_var": 0.17623403668403625, "kl": 0.03326497972011566, "vf_loss": 1008.6726684570312, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.07892654836177826, "total_loss": 1008.603759765625, "cur_lr": 9.999999747378752e-05, "entropy": 135.47117614746094}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1100000, "training_iteration": 55, "episode_reward_mean": 0.0, "time_total_s": 1203.9198060035706, "episodes_this_iter": 43, "done": false, "episode_len_mean": 494.63, "date": "2018-12-11_04-36-26", "iterations_since_restore": 55}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1225.2223517894745, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d69c240>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -350.02069167906774, "av": 350.02069167906774}, "episode_reward_max": 0.0, "time_this_iter_s": 21.30254578590393, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1120000, "timestamp": 1544503008, "episodes_total": 2612, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.95, "num_steps_sampled": 1120000, "sample_time_ms": 12303.12, "grad_time_ms": 9148.919, "load_time_ms": 16.044, "num_steps_trained": 1120000, "av": {"vf_explained_var": 0.14833228290081024, "kl": 0.030888263136148453, "vf_loss": 982.4887084960938, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.008650311268866062, "total_loss": 982.4807739257812, "cur_lr": 9.999999747378752e-05, "entropy": 2.681870698928833}, "adversary": {"vf_explained_var": 0.15085147321224213, "kl": 0.03571281209588051, "vf_loss": 984.5581665039062, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08256792277097702, "total_loss": 984.4863891601562, "cur_lr": 9.999999747378752e-05, "entropy": 135.37998962402344}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1120000, "training_iteration": 56, "episode_reward_mean": 0.0, "time_total_s": 1225.2223517894745, "episodes_this_iter": 44, "done": false, "episode_len_mean": 497.23, "date": "2018-12-11_04-36-48", "iterations_since_restore": 56}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1247.1813883781433, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d69cba8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -349.90091497844537, "av": 349.90091497844537}, "episode_reward_max": 0.0, "time_this_iter_s": 21.959036588668823, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1140000, "timestamp": 1544503030, "episodes_total": 2659, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.924, "num_steps_sampled": 1140000, "sample_time_ms": 12362.745, "grad_time_ms": 9139.905, "load_time_ms": 16.012, "num_steps_trained": 1140000, "av": {"vf_explained_var": 0.14126259088516235, "kl": 0.030635155737400055, "vf_loss": 985.990478515625, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.008666845969855785, "total_loss": 985.9827880859375, "cur_lr": 9.999999747378752e-05, "entropy": 2.621722936630249}, "adversary": {"vf_explained_var": 0.1418360322713852, "kl": 0.034300778061151505, "vf_loss": 987.4745483398438, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08065095543861389, "total_loss": 987.4043579101562, "cur_lr": 9.999999747378752e-05, "entropy": 135.39784240722656}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1140000, "training_iteration": 57, "episode_reward_mean": 0.0, "time_total_s": 1247.1813883781433, "episodes_this_iter": 47, "done": false, "episode_len_mean": 493.34, "date": "2018-12-11_04-37-10", "iterations_since_restore": 57}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1268.369460105896, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406c02e8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -374.7528712644269, "av": 374.7528712644269}, "episode_reward_max": 0.0, "time_this_iter_s": 21.188071727752686, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1160000, "timestamp": 1544503051, "episodes_total": 2700, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.162, "num_steps_sampled": 1160000, "sample_time_ms": 12303.406, "grad_time_ms": 9135.095, "load_time_ms": 15.933, "num_steps_trained": 1160000, "av": {"vf_explained_var": 0.17346477508544922, "kl": 0.030796727165579796, "vf_loss": 1020.6690673828125, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.007441380061209202, "total_loss": 1020.6626586914062, "cur_lr": 9.999999747378752e-05, "entropy": 2.7248270511627197}, "adversary": {"vf_explained_var": 0.17203089594841003, "kl": 0.03446275740861893, "vf_loss": 1021.67919921875, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.07979671657085419, "total_loss": 1021.6098022460938, "cur_lr": 9.999999747378752e-05, "entropy": 135.5480194091797}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1160000, "training_iteration": 58, "episode_reward_mean": 0.0, "time_total_s": 1268.369460105896, "episodes_this_iter": 41, "done": false, "episode_len_mean": 496.11, "date": "2018-12-11_04-37-31", "iterations_since_restore": 58}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1289.8631982803345, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6b76a0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -356.9694815581623, "av": 356.9694815581623}, "episode_reward_max": 0.0, "time_this_iter_s": 21.493738174438477, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1180000, "timestamp": 1544503072, "episodes_total": 2745, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.205, "num_steps_sampled": 1180000, "sample_time_ms": 12288.099, "grad_time_ms": 9131.559, "load_time_ms": 15.747, "num_steps_trained": 1180000, "av": {"vf_explained_var": 0.15610820055007935, "kl": 0.029825598001480103, "vf_loss": 1093.5963134765625, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.00788794457912445, "total_loss": 1093.58935546875, "cur_lr": 9.999999747378752e-05, "entropy": 2.7514891624450684}, "adversary": {"vf_explained_var": 0.15816329419612885, "kl": 0.035846490412950516, "vf_loss": 1091.3858642578125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.0817590281367302, "total_loss": 1091.314697265625, "cur_lr": 9.999999747378752e-05, "entropy": 135.41671752929688}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1180000, "training_iteration": 59, "episode_reward_mean": 0.0, "time_total_s": 1289.8631982803345, "episodes_this_iter": 45, "done": false, "episode_len_mean": 496.11, "date": "2018-12-11_04-37-52", "iterations_since_restore": 59}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1311.296602487564, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6b7780>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -354.3474170328103, "av": 354.3474170328103}, "episode_reward_max": 0.0, "time_this_iter_s": 21.433404207229614, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1200000, "timestamp": 1544503094, "episodes_total": 2792, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.145, "num_steps_sampled": 1200000, "sample_time_ms": 12259.235, "grad_time_ms": 9141.059, "load_time_ms": 15.222, "num_steps_trained": 1200000, "av": {"vf_explained_var": 0.14176711440086365, "kl": 0.03022182360291481, "vf_loss": 1101.871337890625, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.006778854411095381, "total_loss": 1101.8653564453125, "cur_lr": 9.999999747378752e-05, "entropy": 2.643584728240967}, "adversary": {"vf_explained_var": 0.14565157890319824, "kl": 0.03396680951118469, "vf_loss": 1097.356201171875, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.07985788583755493, "total_loss": 1097.2862548828125, "cur_lr": 9.999999747378752e-05, "entropy": 135.5448455810547}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1200000, "training_iteration": 60, "episode_reward_mean": 0.0, "time_total_s": 1311.296602487564, "episodes_this_iter": 47, "done": false, "episode_len_mean": 498.58, "date": "2018-12-11_04-38-14", "iterations_since_restore": 60}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1332.8494844436646, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f5141871b70>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -340.8541628448731, "av": 340.8541628448731}, "episode_reward_max": 0.0, "time_this_iter_s": 21.552881956100464, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1220000, "timestamp": 1544503115, "episodes_total": 2834, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.144, "num_steps_sampled": 1220000, "sample_time_ms": 12277.925, "grad_time_ms": 9130.262, "load_time_ms": 15.441, "num_steps_trained": 1220000, "av": {"vf_explained_var": 0.15146149694919586, "kl": 0.03603457286953926, "vf_loss": 1088.6285400390625, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.006417742930352688, "total_loss": 1088.6231689453125, "cur_lr": 9.999999747378752e-05, "entropy": 2.7116096019744873}, "adversary": {"vf_explained_var": 0.15848934650421143, "kl": 0.035564765334129333, "vf_loss": 1085.4425048828125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08302086591720581, "total_loss": 1085.3702392578125, "cur_lr": 9.999999747378752e-05, "entropy": 135.38772583007812}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1220000, "training_iteration": 61, "episode_reward_mean": 0.0, "time_total_s": 1332.8494844436646, "episodes_this_iter": 42, "done": false, "episode_len_mean": 496.75, "date": "2018-12-11_04-38-35", "iterations_since_restore": 61}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1354.1624875068665, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6aaef0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -331.5010151014234, "av": 331.5010151014234}, "episode_reward_max": 0.0, "time_this_iter_s": 21.313003063201904, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1240000, "timestamp": 1544503137, "episodes_total": 2880, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.086, "num_steps_sampled": 1240000, "sample_time_ms": 12263.957, "grad_time_ms": 9136.115, "load_time_ms": 14.991, "num_steps_trained": 1240000, "av": {"vf_explained_var": 0.13936370611190796, "kl": 0.033317387104034424, "vf_loss": 1121.2459716796875, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.006446074228733778, "total_loss": 1121.2406005859375, "cur_lr": 9.999999747378752e-05, "entropy": 2.7770936489105225}, "adversary": {"vf_explained_var": 0.1446983814239502, "kl": 0.035365648567676544, "vf_loss": 1115.179443359375, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08213981240987778, "total_loss": 1115.1077880859375, "cur_lr": 9.999999747378752e-05, "entropy": 135.31935119628906}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1240000, "training_iteration": 62, "episode_reward_mean": 0.0, "time_total_s": 1354.1624875068665, "episodes_this_iter": 46, "done": false, "episode_len_mean": 495.57, "date": "2018-12-11_04-38-57", "iterations_since_restore": 62}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1375.6927375793457, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406c0470>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -338.6357935897972, "av": 338.6357935897972}, "episode_reward_max": 0.0, "time_this_iter_s": 21.530250072479248, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1260000, "timestamp": 1544503158, "episodes_total": 2923, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.338, "num_steps_sampled": 1260000, "sample_time_ms": 12279.473, "grad_time_ms": 9141.698, "load_time_ms": 13.248, "num_steps_trained": 1260000, "av": {"vf_explained_var": 0.15269114077091217, "kl": 0.03234992176294327, "vf_loss": 1143.706787109375, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.006945457309484482, "total_loss": 1143.70068359375, "cur_lr": 9.999999747378752e-05, "entropy": 2.721043586730957}, "adversary": {"vf_explained_var": 0.15186229348182678, "kl": 0.03441370278596878, "vf_loss": 1135.919189453125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08122699707746506, "total_loss": 1135.84814453125, "cur_lr": 9.999999747378752e-05, "entropy": 135.2987060546875}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1260000, "training_iteration": 63, "episode_reward_mean": 0.0, "time_total_s": 1375.6927375793457, "episodes_this_iter": 43, "done": false, "episode_len_mean": 495.81, "date": "2018-12-11_04-39-18", "iterations_since_restore": 63}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1397.3001232147217, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6cc2e8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -353.8999480073544, "av": 353.8999480073544}, "episode_reward_max": 0.0, "time_this_iter_s": 21.607385635375977, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1280000, "timestamp": 1544503180, "episodes_total": 2966, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.145, "num_steps_sampled": 1280000, "sample_time_ms": 12276.655, "grad_time_ms": 9136.816, "load_time_ms": 13.097, "num_steps_trained": 1280000, "av": {"vf_explained_var": 0.13472549617290497, "kl": 0.029330309480428696, "vf_loss": 1208.485107421875, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.007890000008046627, "total_loss": 1208.47802734375, "cur_lr": 9.999999747378752e-05, "entropy": 2.604576587677002}, "adversary": {"vf_explained_var": 0.13731831312179565, "kl": 0.036469925194978714, "vf_loss": 1203.2291259765625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08220136165618896, "total_loss": 1203.157958984375, "cur_lr": 9.999999747378752e-05, "entropy": 135.43223571777344}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1280000, "training_iteration": 64, "episode_reward_mean": 0.0, "time_total_s": 1397.3001232147217, "episodes_this_iter": 43, "done": false, "episode_len_mean": 498.41, "date": "2018-12-11_04-39-40", "iterations_since_restore": 64}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1418.613692998886, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535df358>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -353.4933853277118, "av": 353.4933853277118}, "episode_reward_max": 0.0, "time_this_iter_s": 21.31356978416443, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1300000, "timestamp": 1544503201, "episodes_total": 3012, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.114, "num_steps_sampled": 1300000, "sample_time_ms": 12253.771, "grad_time_ms": 9131.954, "load_time_ms": 13.053, "num_steps_trained": 1300000, "av": {"vf_explained_var": 0.1410662978887558, "kl": 0.03330596163868904, "vf_loss": 1231.20068359375, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.008104509674012661, "total_loss": 1231.193603515625, "cur_lr": 9.999999747378752e-05, "entropy": 2.6705594062805176}, "adversary": {"vf_explained_var": 0.14364421367645264, "kl": 0.03599541634321213, "vf_loss": 1228.2586669921875, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08323130011558533, "total_loss": 1228.186279296875, "cur_lr": 9.999999747378752e-05, "entropy": 135.37594604492188}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1300000, "training_iteration": 65, "episode_reward_mean": 0.0, "time_total_s": 1418.613692998886, "episodes_this_iter": 46, "done": false, "episode_len_mean": 497.51, "date": "2018-12-11_04-40-01", "iterations_since_restore": 65}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1439.822280406952, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6aa898>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -343.38350223708244, "av": 343.38350223708244}, "episode_reward_max": 0.0, "time_this_iter_s": 21.208587408065796, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1320000, "timestamp": 1544503222, "episodes_total": 3056, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.131, "num_steps_sampled": 1320000, "sample_time_ms": 12222.288, "grad_time_ms": 9153.123, "load_time_ms": 13.432, "num_steps_trained": 1320000, "av": {"vf_explained_var": 0.139921635389328, "kl": 0.03249834105372429, "vf_loss": 1243.248046875, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.007893036119639874, "total_loss": 1243.240966796875, "cur_lr": 9.999999747378752e-05, "entropy": 2.7099156379699707}, "adversary": {"vf_explained_var": 0.1383872926235199, "kl": 0.03672472760081291, "vf_loss": 1241.1934814453125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08327240496873856, "total_loss": 1241.121337890625, "cur_lr": 9.999999747378752e-05, "entropy": 135.3012237548828}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1320000, "training_iteration": 66, "episode_reward_mean": 0.0, "time_total_s": 1439.822280406952, "episodes_this_iter": 44, "done": false, "episode_len_mean": 497.51, "date": "2018-12-11_04-40-22", "iterations_since_restore": 66}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1461.0519053936005, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b21d0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -347.26472638956244, "av": 347.26472638956244}, "episode_reward_max": 0.0, "time_this_iter_s": 21.22962498664856, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1340000, "timestamp": 1544503244, "episodes_total": 3102, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.184, "num_steps_sampled": 1340000, "sample_time_ms": 12150.855, "grad_time_ms": 9152.016, "load_time_ms": 13.18, "num_steps_trained": 1340000, "av": {"vf_explained_var": 0.1551903486251831, "kl": 0.030674487352371216, "vf_loss": 1259.0654296875, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.007626817561686039, "total_loss": 1259.05859375, "cur_lr": 9.999999747378752e-05, "entropy": 2.7488853931427}, "adversary": {"vf_explained_var": 0.15677791833877563, "kl": 0.035881537944078445, "vf_loss": 1266.5653076171875, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08326727151870728, "total_loss": 1266.4927978515625, "cur_lr": 9.999999747378752e-05, "entropy": 135.2195587158203}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1340000, "training_iteration": 67, "episode_reward_mean": 0.0, "time_total_s": 1461.0519053936005, "episodes_this_iter": 46, "done": false, "episode_len_mean": 498.87, "date": "2018-12-11_04-40-44", "iterations_since_restore": 67}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1482.2431499958038, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b8860>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -330.86187828571946, "av": 330.86187828571946}, "episode_reward_max": 0.0, "time_this_iter_s": 21.19124460220337, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1360000, "timestamp": 1544503265, "episodes_total": 3144, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 9.035, "num_steps_sampled": 1360000, "sample_time_ms": 12157.468, "grad_time_ms": 9145.431, "load_time_ms": 13.272, "num_steps_trained": 1360000, "av": {"vf_explained_var": 0.15411381423473358, "kl": 0.03602343797683716, "vf_loss": 1221.478515625, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.006993426941335201, "total_loss": 1221.4725341796875, "cur_lr": 9.999999747378752e-05, "entropy": 2.7176969051361084}, "adversary": {"vf_explained_var": 0.14905670285224915, "kl": 0.03606322035193443, "vf_loss": 1222.5986328125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08261778950691223, "total_loss": 1222.52685546875, "cur_lr": 9.999999747378752e-05, "entropy": 135.08116149902344}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1360000, "training_iteration": 68, "episode_reward_mean": 0.0, "time_total_s": 1482.2431499958038, "episodes_this_iter": 42, "done": false, "episode_len_mean": 496.93, "date": "2018-12-11_04-41-05", "iterations_since_restore": 68}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1503.5892577171326, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a8358>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -322.2927182878968, "av": 322.2927182878968}, "episode_reward_max": 0.0, "time_this_iter_s": 21.346107721328735, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1380000, "timestamp": 1544503286, "episodes_total": 3188, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.866, "num_steps_sampled": 1380000, "sample_time_ms": 12129.54, "grad_time_ms": 9159.13, "load_time_ms": 13.53, "num_steps_trained": 1380000, "av": {"vf_explained_var": 0.14971862733364105, "kl": 0.02814522758126259, "vf_loss": 1235.913818359375, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.007588322274386883, "total_loss": 1235.9071044921875, "cur_lr": 9.999999747378752e-05, "entropy": 2.723654270172119}, "adversary": {"vf_explained_var": 0.1482243835926056, "kl": 0.03602086007595062, "vf_loss": 1236.8363037109375, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08313807845115662, "total_loss": 1236.7637939453125, "cur_lr": 9.999999747378752e-05, "entropy": 135.12448120117188}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1380000, "training_iteration": 69, "episode_reward_mean": 0.0, "time_total_s": 1503.5892577171326, "episodes_this_iter": 44, "done": false, "episode_len_mean": 496.8, "date": "2018-12-11_04-41-26", "iterations_since_restore": 69}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1525.0714707374573, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6cc6a0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -332.091480931849, "av": 332.091480931849}, "episode_reward_max": 0.0, "time_this_iter_s": 21.482213020324707, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1400000, "timestamp": 1544503308, "episodes_total": 3232, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.825, "num_steps_sampled": 1400000, "sample_time_ms": 12136.837, "grad_time_ms": 9156.359, "load_time_ms": 13.469, "num_steps_trained": 1400000, "av": {"vf_explained_var": 0.13775324821472168, "kl": 0.04568466916680336, "vf_loss": 1205.620361328125, "cur_kl_coeff": 0.02812500111758709, "policy_loss": -0.006510104052722454, "total_loss": 1205.6153564453125, "cur_lr": 9.999999747378752e-05, "entropy": 2.757946252822876}, "adversary": {"vf_explained_var": 0.13717788457870483, "kl": 0.035466268658638, "vf_loss": 1221.1336669921875, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08263807743787766, "total_loss": 1221.0616455078125, "cur_lr": 9.999999747378752e-05, "entropy": 135.03350830078125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1400000, "training_iteration": 70, "episode_reward_mean": 0.0, "time_total_s": 1525.0714707374573, "episodes_this_iter": 44, "done": false, "episode_len_mean": 498.47, "date": "2018-12-11_04-41-48", "iterations_since_restore": 70}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1546.4130718708038, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b2400>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -336.3892156814376, "av": 336.3892156814376}, "episode_reward_max": 0.0, "time_this_iter_s": 21.341601133346558, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1420000, "timestamp": 1544503329, "episodes_total": 3279, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.838, "num_steps_sampled": 1420000, "sample_time_ms": 12087.887, "grad_time_ms": 9184.242, "load_time_ms": 13.402, "num_steps_trained": 1420000, "av": {"vf_explained_var": 0.14861620962619781, "kl": 0.03149404376745224, "vf_loss": 1283.561767578125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009380493313074112, "total_loss": 1283.5537109375, "cur_lr": 9.999999747378752e-05, "entropy": 2.696712017059326}, "adversary": {"vf_explained_var": 0.146372452378273, "kl": 0.0354921892285347, "vf_loss": 1303.1998291015625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08276788145303726, "total_loss": 1303.127685546875, "cur_lr": 9.999999747378752e-05, "entropy": 135.16172790527344}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1420000, "training_iteration": 71, "episode_reward_mean": 0.0, "time_total_s": 1546.4130718708038, "episodes_this_iter": 47, "done": false, "episode_len_mean": 492.12, "date": "2018-12-11_04-42-09", "iterations_since_restore": 71}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1568.0832965373993, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d69cf60>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -333.0359319310745, "av": 333.0359319310745}, "episode_reward_max": 0.0, "time_this_iter_s": 21.67022466659546, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1440000, "timestamp": 1544503351, "episodes_total": 3323, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.918, "num_steps_sampled": 1440000, "sample_time_ms": 12142.929, "grad_time_ms": 9164.594, "load_time_ms": 13.417, "num_steps_trained": 1440000, "av": {"vf_explained_var": 0.14790163934230804, "kl": 0.03265482187271118, "vf_loss": 1402.8270263671875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009694429114460945, "total_loss": 1402.8187255859375, "cur_lr": 9.999999747378752e-05, "entropy": 2.670060396194458}, "adversary": {"vf_explained_var": 0.14540953934192657, "kl": 0.036450520157814026, "vf_loss": 1419.0968017578125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08514232933521271, "total_loss": 1419.0224609375, "cur_lr": 9.999999747378752e-05, "entropy": 134.9324951171875}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1440000, "training_iteration": 72, "episode_reward_mean": 0.0, "time_total_s": 1568.0832965373993, "episodes_this_iter": 44, "done": false, "episode_len_mean": 486.12, "date": "2018-12-11_04-42-31", "iterations_since_restore": 72}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1589.383069038391, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a8da0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -338.6859974343237, "av": 338.6859974343237}, "episode_reward_max": 0.0, "time_this_iter_s": 21.29977250099182, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1460000, "timestamp": 1544503372, "episodes_total": 3366, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.789, "num_steps_sampled": 1460000, "sample_time_ms": 12122.794, "grad_time_ms": 9162.848, "load_time_ms": 13.54, "num_steps_trained": 1460000, "av": {"vf_explained_var": 0.14983440935611725, "kl": 0.02847953699529171, "vf_loss": 1316.1590576171875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008519433438777924, "total_loss": 1316.15185546875, "cur_lr": 9.999999747378752e-05, "entropy": 2.7187626361846924}, "adversary": {"vf_explained_var": 0.14722540974617004, "kl": 0.036079443991184235, "vf_loss": 1336.9127197265625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08357040584087372, "total_loss": 1336.840087890625, "cur_lr": 9.999999747378752e-05, "entropy": 134.9925079345703}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1460000, "training_iteration": 73, "episode_reward_mean": 0.0, "time_total_s": 1589.383069038391, "episodes_this_iter": 43, "done": false, "episode_len_mean": 489.81, "date": "2018-12-11_04-42-52", "iterations_since_restore": 73}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1611.2328026294708, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a4c18>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -351.63937919160315, "av": 351.63937919160315}, "episode_reward_max": 0.0, "time_this_iter_s": 21.849733591079712, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1480000, "timestamp": 1544503394, "episodes_total": 3413, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.946, "num_steps_sampled": 1480000, "sample_time_ms": 12121.814, "grad_time_ms": 9187.998, "load_time_ms": 13.529, "num_steps_trained": 1480000, "av": {"vf_explained_var": 0.12641122937202454, "kl": 0.03294850140810013, "vf_loss": 1382.553466796875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009938301518559456, "total_loss": 1382.544921875, "cur_lr": 9.999999747378752e-05, "entropy": 2.636803388595581}, "adversary": {"vf_explained_var": 0.12604188919067383, "kl": 0.03684115409851074, "vf_loss": 1394.4521484375, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08337907493114471, "total_loss": 1394.3797607421875, "cur_lr": 9.999999747378752e-05, "entropy": 134.9648895263672}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1480000, "training_iteration": 74, "episode_reward_mean": 0.0, "time_total_s": 1611.2328026294708, "episodes_this_iter": 47, "done": false, "episode_len_mean": 492.45, "date": "2018-12-11_04-43-14", "iterations_since_restore": 74}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1632.7441499233246, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a8f60>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -332.56441187094146, "av": 332.56441187094146}, "episode_reward_max": 0.0, "time_this_iter_s": 21.51134729385376, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1500000, "timestamp": 1544503416, "episodes_total": 3458, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.873, "num_steps_sampled": 1500000, "sample_time_ms": 12147.589, "grad_time_ms": 9183.843, "load_time_ms": 13.377, "num_steps_trained": 1500000, "av": {"vf_explained_var": 0.14366514980793, "kl": 0.029444828629493713, "vf_loss": 1312.1541748046875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.006938109640032053, "total_loss": 1312.1484375, "cur_lr": 9.999999747378752e-05, "entropy": 2.75020694732666}, "adversary": {"vf_explained_var": 0.14004312455654144, "kl": 0.036631450057029724, "vf_loss": 1323.3431396484375, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08487057685852051, "total_loss": 1323.2694091796875, "cur_lr": 9.999999747378752e-05, "entropy": 134.88320922851562}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1500000, "training_iteration": 75, "episode_reward_mean": 0.0, "time_total_s": 1632.7441499233246, "episodes_this_iter": 45, "done": false, "episode_len_mean": 491.24, "date": "2018-12-11_04-43-36", "iterations_since_restore": 75}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1654.2525746822357, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6ccba8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -335.496374511311, "av": 335.496374511311}, "episode_reward_max": 0.0, "time_this_iter_s": 21.508424758911133, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1520000, "timestamp": 1544503437, "episodes_total": 3499, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.807, "num_steps_sampled": 1520000, "sample_time_ms": 12167.082, "grad_time_ms": 9194.428, "load_time_ms": 13.376, "num_steps_trained": 1520000, "av": {"vf_explained_var": 0.14309024810791016, "kl": 0.03175929933786392, "vf_loss": 1282.7530517578125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.006811012979596853, "total_loss": 1282.7476806640625, "cur_lr": 9.999999747378752e-05, "entropy": 2.696329355239868}, "adversary": {"vf_explained_var": 0.1458374559879303, "kl": 0.03671383112668991, "vf_loss": 1301.511962890625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08462931215763092, "total_loss": 1301.4383544921875, "cur_lr": 9.999999747378752e-05, "entropy": 134.9712677001953}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1520000, "training_iteration": 76, "episode_reward_mean": 0.0, "time_total_s": 1654.2525746822357, "episodes_this_iter": 41, "done": false, "episode_len_mean": 491.19, "date": "2018-12-11_04-43-57", "iterations_since_restore": 76}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1675.7651677131653, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6aa8d0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -351.0839925994857, "av": 351.0839925994857}, "episode_reward_max": 0.0, "time_this_iter_s": 21.512593030929565, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1540000, "timestamp": 1544503459, "episodes_total": 3547, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.808, "num_steps_sampled": 1540000, "sample_time_ms": 12192.974, "grad_time_ms": 9195.712, "load_time_ms": 13.757, "num_steps_trained": 1540000, "av": {"vf_explained_var": 0.12734688818454742, "kl": 0.033847227692604065, "vf_loss": 1301.07275390625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.006649724207818508, "total_loss": 1301.0675048828125, "cur_lr": 9.999999747378752e-05, "entropy": 2.7453205585479736}, "adversary": {"vf_explained_var": 0.12552417814731598, "kl": 0.037848785519599915, "vf_loss": 1316.7205810546875, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08490356057882309, "total_loss": 1316.6470947265625, "cur_lr": 9.999999747378752e-05, "entropy": 134.8287811279297}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1540000, "training_iteration": 77, "episode_reward_mean": 0.0, "time_total_s": 1675.7651677131653, "episodes_this_iter": 48, "done": false, "episode_len_mean": 498.0, "date": "2018-12-11_04-44-19", "iterations_since_restore": 77}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1697.2534222602844, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b2c88>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -347.721674366203, "av": 347.721674366203}, "episode_reward_max": 0.0, "time_this_iter_s": 21.48825454711914, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1560000, "timestamp": 1544503480, "episodes_total": 3590, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.71, "num_steps_sampled": 1560000, "sample_time_ms": 12215.156, "grad_time_ms": 9202.586, "load_time_ms": 13.819, "num_steps_trained": 1560000, "av": {"vf_explained_var": 0.14928069710731506, "kl": 0.02869896963238716, "vf_loss": 1290.525390625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.007958784699440002, "total_loss": 1290.5186767578125, "cur_lr": 9.999999747378752e-05, "entropy": 2.7187023162841797}, "adversary": {"vf_explained_var": 0.14777112007141113, "kl": 0.037127792835235596, "vf_loss": 1307.4810791015625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08520184457302094, "total_loss": 1307.4071044921875, "cur_lr": 9.999999747378752e-05, "entropy": 134.8671112060547}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1560000, "training_iteration": 78, "episode_reward_mean": 0.0, "time_total_s": 1697.2534222602844, "episodes_this_iter": 43, "done": false, "episode_len_mean": 498.45, "date": "2018-12-11_04-44-40", "iterations_since_restore": 78}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1718.6792652606964, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c6f28>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -343.14546962000367, "av": 343.14546962000367}, "episode_reward_max": 0.0, "time_this_iter_s": 21.425843000411987, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1580000, "timestamp": 1544503502, "episodes_total": 3634, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.858, "num_steps_sampled": 1580000, "sample_time_ms": 12240.018, "grad_time_ms": 9185.914, "load_time_ms": 13.494, "num_steps_trained": 1580000, "av": {"vf_explained_var": 0.13845084607601166, "kl": 0.030205445364117622, "vf_loss": 1290.6031494140625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.006592709105461836, "total_loss": 1290.597900390625, "cur_lr": 9.999999747378752e-05, "entropy": 2.746570110321045}, "adversary": {"vf_explained_var": 0.13642629981040955, "kl": 0.036654870957136154, "vf_loss": 1311.90869140625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.0846518874168396, "total_loss": 1311.8350830078125, "cur_lr": 9.999999747378752e-05, "entropy": 134.82745361328125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1580000, "training_iteration": 79, "episode_reward_mean": 0.0, "time_total_s": 1718.6792652606964, "episodes_this_iter": 44, "done": false, "episode_len_mean": 498.45, "date": "2018-12-11_04-45-02", "iterations_since_restore": 79}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1739.7827081680298, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c8470>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -351.86678314481264, "av": 351.86678314481264}, "episode_reward_max": 0.0, "time_this_iter_s": 21.103442907333374, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1600000, "timestamp": 1544503523, "episodes_total": 3679, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.691, "num_steps_sampled": 1600000, "sample_time_ms": 12220.136, "grad_time_ms": 9168.26, "load_time_ms": 13.83, "num_steps_trained": 1600000, "av": {"vf_explained_var": 0.16585135459899902, "kl": 0.02764478698372841, "vf_loss": 1281.9986572265625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009708181954920292, "total_loss": 1281.989990234375, "cur_lr": 9.999999747378752e-05, "entropy": 2.765000581741333}, "adversary": {"vf_explained_var": 0.16133928298950195, "kl": 0.03671961650252342, "vf_loss": 1300.972900390625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08435191959142685, "total_loss": 1300.8997802734375, "cur_lr": 9.999999747378752e-05, "entropy": 134.83714294433594}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1600000, "training_iteration": 80, "episode_reward_mean": 0.0, "time_total_s": 1739.7827081680298, "episodes_this_iter": 45, "done": false, "episode_len_mean": 500.0, "date": "2018-12-11_04-45-23", "iterations_since_restore": 80}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1761.0404331684113, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535c4f28>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -353.90589902502944, "av": 353.90589902502944}, "episode_reward_max": 0.0, "time_this_iter_s": 21.25772500038147, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1620000, "timestamp": 1544503544, "episodes_total": 3721, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.599, "num_steps_sampled": 1620000, "sample_time_ms": 12226.721, "grad_time_ms": 9150.129, "load_time_ms": 14.481, "num_steps_trained": 1620000, "av": {"vf_explained_var": 0.1369074434041977, "kl": 0.026820842176675797, "vf_loss": 1338.945556640625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.007417973130941391, "total_loss": 1338.939208984375, "cur_lr": 9.999999747378752e-05, "entropy": 2.789841651916504}, "adversary": {"vf_explained_var": 0.1335921585559845, "kl": 0.037591904401779175, "vf_loss": 1354.41650390625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08514685183763504, "total_loss": 1354.3426513671875, "cur_lr": 9.999999747378752e-05, "entropy": 134.69529724121094}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1620000, "training_iteration": 81, "episode_reward_mean": 0.0, "time_total_s": 1761.0404331684113, "episodes_this_iter": 42, "done": false, "episode_len_mean": 500.0, "date": "2018-12-11_04-45-44", "iterations_since_restore": 81}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1782.4881722927094, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535df358>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -334.4242046814551, "av": 334.4242046814551}, "episode_reward_max": 0.0, "time_this_iter_s": 21.447739124298096, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1640000, "timestamp": 1544503565, "episodes_total": 3766, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.437, "num_steps_sampled": 1640000, "sample_time_ms": 12195.606, "grad_time_ms": 9158.515, "load_time_ms": 14.772, "num_steps_trained": 1640000, "av": {"vf_explained_var": 0.14245764911174774, "kl": 0.03040863387286663, "vf_loss": 1335.7281494140625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009916244074702263, "total_loss": 1335.7196044921875, "cur_lr": 9.999999747378752e-05, "entropy": 2.82566237449646}, "adversary": {"vf_explained_var": 0.14064818620681763, "kl": 0.03772227466106415, "vf_loss": 1348.6619873046875, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08559772372245789, "total_loss": 1348.5877685546875, "cur_lr": 9.999999747378752e-05, "entropy": 134.66156005859375}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1640000, "training_iteration": 82, "episode_reward_mean": 0.0, "time_total_s": 1782.4881722927094, "episodes_this_iter": 45, "done": false, "episode_len_mean": 497.28, "date": "2018-12-11_04-46-05", "iterations_since_restore": 82}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1803.6482946872711, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6cc048>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -332.0603589456858, "av": 332.0603589456858}, "episode_reward_max": 0.0, "time_this_iter_s": 21.160122394561768, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1660000, "timestamp": 1544503587, "episodes_total": 3812, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.31, "num_steps_sampled": 1660000, "sample_time_ms": 12189.045, "grad_time_ms": 9150.945, "load_time_ms": 15.16, "num_steps_trained": 1660000, "av": {"vf_explained_var": 0.13857455551624298, "kl": 0.029662545770406723, "vf_loss": 1308.609619140625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.007578822318464518, "total_loss": 1308.603271484375, "cur_lr": 9.999999747378752e-05, "entropy": 2.7977490425109863}, "adversary": {"vf_explained_var": 0.13607704639434814, "kl": 0.03679851070046425, "vf_loss": 1318.2052001953125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08521577715873718, "total_loss": 1318.1309814453125, "cur_lr": 9.999999747378752e-05, "entropy": 134.71836853027344}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1660000, "training_iteration": 83, "episode_reward_mean": 0.0, "time_total_s": 1803.6482946872711, "episodes_this_iter": 46, "done": false, "episode_len_mean": 497.28, "date": "2018-12-11_04-46-27", "iterations_since_restore": 83}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1825.0936970710754, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c6400>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -338.66954352758614, "av": 338.66954352758614}, "episode_reward_max": 0.0, "time_this_iter_s": 21.44540238380432, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1680000, "timestamp": 1544503608, "episodes_total": 3854, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.101, "num_steps_sampled": 1680000, "sample_time_ms": 12188.811, "grad_time_ms": 9109.849, "load_time_ms": 15.436, "num_steps_trained": 1680000, "av": {"vf_explained_var": 0.12919947504997253, "kl": 0.029882239177823067, "vf_loss": 1248.4940185546875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.0075908806174993515, "total_loss": 1248.4876708984375, "cur_lr": 9.999999747378752e-05, "entropy": 2.7948813438415527}, "adversary": {"vf_explained_var": 0.12721583247184753, "kl": 0.03669615089893341, "vf_loss": 1247.673828125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08470514416694641, "total_loss": 1247.5999755859375, "cur_lr": 9.999999747378752e-05, "entropy": 134.55303955078125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1680000, "training_iteration": 84, "episode_reward_mean": 0.0, "time_total_s": 1825.0936970710754, "episodes_this_iter": 42, "done": false, "episode_len_mean": 499.23, "date": "2018-12-11_04-46-48", "iterations_since_restore": 84}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1846.707193851471, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b8c88>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -326.8464191000919, "av": 326.8464191000919}, "episode_reward_max": 0.0, "time_this_iter_s": 21.613496780395508, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1700000, "timestamp": 1544503630, "episodes_total": 3899, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.132, "num_steps_sampled": 1700000, "sample_time_ms": 12225.448, "grad_time_ms": 9082.036, "load_time_ms": 15.353, "num_steps_trained": 1700000, "av": {"vf_explained_var": 0.13698570430278778, "kl": 0.029194489121437073, "vf_loss": 1317.5655517578125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008916841819882393, "total_loss": 1317.557861328125, "cur_lr": 9.999999747378752e-05, "entropy": 2.8266332149505615}, "adversary": {"vf_explained_var": 0.14051701128482819, "kl": 0.03771716356277466, "vf_loss": 1325.5421142578125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08568460494279861, "total_loss": 1325.4678955078125, "cur_lr": 9.999999747378752e-05, "entropy": 134.617919921875}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1700000, "training_iteration": 85, "episode_reward_mean": 0.0, "time_total_s": 1846.707193851471, "episodes_this_iter": 45, "done": false, "episode_len_mean": 499.23, "date": "2018-12-11_04-47-10", "iterations_since_restore": 85}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1867.9968631267548, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535df518>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -324.62535336744634, "av": 324.62535336744634}, "episode_reward_max": 0.0, "time_this_iter_s": 21.289669275283813, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1720000, "timestamp": 1544503651, "episodes_total": 3943, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.012, "num_steps_sampled": 1720000, "sample_time_ms": 12229.864, "grad_time_ms": 9056.66, "load_time_ms": 15.335, "num_steps_trained": 1720000, "av": {"vf_explained_var": 0.14748065173625946, "kl": 0.02734513208270073, "vf_loss": 1311.239013671875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.007023886777460575, "total_loss": 1311.233154296875, "cur_lr": 9.999999747378752e-05, "entropy": 2.8361570835113525}, "adversary": {"vf_explained_var": 0.14547507464885712, "kl": 0.0362517312169075, "vf_loss": 1309.00439453125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.084217868745327, "total_loss": 1308.9310302734375, "cur_lr": 9.999999747378752e-05, "entropy": 134.63031005859375}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1720000, "training_iteration": 86, "episode_reward_mean": 0.0, "time_total_s": 1867.9968631267548, "episodes_this_iter": 44, "done": false, "episode_len_mean": 493.94, "date": "2018-12-11_04-47-31", "iterations_since_restore": 86}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1889.273842573166, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c84a8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -328.6202917262474, "av": 328.6202917262474}, "episode_reward_max": 0.0, "time_this_iter_s": 21.276979446411133, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1740000, "timestamp": 1544503672, "episodes_total": 3989, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.797, "num_steps_sampled": 1740000, "sample_time_ms": 12224.413, "grad_time_ms": 9038.785, "load_time_ms": 15.161, "num_steps_trained": 1740000, "av": {"vf_explained_var": 0.15657080709934235, "kl": 0.026838919147849083, "vf_loss": 1294.276611328125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.00842463318258524, "total_loss": 1294.269287109375, "cur_lr": 9.999999747378752e-05, "entropy": 2.8676109313964844}, "adversary": {"vf_explained_var": 0.15707187354564667, "kl": 0.037278059870004654, "vf_loss": 1283.828369140625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08582576364278793, "total_loss": 1283.753662109375, "cur_lr": 9.999999747378752e-05, "entropy": 134.65237426757812}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1740000, "training_iteration": 87, "episode_reward_mean": 0.0, "time_total_s": 1889.273842573166, "episodes_this_iter": 46, "done": false, "episode_len_mean": 488.34, "date": "2018-12-11_04-47-52", "iterations_since_restore": 87}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1910.624589920044, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c6400>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -312.4251487709123, "av": 312.4251487709123}, "episode_reward_max": 0.0, "time_this_iter_s": 21.35074734687805, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1760000, "timestamp": 1544503694, "episodes_total": 4033, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.861, "num_steps_sampled": 1760000, "sample_time_ms": 12227.206, "grad_time_ms": 9023.961, "load_time_ms": 14.846, "num_steps_trained": 1760000, "av": {"vf_explained_var": 0.1397765576839447, "kl": 0.02534065581858158, "vf_loss": 1271.0103759765625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.007425397634506226, "total_loss": 1271.0040283203125, "cur_lr": 9.999999747378752e-05, "entropy": 2.9484641551971436}, "adversary": {"vf_explained_var": 0.14424683153629303, "kl": 0.03849948197603226, "vf_loss": 1257.879150390625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08801325410604477, "total_loss": 1257.8028564453125, "cur_lr": 9.999999747378752e-05, "entropy": 134.56483459472656}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1760000, "training_iteration": 88, "episode_reward_mean": 0.0, "time_total_s": 1910.624589920044, "episodes_this_iter": 44, "done": false, "episode_len_mean": 492.92, "date": "2018-12-11_04-48-14", "iterations_since_restore": 88}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1932.4140560626984, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b8d30>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -325.70554561969135, "av": 325.70554561969135}, "episode_reward_max": 0.0, "time_this_iter_s": 21.78946614265442, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1780000, "timestamp": 1544503715, "episodes_total": 4077, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.703, "num_steps_sampled": 1780000, "sample_time_ms": 12252.505, "grad_time_ms": 9034.539, "load_time_ms": 15.085, "num_steps_trained": 1780000, "av": {"vf_explained_var": 0.1384156495332718, "kl": 0.0305979922413826, "vf_loss": 1291.32421875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.007768279407173395, "total_loss": 1291.31787109375, "cur_lr": 9.999999747378752e-05, "entropy": 2.828577756881714}, "adversary": {"vf_explained_var": 0.14168143272399902, "kl": 0.03749110549688339, "vf_loss": 1274.3524169921875, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08454285562038422, "total_loss": 1274.279052734375, "cur_lr": 9.999999747378752e-05, "entropy": 134.64125061035156}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1780000, "training_iteration": 89, "episode_reward_mean": 0.0, "time_total_s": 1932.4140560626984, "episodes_this_iter": 44, "done": false, "episode_len_mean": 499.86, "date": "2018-12-11_04-48-35", "iterations_since_restore": 89}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1953.449301481247, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535d9a20>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -322.07359921389, "av": 322.07359921389}, "episode_reward_max": 0.0, "time_this_iter_s": 21.035245418548584, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1800000, "timestamp": 1544503736, "episodes_total": 4121, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.807, "num_steps_sampled": 1800000, "sample_time_ms": 12243.604, "grad_time_ms": 9036.951, "load_time_ms": 15.07, "num_steps_trained": 1800000, "av": {"vf_explained_var": 0.1491270363330841, "kl": 0.024047983810305595, "vf_loss": 1296.147216796875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008685984648764133, "total_loss": 1296.1395263671875, "cur_lr": 9.999999747378752e-05, "entropy": 2.9379420280456543}, "adversary": {"vf_explained_var": 0.15026669204235077, "kl": 0.03777146711945534, "vf_loss": 1289.363037109375, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08426862955093384, "total_loss": 1289.2900390625, "cur_lr": 9.999999747378752e-05, "entropy": 134.5861053466797}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1800000, "training_iteration": 90, "episode_reward_mean": 0.0, "time_total_s": 1953.449301481247, "episodes_this_iter": 44, "done": false, "episode_len_mean": 496.73, "date": "2018-12-11_04-48-56", "iterations_since_restore": 90}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1974.8973336219788, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6d8198>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -308.05871650201095, "av": 308.05871650201095}, "episode_reward_max": 0.0, "time_this_iter_s": 21.44803214073181, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1820000, "timestamp": 1544503758, "episodes_total": 4166, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.753, "num_steps_sampled": 1820000, "sample_time_ms": 12252.488, "grad_time_ms": 9050.001, "load_time_ms": 14.78, "num_steps_trained": 1820000, "av": {"vf_explained_var": 0.1533641517162323, "kl": 0.028847841545939445, "vf_loss": 1285.3251953125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009760693646967411, "total_loss": 1285.316650390625, "cur_lr": 9.999999747378752e-05, "entropy": 3.00976824760437}, "adversary": {"vf_explained_var": 0.15378722548484802, "kl": 0.03683079779148102, "vf_loss": 1282.3475341796875, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08384160697460175, "total_loss": 1282.2747802734375, "cur_lr": 9.999999747378752e-05, "entropy": 134.47772216796875}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1820000, "training_iteration": 91, "episode_reward_mean": 0.0, "time_total_s": 1974.8973336219788, "episodes_this_iter": 45, "done": false, "episode_len_mean": 491.89, "date": "2018-12-11_04-49-18", "iterations_since_restore": 91}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 1996.4990739822388, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6d8f98>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -308.84063296911586, "av": 308.84063296911586}, "episode_reward_max": 0.0, "time_this_iter_s": 21.60174036026001, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1840000, "timestamp": 1544503780, "episodes_total": 4211, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.786, "num_steps_sampled": 1840000, "sample_time_ms": 12280.802, "grad_time_ms": 9037.183, "load_time_ms": 14.514, "num_steps_trained": 1840000, "av": {"vf_explained_var": 0.16690278053283691, "kl": 0.02927522175014019, "vf_loss": 1256.9222412109375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008373977616429329, "total_loss": 1256.9150390625, "cur_lr": 9.999999747378752e-05, "entropy": 2.8730275630950928}, "adversary": {"vf_explained_var": 0.16732585430145264, "kl": 0.038652241230010986, "vf_loss": 1249.7449951171875, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08710160851478577, "total_loss": 1249.669677734375, "cur_lr": 9.999999747378752e-05, "entropy": 134.4855194091797}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1840000, "training_iteration": 92, "episode_reward_mean": 0.0, "time_total_s": 1996.4990739822388, "episodes_this_iter": 45, "done": false, "episode_len_mean": 491.72, "date": "2018-12-11_04-49-40", "iterations_since_restore": 92}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2018.1069557666779, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c60f0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -310.3716754777201, "av": 310.3716754777201}, "episode_reward_max": 0.0, "time_this_iter_s": 21.607881784439087, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1860000, "timestamp": 1544503801, "episodes_total": 4257, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.811, "num_steps_sampled": 1860000, "sample_time_ms": 12345.693, "grad_time_ms": 9016.861, "load_time_ms": 14.617, "num_steps_trained": 1860000, "av": {"vf_explained_var": 0.1669197380542755, "kl": 0.027042657136917114, "vf_loss": 1270.189453125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008901705034077168, "total_loss": 1270.1815185546875, "cur_lr": 9.999999747378752e-05, "entropy": 2.862614631652832}, "adversary": {"vf_explained_var": 0.1651332676410675, "kl": 0.03959441930055618, "vf_loss": 1273.5677490234375, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08820198476314545, "total_loss": 1273.4913330078125, "cur_lr": 9.999999747378752e-05, "entropy": 134.3723907470703}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1860000, "training_iteration": 93, "episode_reward_mean": 0.0, "time_total_s": 2018.1069557666779, "episodes_this_iter": 46, "done": false, "episode_len_mean": 497.33, "date": "2018-12-11_04-50-01", "iterations_since_restore": 93}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2039.231915473938, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6aa160>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -310.24451526567407, "av": 310.24451526567407}, "episode_reward_max": 0.0, "time_this_iter_s": 21.124959707260132, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1880000, "timestamp": 1544503822, "episodes_total": 4300, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.74, "num_steps_sampled": 1880000, "sample_time_ms": 12321.127, "grad_time_ms": 9010.918, "load_time_ms": 14.302, "num_steps_trained": 1880000, "av": {"vf_explained_var": 0.15219803154468536, "kl": 0.025549469515681267, "vf_loss": 1201.4176025390625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008497674018144608, "total_loss": 1201.4100341796875, "cur_lr": 9.999999747378752e-05, "entropy": 2.9625580310821533}, "adversary": {"vf_explained_var": 0.15254829823970795, "kl": 0.037529926747083664, "vf_loss": 1196.8016357421875, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08317262679338455, "total_loss": 1196.7296142578125, "cur_lr": 9.999999747378752e-05, "entropy": 134.27285766601562}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1880000, "training_iteration": 94, "episode_reward_mean": 0.0, "time_total_s": 2039.231915473938, "episodes_this_iter": 43, "done": false, "episode_len_mean": 497.43, "date": "2018-12-11_04-50-22", "iterations_since_restore": 94}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2060.5685515403748, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6d8748>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -297.78523857310415, "av": 297.78523857310415}, "episode_reward_max": 0.0, "time_this_iter_s": 21.336636066436768, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1900000, "timestamp": 1544503844, "episodes_total": 4344, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.751, "num_steps_sampled": 1900000, "sample_time_ms": 12279.09, "grad_time_ms": 9025.594, "load_time_ms": 14.509, "num_steps_trained": 1900000, "av": {"vf_explained_var": 0.17971757054328918, "kl": 0.03016616217792034, "vf_loss": 1324.860595703125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008807663805782795, "total_loss": 1324.8531494140625, "cur_lr": 9.999999747378752e-05, "entropy": 2.91717267036438}, "adversary": {"vf_explained_var": 0.18083740770816803, "kl": 0.03864660486578941, "vf_loss": 1322.1536865234375, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08567236363887787, "total_loss": 1322.07958984375, "cur_lr": 9.999999747378752e-05, "entropy": 134.33363342285156}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1900000, "training_iteration": 95, "episode_reward_mean": 0.0, "time_total_s": 2060.5685515403748, "episodes_this_iter": 44, "done": false, "episode_len_mean": 493.37, "date": "2018-12-11_04-50-44", "iterations_since_restore": 95}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2081.93607711792, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6d8e80>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -293.83841291010157, "av": 293.83841291010157}, "episode_reward_max": 0.0, "time_this_iter_s": 21.367525577545166, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1920000, "timestamp": 1544503865, "episodes_total": 4391, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.745, "num_steps_sampled": 1920000, "sample_time_ms": 12293.849, "grad_time_ms": 9016.768, "load_time_ms": 14.864, "num_steps_trained": 1920000, "av": {"vf_explained_var": 0.18827316164970398, "kl": 0.02971218153834343, "vf_loss": 1308.2393798828125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.00989065133035183, "total_loss": 1308.230712890625, "cur_lr": 9.999999747378752e-05, "entropy": 2.9400339126586914}, "adversary": {"vf_explained_var": 0.18807917833328247, "kl": 0.038275592029094696, "vf_loss": 1297.849365234375, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08531208336353302, "total_loss": 1297.775634765625, "cur_lr": 9.999999747378752e-05, "entropy": 134.35601806640625}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1920000, "training_iteration": 96, "episode_reward_mean": 0.0, "time_total_s": 2081.93607711792, "episodes_this_iter": 47, "done": false, "episode_len_mean": 486.8, "date": "2018-12-11_04-51-05", "iterations_since_restore": 96}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2102.9832158088684, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b8048>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -295.7156498460684, "av": 295.7156498460684}, "episode_reward_max": 0.0, "time_this_iter_s": 21.047138690948486, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1940000, "timestamp": 1544503886, "episodes_total": 4433, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.876, "num_steps_sampled": 1940000, "sample_time_ms": 12295.233, "grad_time_ms": 8992.686, "load_time_ms": 15.072, "num_steps_trained": 1940000, "av": {"vf_explained_var": 0.1473989188671112, "kl": 0.0258647408336401, "vf_loss": 1254.7183837890625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008184971287846565, "total_loss": 1254.711181640625, "cur_lr": 9.999999747378752e-05, "entropy": 2.961965799331665}, "adversary": {"vf_explained_var": 0.1489132195711136, "kl": 0.03827574849128723, "vf_loss": 1246.4613037109375, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08427195996046066, "total_loss": 1246.3885498046875, "cur_lr": 9.999999747378752e-05, "entropy": 134.26788330078125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1940000, "training_iteration": 97, "episode_reward_mean": 0.0, "time_total_s": 2102.9832158088684, "episodes_this_iter": 42, "done": false, "episode_len_mean": 490.86, "date": "2018-12-11_04-51-26", "iterations_since_restore": 97}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2124.4878392219543, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6d8668>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -296.0144367726475, "av": 296.0144367726475}, "episode_reward_max": 0.0, "time_this_iter_s": 21.504623413085938, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1960000, "timestamp": 1544503908, "episodes_total": 4480, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.936, "num_steps_sampled": 1960000, "sample_time_ms": 12333.944, "grad_time_ms": 8968.801, "load_time_ms": 15.305, "num_steps_trained": 1960000, "av": {"vf_explained_var": 0.16193236410617828, "kl": 0.0270548015832901, "vf_loss": 1308.3553466796875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009036832489073277, "total_loss": 1308.347412109375, "cur_lr": 9.999999747378752e-05, "entropy": 2.960235118865967}, "adversary": {"vf_explained_var": 0.16479596495628357, "kl": 0.038358528167009354, "vf_loss": 1300.6915283203125, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08577509224414825, "total_loss": 1300.6171875, "cur_lr": 9.999999747378752e-05, "entropy": 134.19808959960938}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1960000, "training_iteration": 98, "episode_reward_mean": 0.0, "time_total_s": 2124.4878392219543, "episodes_this_iter": 47, "done": false, "episode_len_mean": 490.33, "date": "2018-12-11_04-51-48", "iterations_since_restore": 98}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2145.861649751663, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535d9a90>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -288.6480822914185, "av": 288.6480822914185}, "episode_reward_max": 0.0, "time_this_iter_s": 21.373810529708862, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 1980000, "timestamp": 1544503929, "episodes_total": 4525, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.072, "num_steps_sampled": 1980000, "sample_time_ms": 12316.782, "grad_time_ms": 8944.326, "load_time_ms": 15.37, "num_steps_trained": 1980000, "av": {"vf_explained_var": 0.17132185399532318, "kl": 0.025906333699822426, "vf_loss": 1315.1024169921875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009661166928708553, "total_loss": 1315.093994140625, "cur_lr": 9.999999747378752e-05, "entropy": 2.918795347213745}, "adversary": {"vf_explained_var": 0.1715516448020935, "kl": 0.03838396817445755, "vf_loss": 1308.5765380859375, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08595205098390579, "total_loss": 1308.502197265625, "cur_lr": 9.999999747378752e-05, "entropy": 134.18507385253906}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 1980000, "training_iteration": 99, "episode_reward_mean": 0.0, "time_total_s": 2145.861649751663, "episodes_this_iter": 45, "done": false, "episode_len_mean": 489.63, "date": "2018-12-11_04-52-09", "iterations_since_restore": 99}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2167.188719511032, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6b75f8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -286.09961526129524, "av": 286.09961526129524}, "episode_reward_max": 0.0, "time_this_iter_s": 21.327069759368896, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2000000, "timestamp": 1544503950, "episodes_total": 4569, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.036, "num_steps_sampled": 2000000, "sample_time_ms": 12356.622, "grad_time_ms": 8932.939, "load_time_ms": 15.689, "num_steps_trained": 2000000, "av": {"vf_explained_var": 0.1600474864244461, "kl": 0.025082439184188843, "vf_loss": 1262.5689697265625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008229772560298443, "total_loss": 1262.5616455078125, "cur_lr": 9.999999747378752e-05, "entropy": 2.985560178756714}, "adversary": {"vf_explained_var": 0.15992678701877594, "kl": 0.03891812264919281, "vf_loss": 1260.6783447265625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08652942627668381, "total_loss": 1260.6033935546875, "cur_lr": 9.999999747378752e-05, "entropy": 134.20143127441406}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2000000, "training_iteration": 100, "episode_reward_mean": 0.0, "time_total_s": 2167.188719511032, "episodes_this_iter": 44, "done": false, "episode_len_mean": 489.74, "date": "2018-12-11_04-52-30", "iterations_since_restore": 100}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2188.689185857773, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b80b8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -281.7870760021388, "av": 281.7870760021388}, "episode_reward_max": 0.0, "time_this_iter_s": 21.500466346740723, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2020000, "timestamp": 1544503972, "episodes_total": 4616, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.042, "num_steps_sampled": 2020000, "sample_time_ms": 12430.173, "grad_time_ms": 8862.267, "load_time_ms": 17.05, "num_steps_trained": 2020000, "av": {"vf_explained_var": 0.16735276579856873, "kl": 0.027900079265236855, "vf_loss": 1308.93408203125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.010335767641663551, "total_loss": 1308.9249267578125, "cur_lr": 9.999999747378752e-05, "entropy": 2.957528829574585}, "adversary": {"vf_explained_var": 0.16309459507465363, "kl": 0.03863102197647095, "vf_loss": 1316.627197265625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.08672843873500824, "total_loss": 1316.5521240234375, "cur_lr": 9.999999747378752e-05, "entropy": 134.10780334472656}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2020000, "training_iteration": 101, "episode_reward_mean": 0.0, "time_total_s": 2188.689185857773, "episodes_this_iter": 47, "done": false, "episode_len_mean": 486.29, "date": "2018-12-11_04-52-52", "iterations_since_restore": 101}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2209.85107088089, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535c4b38>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -282.498043534262, "av": 282.498043534262}, "episode_reward_max": 0.0, "time_this_iter_s": 21.161885023117065, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2040000, "timestamp": 1544503993, "episodes_total": 4661, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.053, "num_steps_sampled": 2040000, "sample_time_ms": 12423.248, "grad_time_ms": 8825.593, "load_time_ms": 16.837, "num_steps_trained": 2040000, "av": {"vf_explained_var": 0.2087990641593933, "kl": 0.02667699195444584, "vf_loss": 1323.857177734375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.00936519168317318, "total_loss": 1323.8489990234375, "cur_lr": 9.999999747378752e-05, "entropy": 2.939983606338501}, "adversary": {"vf_explained_var": 0.20600348711013794, "kl": 0.040553465485572815, "vf_loss": 1331.750244140625, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.087607741355896, "total_loss": 1331.6744384765625, "cur_lr": 9.999999747378752e-05, "entropy": 134.11846923828125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2040000, "training_iteration": 102, "episode_reward_mean": 0.0, "time_total_s": 2209.85107088089, "episodes_this_iter": 45, "done": false, "episode_len_mean": 478.85, "date": "2018-12-11_04-53-13", "iterations_since_restore": 102}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2231.1280224323273, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c8b00>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -270.47322499013165, "av": 270.47322499013165}, "episode_reward_max": 0.0, "time_this_iter_s": 21.276951551437378, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2060000, "timestamp": 1544504014, "episodes_total": 4707, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.104, "num_steps_sampled": 2060000, "sample_time_ms": 12427.731, "grad_time_ms": 8787.561, "load_time_ms": 16.468, "num_steps_trained": 2060000, "av": {"vf_explained_var": 0.19234272837638855, "kl": 0.028744930401444435, "vf_loss": 1283.5325927734375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008892729878425598, "total_loss": 1283.5250244140625, "cur_lr": 9.999999747378752e-05, "entropy": 2.951125383377075}, "adversary": {"vf_explained_var": 0.18751917779445648, "kl": 0.033470574766397476, "vf_loss": 1300.0816650390625, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08570992201566696, "total_loss": 1300.010986328125, "cur_lr": 9.999999747378752e-05, "entropy": 134.00135803222656}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2060000, "training_iteration": 103, "episode_reward_mean": 0.0, "time_total_s": 2231.1280224323273, "episodes_this_iter": 46, "done": false, "episode_len_mean": 475.46, "date": "2018-12-11_04-53-34", "iterations_since_restore": 103}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2252.3366549015045, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f515367dac8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -286.4325586978236, "av": 286.4325586978236}, "episode_reward_max": 0.0, "time_this_iter_s": 21.208632469177246, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2080000, "timestamp": 1544504036, "episodes_total": 4750, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.2, "num_steps_sampled": 2080000, "sample_time_ms": 12469.283, "grad_time_ms": 8753.658, "load_time_ms": 16.412, "num_steps_trained": 2080000, "av": {"vf_explained_var": 0.16120681166648865, "kl": 0.02645634114742279, "vf_loss": 1297.2274169921875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.007762005552649498, "total_loss": 1297.220703125, "cur_lr": 9.999999747378752e-05, "entropy": 2.9089112281799316}, "adversary": {"vf_explained_var": 0.15965475142002106, "kl": 0.03355775773525238, "vf_loss": 1318.4656982421875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08356381952762604, "total_loss": 1318.397216796875, "cur_lr": 9.999999747378752e-05, "entropy": 133.94207763671875}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2080000, "training_iteration": 104, "episode_reward_mean": 0.0, "time_total_s": 2252.3366549015045, "episodes_this_iter": 43, "done": false, "episode_len_mean": 481.58, "date": "2018-12-11_04-53-56", "iterations_since_restore": 104}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2273.473188638687, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b80b8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -296.2706681874969, "av": 296.2706681874969}, "episode_reward_max": 0.0, "time_this_iter_s": 21.136533737182617, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2100000, "timestamp": 1544504057, "episodes_total": 4795, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.12, "num_steps_sampled": 2100000, "sample_time_ms": 12491.149, "grad_time_ms": 8710.771, "load_time_ms": 16.66, "num_steps_trained": 2100000, "av": {"vf_explained_var": 0.19596299529075623, "kl": 0.024724947288632393, "vf_loss": 1259.3814697265625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008874807506799698, "total_loss": 1259.373779296875, "cur_lr": 9.999999747378752e-05, "entropy": 2.9176127910614014}, "adversary": {"vf_explained_var": 0.19883058965206146, "kl": 0.03328125923871994, "vf_loss": 1279.5533447265625, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08529213070869446, "total_loss": 1279.483154296875, "cur_lr": 9.999999747378752e-05, "entropy": 134.07003784179688}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2100000, "training_iteration": 105, "episode_reward_mean": 0.0, "time_total_s": 2273.473188638687, "episodes_this_iter": 45, "done": false, "episode_len_mean": 496.05, "date": "2018-12-11_04-54-17", "iterations_since_restore": 105}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2294.569239616394, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b2f98>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -297.88116093328046, "av": 297.88116093328046}, "episode_reward_max": 0.0, "time_this_iter_s": 21.09605097770691, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2120000, "timestamp": 1544504078, "episodes_total": 4839, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.201, "num_steps_sampled": 2120000, "sample_time_ms": 12480.841, "grad_time_ms": 8695.215, "load_time_ms": 16.013, "num_steps_trained": 2120000, "av": {"vf_explained_var": 0.17099468410015106, "kl": 0.03175872936844826, "vf_loss": 1258.347412109375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.00953539926558733, "total_loss": 1258.339111328125, "cur_lr": 9.999999747378752e-05, "entropy": 2.9690284729003906}, "adversary": {"vf_explained_var": 0.16481511294841766, "kl": 0.03293374180793762, "vf_loss": 1283.649169921875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08512706309556961, "total_loss": 1283.5787353515625, "cur_lr": 9.999999747378752e-05, "entropy": 133.99420166015625}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2120000, "training_iteration": 106, "episode_reward_mean": 0.0, "time_total_s": 2294.569239616394, "episodes_this_iter": 44, "done": false, "episode_len_mean": 491.92, "date": "2018-12-11_04-54-38", "iterations_since_restore": 106}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2315.927761077881, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b8630>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -319.5233972613189, "av": 319.5233972613189}, "episode_reward_max": 0.0, "time_this_iter_s": 21.358521461486816, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2140000, "timestamp": 1544504099, "episodes_total": 4885, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.084, "num_steps_sampled": 2140000, "sample_time_ms": 12521.451, "grad_time_ms": 8686.393, "load_time_ms": 15.665, "num_steps_trained": 2140000, "av": {"vf_explained_var": 0.18638311326503754, "kl": 0.02686448022723198, "vf_loss": 1262.413330078125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.010037255473434925, "total_loss": 1262.4044189453125, "cur_lr": 9.999999747378752e-05, "entropy": 2.941453695297241}, "adversary": {"vf_explained_var": 0.1843913495540619, "kl": 0.032693587243556976, "vf_loss": 1293.2239990234375, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08146103471517563, "total_loss": 1293.1572265625, "cur_lr": 9.999999747378752e-05, "entropy": 134.05233764648438}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2140000, "training_iteration": 107, "episode_reward_mean": 0.0, "time_total_s": 2315.927761077881, "episodes_this_iter": 46, "done": false, "episode_len_mean": 488.45, "date": "2018-12-11_04-54-59", "iterations_since_restore": 107}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2337.0933890342712, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f515367d828>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -310.1322389682641, "av": 310.1322389682641}, "episode_reward_max": 0.0, "time_this_iter_s": 21.16562795639038, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2160000, "timestamp": 1544504120, "episodes_total": 4931, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.95, "num_steps_sampled": 2160000, "sample_time_ms": 12521.343, "grad_time_ms": 8651.401, "load_time_ms": 15.85, "num_steps_trained": 2160000, "av": {"vf_explained_var": 0.20478622615337372, "kl": 0.02823333814740181, "vf_loss": 1272.326171875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009570027701556683, "total_loss": 1272.3177490234375, "cur_lr": 9.999999747378752e-05, "entropy": 2.96758770942688}, "adversary": {"vf_explained_var": 0.20747563242912292, "kl": 0.034171782433986664, "vf_loss": 1296.9053955078125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08483978360891342, "total_loss": 1296.8359375, "cur_lr": 9.999999747378752e-05, "entropy": 133.81988525390625}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2160000, "training_iteration": 108, "episode_reward_mean": 0.0, "time_total_s": 2337.0933890342712, "episodes_this_iter": 46, "done": false, "episode_len_mean": 492.84, "date": "2018-12-11_04-55-20", "iterations_since_restore": 108}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2357.961886882782, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c89e8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -301.0747866350619, "av": 301.0747866350619}, "episode_reward_max": 0.0, "time_this_iter_s": 20.868497848510742, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2180000, "timestamp": 1544504141, "episodes_total": 4974, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.833, "num_steps_sampled": 2180000, "sample_time_ms": 12486.385, "grad_time_ms": 8636.359, "load_time_ms": 15.814, "num_steps_trained": 2180000, "av": {"vf_explained_var": 0.1975536346435547, "kl": 0.02823585458099842, "vf_loss": 1164.874755859375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009399620816111565, "total_loss": 1164.8665771484375, "cur_lr": 9.999999747378752e-05, "entropy": 2.936016082763672}, "adversary": {"vf_explained_var": 0.18839271366596222, "kl": 0.03231539949774742, "vf_loss": 1199.4617919921875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08317247033119202, "total_loss": 1199.3931884765625, "cur_lr": 9.999999747378752e-05, "entropy": 134.0283203125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2180000, "training_iteration": 109, "episode_reward_mean": 0.0, "time_total_s": 2357.961886882782, "episodes_this_iter": 43, "done": false, "episode_len_mean": 495.64, "date": "2018-12-11_04-55-41", "iterations_since_restore": 109}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2378.9961659908295, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6b7da0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -315.55899065749685, "av": 315.55899065749685}, "episode_reward_max": 0.0, "time_this_iter_s": 21.034279108047485, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2200000, "timestamp": 1544504162, "episodes_total": 5018, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.824, "num_steps_sampled": 2200000, "sample_time_ms": 12477.029, "grad_time_ms": 8616.45, "load_time_ms": 15.67, "num_steps_trained": 2200000, "av": {"vf_explained_var": 0.18019331991672516, "kl": 0.027580689638853073, "vf_loss": 1264.287109375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008593396283686161, "total_loss": 1264.279541015625, "cur_lr": 9.999999747378752e-05, "entropy": 2.912355661392212}, "adversary": {"vf_explained_var": 0.17127196490764618, "kl": 0.03322727605700493, "vf_loss": 1287.3052978515625, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08512750267982483, "total_loss": 1287.235107421875, "cur_lr": 9.999999747378752e-05, "entropy": 133.8961181640625}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2200000, "training_iteration": 110, "episode_reward_mean": 0.0, "time_total_s": 2378.9961659908295, "episodes_this_iter": 44, "done": false, "episode_len_mean": 499.21, "date": "2018-12-11_04-56-02", "iterations_since_restore": 110}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2400.1846075057983, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535c4a58>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -313.79845090794527, "av": 313.79845090794527}, "episode_reward_max": 0.0, "time_this_iter_s": 21.188441514968872, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2220000, "timestamp": 1544504184, "episodes_total": 5063, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.794, "num_steps_sampled": 2220000, "sample_time_ms": 12419.797, "grad_time_ms": 8643.35, "load_time_ms": 14.347, "num_steps_trained": 2220000, "av": {"vf_explained_var": 0.18965058028697968, "kl": 0.02621622011065483, "vf_loss": 1280.23193359375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.011270388960838318, "total_loss": 1280.2218017578125, "cur_lr": 9.999999747378752e-05, "entropy": 2.98776912689209}, "adversary": {"vf_explained_var": 0.18650348484516144, "kl": 0.031832631677389145, "vf_loss": 1300.2747802734375, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08220546692609787, "total_loss": 1300.2069091796875, "cur_lr": 9.999999747378752e-05, "entropy": 133.8379364013672}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2220000, "training_iteration": 111, "episode_reward_mean": 0.0, "time_total_s": 2400.1846075057983, "episodes_this_iter": 45, "done": false, "episode_len_mean": 494.47, "date": "2018-12-11_04-56-24", "iterations_since_restore": 111}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2421.502798318863, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c6780>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -327.07476764494214, "av": 327.07476764494214}, "episode_reward_max": 0.0, "time_this_iter_s": 21.318190813064575, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2240000, "timestamp": 1544504205, "episodes_total": 5108, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.727, "num_steps_sampled": 2240000, "sample_time_ms": 12392.255, "grad_time_ms": 8686.022, "load_time_ms": 14.623, "num_steps_trained": 2240000, "av": {"vf_explained_var": 0.2199801206588745, "kl": 0.027762187644839287, "vf_loss": 1401.4112548828125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.00955351535230875, "total_loss": 1401.40283203125, "cur_lr": 9.999999747378752e-05, "entropy": 2.8976380825042725}, "adversary": {"vf_explained_var": 0.2229340821504593, "kl": 0.03242378309369087, "vf_loss": 1416.7508544921875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08240418881177902, "total_loss": 1416.68310546875, "cur_lr": 9.999999747378752e-05, "entropy": 133.9755859375}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2240000, "training_iteration": 112, "episode_reward_mean": 0.0, "time_total_s": 2421.502798318863, "episodes_this_iter": 45, "done": false, "episode_len_mean": 490.22, "date": "2018-12-11_04-56-45", "iterations_since_restore": 112}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2442.7960982322693, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6aa160>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -320.9191424301569, "av": 320.9191424301569}, "episode_reward_max": 0.0, "time_this_iter_s": 21.293299913406372, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2260000, "timestamp": 1544504226, "episodes_total": 5155, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.617, "num_steps_sampled": 2260000, "sample_time_ms": 12362.806, "grad_time_ms": 8717.102, "load_time_ms": 14.739, "num_steps_trained": 2260000, "av": {"vf_explained_var": 0.14406459033489227, "kl": 0.028747860342264175, "vf_loss": 1325.197265625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009770563803613186, "total_loss": 1325.188720703125, "cur_lr": 9.999999747378752e-05, "entropy": 2.9687092304229736}, "adversary": {"vf_explained_var": 0.14044561982154846, "kl": 0.03352508693933487, "vf_loss": 1334.297119140625, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.0843200609087944, "total_loss": 1334.227783203125, "cur_lr": 9.999999747378752e-05, "entropy": 133.834716796875}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2260000, "training_iteration": 113, "episode_reward_mean": 0.0, "time_total_s": 2442.7960982322693, "episodes_this_iter": 47, "done": false, "episode_len_mean": 483.31, "date": "2018-12-11_04-57-06", "iterations_since_restore": 113}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2463.6539390087128, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f515367d048>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -312.33497025158505, "av": 312.33497025158505}, "episode_reward_max": 0.0, "time_this_iter_s": 20.85784077644348, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2280000, "timestamp": 1544504247, "episodes_total": 5199, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.654, "num_steps_sampled": 2280000, "sample_time_ms": 12301.166, "grad_time_ms": 8742.884, "load_time_ms": 14.905, "num_steps_trained": 2280000, "av": {"vf_explained_var": 0.19870711863040924, "kl": 0.027139786630868912, "vf_loss": 1244.1112060546875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.010735067538917065, "total_loss": 1244.101806640625, "cur_lr": 9.999999747378752e-05, "entropy": 2.8880867958068848}, "adversary": {"vf_explained_var": 0.18963412940502167, "kl": 0.03330645710229874, "vf_loss": 1267.3992919921875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08411029726266861, "total_loss": 1267.330078125, "cur_lr": 9.999999747378752e-05, "entropy": 133.93460083007812}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2280000, "training_iteration": 114, "episode_reward_mean": 0.0, "time_total_s": 2463.6539390087128, "episodes_this_iter": 44, "done": false, "episode_len_mean": 484.9, "date": "2018-12-11_04-57-27", "iterations_since_restore": 114}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2484.8090217113495, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f5153683208>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -337.54046181570527, "av": 337.54046181570527}, "episode_reward_max": 0.0, "time_this_iter_s": 21.15508270263672, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2300000, "timestamp": 1544504268, "episodes_total": 5243, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.639, "num_steps_sampled": 2300000, "sample_time_ms": 12279.522, "grad_time_ms": 8767.199, "load_time_ms": 14.597, "num_steps_trained": 2300000, "av": {"vf_explained_var": 0.1848221868276596, "kl": 0.027650123462080956, "vf_loss": 1259.0391845703125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.010507814586162567, "total_loss": 1259.0299072265625, "cur_lr": 9.999999747378752e-05, "entropy": 2.8278656005859375}, "adversary": {"vf_explained_var": 0.18605263531208038, "kl": 0.03245862200856209, "vf_loss": 1283.04443359375, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08173921704292297, "total_loss": 1282.9774169921875, "cur_lr": 9.999999747378752e-05, "entropy": 133.9001922607422}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2300000, "training_iteration": 115, "episode_reward_mean": 0.0, "time_total_s": 2484.8090217113495, "episodes_this_iter": 44, "done": false, "episode_len_mean": 493.32, "date": "2018-12-11_04-57-48", "iterations_since_restore": 115}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2505.8427448272705, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d69c550>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -348.1986871238184, "av": 348.1986871238184}, "episode_reward_max": 0.0, "time_this_iter_s": 21.03372311592102, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2320000, "timestamp": 1544504289, "episodes_total": 5288, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.554, "num_steps_sampled": 2320000, "sample_time_ms": 12257.825, "grad_time_ms": 8783.405, "load_time_ms": 15.063, "num_steps_trained": 2320000, "av": {"vf_explained_var": 0.15561054646968842, "kl": 0.023125890642404556, "vf_loss": 1284.3697509765625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008986671455204487, "total_loss": 1284.3616943359375, "cur_lr": 9.999999747378752e-05, "entropy": 2.9096455574035645}, "adversary": {"vf_explained_var": 0.15692943334579468, "kl": 0.03203551471233368, "vf_loss": 1301.74658203125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08254781365394592, "total_loss": 1301.6783447265625, "cur_lr": 9.999999747378752e-05, "entropy": 133.89659118652344}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2320000, "training_iteration": 116, "episode_reward_mean": 0.0, "time_total_s": 2505.8427448272705, "episodes_this_iter": 45, "done": false, "episode_len_mean": 489.99, "date": "2018-12-11_04-58-09", "iterations_since_restore": 116}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2527.06281709671, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f5141df3b70>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -343.519471482312, "av": 343.519471482312}, "episode_reward_max": 0.0, "time_this_iter_s": 21.220072269439697, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2340000, "timestamp": 1544504311, "episodes_total": 5333, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.706, "num_steps_sampled": 2340000, "sample_time_ms": 12213.45, "grad_time_ms": 8811.871, "load_time_ms": 15.579, "num_steps_trained": 2340000, "av": {"vf_explained_var": 0.19043797254562378, "kl": 0.0276125967502594, "vf_loss": 1297.6448974609375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008363892324268818, "total_loss": 1297.6378173828125, "cur_lr": 9.999999747378752e-05, "entropy": 2.899251699447632}, "adversary": {"vf_explained_var": 0.18901151418685913, "kl": 0.03267419710755348, "vf_loss": 1310.4727783203125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08390846848487854, "total_loss": 1310.4034423828125, "cur_lr": 9.999999747378752e-05, "entropy": 133.78395080566406}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2340000, "training_iteration": 117, "episode_reward_mean": 0.0, "time_total_s": 2527.06281709671, "episodes_this_iter": 45, "done": false, "episode_len_mean": 494.52, "date": "2018-12-11_04-58-31", "iterations_since_restore": 117}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2548.446805715561, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6aa6d8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -325.06200419712076, "av": 325.06200419712076}, "episode_reward_max": 0.0, "time_this_iter_s": 21.383988618850708, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2360000, "timestamp": 1544504332, "episodes_total": 5377, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.813, "num_steps_sampled": 2360000, "sample_time_ms": 12203.016, "grad_time_ms": 8845.407, "load_time_ms": 15.161, "num_steps_trained": 2360000, "av": {"vf_explained_var": 0.18848884105682373, "kl": 0.02586039900779724, "vf_loss": 1271.570068359375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008976040408015251, "total_loss": 1271.562255859375, "cur_lr": 9.999999747378752e-05, "entropy": 2.977670431137085}, "adversary": {"vf_explained_var": 0.1868564337491989, "kl": 0.03355451300740242, "vf_loss": 1285.04248046875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08397233486175537, "total_loss": 1284.9735107421875, "cur_lr": 9.999999747378752e-05, "entropy": 133.59902954101562}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2360000, "training_iteration": 118, "episode_reward_mean": 0.0, "time_total_s": 2548.446805715561, "episodes_this_iter": 44, "done": false, "episode_len_mean": 491.74, "date": "2018-12-11_04-58-52", "iterations_since_restore": 118}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2569.723017692566, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d69ccc0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -307.1612404521348, "av": 307.1612404521348}, "episode_reward_max": 0.0, "time_this_iter_s": 21.276211977005005, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2380000, "timestamp": 1544504353, "episodes_total": 5423, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.727, "num_steps_sampled": 2380000, "sample_time_ms": 12238.72, "grad_time_ms": 8851.181, "load_time_ms": 14.917, "num_steps_trained": 2380000, "av": {"vf_explained_var": 0.13700631260871887, "kl": 0.027157049626111984, "vf_loss": 1276.4083251953125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009976052679121494, "total_loss": 1276.399658203125, "cur_lr": 9.999999747378752e-05, "entropy": 2.893810987472534}, "adversary": {"vf_explained_var": 0.13550502061843872, "kl": 0.033001482486724854, "vf_loss": 1291.456298828125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08343183994293213, "total_loss": 1291.3878173828125, "cur_lr": 9.999999747378752e-05, "entropy": 133.706298828125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2380000, "training_iteration": 119, "episode_reward_mean": 0.0, "time_total_s": 2569.723017692566, "episodes_this_iter": 46, "done": false, "episode_len_mean": 489.35, "date": "2018-12-11_04-59-13", "iterations_since_restore": 119}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2590.6669120788574, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f515367d390>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -312.10353414925993, "av": 312.10353414925993}, "episode_reward_max": 0.0, "time_this_iter_s": 20.943894386291504, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2400000, "timestamp": 1544504374, "episodes_total": 5466, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.762, "num_steps_sampled": 2400000, "sample_time_ms": 12231.002, "grad_time_ms": 8850.112, "load_time_ms": 14.897, "num_steps_trained": 2400000, "av": {"vf_explained_var": 0.13873867690563202, "kl": 0.026180224493145943, "vf_loss": 1287.1568603515625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.010339982807636261, "total_loss": 1287.1475830078125, "cur_lr": 9.999999747378752e-05, "entropy": 2.960029363632202}, "adversary": {"vf_explained_var": 0.14412130415439606, "kl": 0.03320363909006119, "vf_loss": 1297.8798828125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.0846402570605278, "total_loss": 1297.8101806640625, "cur_lr": 9.999999747378752e-05, "entropy": 133.57557678222656}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2400000, "training_iteration": 120, "episode_reward_mean": 0.0, "time_total_s": 2590.6669120788574, "episodes_this_iter": 43, "done": false, "episode_len_mean": 489.35, "date": "2018-12-11_04-59-34", "iterations_since_restore": 120}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2612.058478832245, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f5141ddc1d0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -317.2756647026247, "av": 317.2756647026247}, "episode_reward_max": 0.0, "time_this_iter_s": 21.39156675338745, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2420000, "timestamp": 1544504396, "episodes_total": 5513, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.833, "num_steps_sampled": 2420000, "sample_time_ms": 12235.902, "grad_time_ms": 8865.822, "load_time_ms": 15.183, "num_steps_trained": 2420000, "av": {"vf_explained_var": 0.16517888009548187, "kl": 0.0275119636207819, "vf_loss": 1334.7933349609375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.010958422906696796, "total_loss": 1334.783447265625, "cur_lr": 9.999999747378752e-05, "entropy": 2.929845094680786}, "adversary": {"vf_explained_var": 0.16498328745365143, "kl": 0.03320564329624176, "vf_loss": 1356.5426025390625, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08345451205968857, "total_loss": 1356.4739990234375, "cur_lr": 9.999999747378752e-05, "entropy": 133.68380737304688}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2420000, "training_iteration": 121, "episode_reward_mean": 0.0, "time_total_s": 2612.058478832245, "episodes_this_iter": 47, "done": false, "episode_len_mean": 495.59, "date": "2018-12-11_04-59-56", "iterations_since_restore": 121}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2633.166852712631, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6aa438>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -317.66342049738176, "av": 317.66342049738176}, "episode_reward_max": 0.0, "time_this_iter_s": 21.108373880386353, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2440000, "timestamp": 1544504417, "episodes_total": 5555, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.996, "num_steps_sampled": 2440000, "sample_time_ms": 12222.324, "grad_time_ms": 8857.374, "load_time_ms": 15.22, "num_steps_trained": 2440000, "av": {"vf_explained_var": 0.16048887372016907, "kl": 0.030201105400919914, "vf_loss": 1254.5333251953125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009857959114015102, "total_loss": 1254.5247802734375, "cur_lr": 9.999999747378752e-05, "entropy": 2.943896532058716}, "adversary": {"vf_explained_var": 0.1575523465871811, "kl": 0.032958365976810455, "vf_loss": 1273.662841796875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08395424485206604, "total_loss": 1273.5936279296875, "cur_lr": 9.999999747378752e-05, "entropy": 133.68072509765625}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2440000, "training_iteration": 122, "episode_reward_mean": 0.0, "time_total_s": 2633.166852712631, "episodes_this_iter": 42, "done": false, "episode_len_mean": 495.59, "date": "2018-12-11_05-00-17", "iterations_since_restore": 122}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2654.4934849739075, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6d85c0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -343.8481546257369, "av": 343.8481546257369}, "episode_reward_max": 0.0, "time_this_iter_s": 21.326632261276245, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2460000, "timestamp": 1544504438, "episodes_total": 5598, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.054, "num_steps_sampled": 2460000, "sample_time_ms": 12224.907, "grad_time_ms": 8857.868, "load_time_ms": 15.307, "num_steps_trained": 2460000, "av": {"vf_explained_var": 0.14887070655822754, "kl": 0.02681063674390316, "vf_loss": 1284.679931640625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009465420618653297, "total_loss": 1284.671630859375, "cur_lr": 9.999999747378752e-05, "entropy": 2.910742998123169}, "adversary": {"vf_explained_var": 0.14562904834747314, "kl": 0.03374948352575302, "vf_loss": 1279.8369140625, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08308231830596924, "total_loss": 1279.76904296875, "cur_lr": 9.999999747378752e-05, "entropy": 133.67601013183594}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2460000, "training_iteration": 123, "episode_reward_mean": 0.0, "time_total_s": 2654.4934849739075, "episodes_this_iter": 43, "done": false, "episode_len_mean": 500.0, "date": "2018-12-11_05-00-38", "iterations_since_restore": 123}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2675.8015434741974, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535c4d68>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -349.501121777042, "av": 349.501121777042}, "episode_reward_max": 0.0, "time_this_iter_s": 21.308058500289917, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2480000, "timestamp": 1544504459, "episodes_total": 5642, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.139, "num_steps_sampled": 2480000, "sample_time_ms": 12268.219, "grad_time_ms": 8859.566, "load_time_ms": 15.528, "num_steps_trained": 2480000, "av": {"vf_explained_var": 0.17120884358882904, "kl": 0.02852560579776764, "vf_loss": 1336.5196533203125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.007759804837405682, "total_loss": 1336.5130615234375, "cur_lr": 9.999999747378752e-05, "entropy": 2.9451348781585693}, "adversary": {"vf_explained_var": 0.16845843195915222, "kl": 0.03359552472829819, "vf_loss": 1332.3233642578125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08346904814243317, "total_loss": 1332.255126953125, "cur_lr": 9.999999747378752e-05, "entropy": 133.7222442626953}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2480000, "training_iteration": 124, "episode_reward_mean": 0.0, "time_total_s": 2675.8015434741974, "episodes_this_iter": 44, "done": false, "episode_len_mean": 498.94, "date": "2018-12-11_05-00-59", "iterations_since_restore": 124}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2697.213705301285, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c86a0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -326.7585441349466, "av": 326.7585441349466}, "episode_reward_max": 0.0, "time_this_iter_s": 21.412161827087402, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2500000, "timestamp": 1544504481, "episodes_total": 5688, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.391, "num_steps_sampled": 2500000, "sample_time_ms": 12301.792, "grad_time_ms": 8851.753, "load_time_ms": 15.312, "num_steps_trained": 2500000, "av": {"vf_explained_var": 0.2131669968366623, "kl": 0.025249937549233437, "vf_loss": 1464.1175537109375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009140854701399803, "total_loss": 1464.109375, "cur_lr": 9.999999747378752e-05, "entropy": 3.0189902782440186}, "adversary": {"vf_explained_var": 0.22299423813819885, "kl": 0.034067265689373016, "vf_loss": 1449.8734130859375, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.0867554247379303, "total_loss": 1449.8021240234375, "cur_lr": 9.999999747378752e-05, "entropy": 133.5462188720703}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2500000, "training_iteration": 125, "episode_reward_mean": 0.0, "time_total_s": 2697.213705301285, "episodes_this_iter": 46, "done": false, "episode_len_mean": 495.83, "date": "2018-12-11_05-01-21", "iterations_since_restore": 125}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2718.4784865379333, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6d8208>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -317.51881675473356, "av": 317.51881675473356}, "episode_reward_max": 0.0, "time_this_iter_s": 21.26478123664856, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2520000, "timestamp": 1544504502, "episodes_total": 5731, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.497, "num_steps_sampled": 2520000, "sample_time_ms": 12335.623, "grad_time_ms": 8840.251, "load_time_ms": 14.871, "num_steps_trained": 2520000, "av": {"vf_explained_var": 0.1551416665315628, "kl": 0.028199363499879837, "vf_loss": 1322.527587890625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.011002430692315102, "total_loss": 1322.5177001953125, "cur_lr": 9.999999747378752e-05, "entropy": 2.957486391067505}, "adversary": {"vf_explained_var": 0.16081295907497406, "kl": 0.03385448828339577, "vf_loss": 1303.382080078125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08444152772426605, "total_loss": 1303.3128662109375, "cur_lr": 9.999999747378752e-05, "entropy": 133.4357147216797}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2520000, "training_iteration": 126, "episode_reward_mean": 0.0, "time_total_s": 2718.4784865379333, "episodes_this_iter": 43, "done": false, "episode_len_mean": 494.74, "date": "2018-12-11_05-01-42", "iterations_since_restore": 126}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2739.802397966385, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6aa6d8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -309.24649507520786, "av": 309.24649507520786}, "episode_reward_max": 0.0, "time_this_iter_s": 21.323911428451538, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2540000, "timestamp": 1544504523, "episodes_total": 5776, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.455, "num_steps_sampled": 2540000, "sample_time_ms": 12363.145, "grad_time_ms": 8822.185, "load_time_ms": 14.621, "num_steps_trained": 2540000, "av": {"vf_explained_var": 0.17202360928058624, "kl": 0.023945998400449753, "vf_loss": 1343.4483642578125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009677390567958355, "total_loss": 1343.439697265625, "cur_lr": 9.999999747378752e-05, "entropy": 3.025852680206299}, "adversary": {"vf_explained_var": 0.18410804867744446, "kl": 0.03341159597039223, "vf_loss": 1322.8709716796875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08432569354772568, "total_loss": 1322.8017578125, "cur_lr": 9.999999747378752e-05, "entropy": 133.42608642578125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2540000, "training_iteration": 127, "episode_reward_mean": 0.0, "time_total_s": 2739.802397966385, "episodes_this_iter": 45, "done": false, "episode_len_mean": 495.73, "date": "2018-12-11_05-02-03", "iterations_since_restore": 127}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2761.177886724472, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c6cc0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -314.7837768328055, "av": 314.7837768328055}, "episode_reward_max": 0.0, "time_this_iter_s": 21.375488758087158, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2560000, "timestamp": 1544504545, "episodes_total": 5821, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.443, "num_steps_sampled": 2560000, "sample_time_ms": 12362.964, "grad_time_ms": 8819.969, "load_time_ms": 14.902, "num_steps_trained": 2560000, "av": {"vf_explained_var": 0.15427279472351074, "kl": 0.028891367837786674, "vf_loss": 1349.25537109375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.01155855879187584, "total_loss": 1349.2449951171875, "cur_lr": 9.999999747378752e-05, "entropy": 2.9374730587005615}, "adversary": {"vf_explained_var": 0.15250031650066376, "kl": 0.03310176730155945, "vf_loss": 1336.4281005859375, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08236788213253021, "total_loss": 1336.3607177734375, "cur_lr": 9.999999747378752e-05, "entropy": 133.54176330566406}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2560000, "training_iteration": 128, "episode_reward_mean": 0.0, "time_total_s": 2761.177886724472, "episodes_this_iter": 45, "done": false, "episode_len_mean": 497.93, "date": "2018-12-11_05-02-25", "iterations_since_restore": 128}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2782.464359998703, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b83c8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -311.41192673665137, "av": 311.41192673665137}, "episode_reward_max": 0.0, "time_this_iter_s": 21.286473274230957, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2580000, "timestamp": 1544504566, "episodes_total": 5865, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.576, "num_steps_sampled": 2580000, "sample_time_ms": 12365.765, "grad_time_ms": 8817.585, "load_time_ms": 15.308, "num_steps_trained": 2580000, "av": {"vf_explained_var": 0.17521631717681885, "kl": 0.025238949805498123, "vf_loss": 1377.292724609375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.010268324054777622, "total_loss": 1377.283447265625, "cur_lr": 9.999999747378752e-05, "entropy": 2.9522109031677246}, "adversary": {"vf_explained_var": 0.18345025181770325, "kl": 0.03410970792174339, "vf_loss": 1365.4383544921875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08525470644235611, "total_loss": 1365.3685302734375, "cur_lr": 9.999999747378752e-05, "entropy": 133.53358459472656}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2580000, "training_iteration": 129, "episode_reward_mean": 0.0, "time_total_s": 2782.464359998703, "episodes_this_iter": 44, "done": false, "episode_len_mean": 497.32, "date": "2018-12-11_05-02-46", "iterations_since_restore": 129}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2804.1617646217346, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d69c908>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -302.4740294433001, "av": 302.4740294433001}, "episode_reward_max": 0.0, "time_this_iter_s": 21.697404623031616, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2600000, "timestamp": 1544504588, "episodes_total": 5913, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.53, "num_steps_sampled": 2600000, "sample_time_ms": 12446.969, "grad_time_ms": 8808.837, "load_time_ms": 15.332, "num_steps_trained": 2600000, "av": {"vf_explained_var": 0.181710883975029, "kl": 0.026608804240822792, "vf_loss": 1404.1007080078125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.010254555381834507, "total_loss": 1404.091552734375, "cur_lr": 9.999999747378752e-05, "entropy": 2.923861026763916}, "adversary": {"vf_explained_var": 0.18268795311450958, "kl": 0.03309120237827301, "vf_loss": 1400.13623046875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08407415449619293, "total_loss": 1400.067138671875, "cur_lr": 9.999999747378752e-05, "entropy": 133.63597106933594}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2600000, "training_iteration": 130, "episode_reward_mean": 0.0, "time_total_s": 2804.1617646217346, "episodes_this_iter": 48, "done": false, "episode_len_mean": 482.41, "date": "2018-12-11_05-03-08", "iterations_since_restore": 130}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2825.079021215439, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6aa4e0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -326.8916598140831, "av": 326.8916598140831}, "episode_reward_max": 0.0, "time_this_iter_s": 20.917256593704224, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2620000, "timestamp": 1544504609, "episodes_total": 5956, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.678, "num_steps_sampled": 2620000, "sample_time_ms": 12413.672, "grad_time_ms": 8795.692, "load_time_ms": 14.529, "num_steps_trained": 2620000, "av": {"vf_explained_var": 0.18132302165031433, "kl": 0.024203984066843987, "vf_loss": 1391.705078125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.00975182093679905, "total_loss": 1391.696533203125, "cur_lr": 9.999999747378752e-05, "entropy": 2.968496799468994}, "adversary": {"vf_explained_var": 0.17641256749629974, "kl": 0.03456612676382065, "vf_loss": 1382.4246826171875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.084843710064888, "total_loss": 1382.3555908203125, "cur_lr": 9.999999747378752e-05, "entropy": 133.5518035888672}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2620000, "training_iteration": 131, "episode_reward_mean": 0.0, "time_total_s": 2825.079021215439, "episodes_this_iter": 43, "done": false, "episode_len_mean": 484.41, "date": "2018-12-11_05-03-29", "iterations_since_restore": 131}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2846.493614912033, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6aab70>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -324.27977813178734, "av": 324.27977813178734}, "episode_reward_max": 0.0, "time_this_iter_s": 21.41459369659424, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2640000, "timestamp": 1544504630, "episodes_total": 6003, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.668, "num_steps_sampled": 2640000, "sample_time_ms": 12474.435, "grad_time_ms": 8763.432, "load_time_ms": 14.557, "num_steps_trained": 2640000, "av": {"vf_explained_var": 0.17809979617595673, "kl": 0.026959840208292007, "vf_loss": 1394.6990966796875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009593717753887177, "total_loss": 1394.6905517578125, "cur_lr": 9.999999747378752e-05, "entropy": 2.9471051692962646}, "adversary": {"vf_explained_var": 0.17694775760173798, "kl": 0.034382063895463943, "vf_loss": 1389.8709716796875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08686677366495132, "total_loss": 1389.7996826171875, "cur_lr": 9.999999747378752e-05, "entropy": 133.49978637695312}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2640000, "training_iteration": 132, "episode_reward_mean": 0.0, "time_total_s": 2846.493614912033, "episodes_this_iter": 47, "done": false, "episode_len_mean": 489.95, "date": "2018-12-11_05-03-50", "iterations_since_restore": 132}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2867.711071252823, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6d80b8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -308.1711258568397, "av": 308.1711258568397}, "episode_reward_max": 0.0, "time_this_iter_s": 21.217456340789795, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2660000, "timestamp": 1544504651, "episodes_total": 6047, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.703, "num_steps_sampled": 2660000, "sample_time_ms": 12486.467, "grad_time_ms": 8740.167, "load_time_ms": 14.446, "num_steps_trained": 2660000, "av": {"vf_explained_var": 0.22477535903453827, "kl": 0.025893131271004677, "vf_loss": 1415.974365234375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.011174882762134075, "total_loss": 1415.96435546875, "cur_lr": 9.999999747378752e-05, "entropy": 2.951422929763794}, "adversary": {"vf_explained_var": 0.23095229268074036, "kl": 0.03435470536351204, "vf_loss": 1408.6793212890625, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.084132619202137, "total_loss": 1408.610595703125, "cur_lr": 9.999999747378752e-05, "entropy": 133.49476623535156}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2660000, "training_iteration": 133, "episode_reward_mean": 0.0, "time_total_s": 2867.711071252823, "episodes_this_iter": 44, "done": false, "episode_len_mean": 482.93, "date": "2018-12-11_05-04-11", "iterations_since_restore": 133}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2888.672313451767, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c8ac8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -307.18934540962846, "av": 307.18934540962846}, "episode_reward_max": 0.0, "time_this_iter_s": 20.961242198944092, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2680000, "timestamp": 1544504672, "episodes_total": 6093, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.518, "num_steps_sampled": 2680000, "sample_time_ms": 12460.09, "grad_time_ms": 8732.474, "load_time_ms": 14.529, "num_steps_trained": 2680000, "av": {"vf_explained_var": 0.13063344359397888, "kl": 0.03232982009649277, "vf_loss": 1355.828125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.01060502603650093, "total_loss": 1355.8189697265625, "cur_lr": 9.999999747378752e-05, "entropy": 2.9400954246520996}, "adversary": {"vf_explained_var": 0.1335659772157669, "kl": 0.0340583510696888, "vf_loss": 1362.62158203125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08483024686574936, "total_loss": 1362.5521240234375, "cur_lr": 9.999999747378752e-05, "entropy": 133.53672790527344}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2680000, "training_iteration": 134, "episode_reward_mean": 0.0, "time_total_s": 2888.672313451767, "episodes_this_iter": 46, "done": false, "episode_len_mean": 489.04, "date": "2018-12-11_05-04-32", "iterations_since_restore": 134}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2909.8272614479065, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f5153686b00>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -317.44550739301917, "av": 317.44550739301917}, "episode_reward_max": 0.0, "time_this_iter_s": 21.154947996139526, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2700000, "timestamp": 1544504694, "episodes_total": 6136, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.306, "num_steps_sampled": 2700000, "sample_time_ms": 12442.466, "grad_time_ms": 8724.735, "load_time_ms": 14.759, "num_steps_trained": 2700000, "av": {"vf_explained_var": 0.17604240775108337, "kl": 0.028052138164639473, "vf_loss": 1364.830078125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009767119772732258, "total_loss": 1364.821533203125, "cur_lr": 9.999999747378752e-05, "entropy": 2.9361588954925537}, "adversary": {"vf_explained_var": 0.17562255263328552, "kl": 0.0339047834277153, "vf_loss": 1375.149169921875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08551718294620514, "total_loss": 1375.0789794921875, "cur_lr": 9.999999747378752e-05, "entropy": 133.4784393310547}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2700000, "training_iteration": 135, "episode_reward_mean": 0.0, "time_total_s": 2909.8272614479065, "episodes_this_iter": 43, "done": false, "episode_len_mean": 495.67, "date": "2018-12-11_05-04-54", "iterations_since_restore": 135}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2930.8465478420258, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f5153683f28>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -313.9910405609014, "av": 313.9910405609014}, "episode_reward_max": 0.0, "time_this_iter_s": 21.019286394119263, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2720000, "timestamp": 1544504715, "episodes_total": 6182, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.314, "num_steps_sampled": 2720000, "sample_time_ms": 12408.828, "grad_time_ms": 8733.97, "load_time_ms": 14.958, "num_steps_trained": 2720000, "av": {"vf_explained_var": 0.1358792632818222, "kl": 0.030878206714987755, "vf_loss": 1292.3953857421875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009842649102210999, "total_loss": 1292.3868408203125, "cur_lr": 9.999999747378752e-05, "entropy": 2.940526008605957}, "adversary": {"vf_explained_var": 0.13651050627231598, "kl": 0.03411141410470009, "vf_loss": 1303.803955078125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08494702726602554, "total_loss": 1303.7342529296875, "cur_lr": 9.999999747378752e-05, "entropy": 133.39283752441406}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2720000, "training_iteration": 136, "episode_reward_mean": 0.0, "time_total_s": 2930.8465478420258, "episodes_this_iter": 46, "done": false, "episode_len_mean": 497.88, "date": "2018-12-11_05-05-15", "iterations_since_restore": 136}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2952.274258852005, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6b7dd8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -305.06534975248763, "av": 305.06534975248763}, "episode_reward_max": 0.0, "time_this_iter_s": 21.427711009979248, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2740000, "timestamp": 1544504736, "episodes_total": 6227, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.434, "num_steps_sampled": 2740000, "sample_time_ms": 12388.223, "grad_time_ms": 8767.27, "load_time_ms": 14.748, "num_steps_trained": 2740000, "av": {"vf_explained_var": 0.13978354632854462, "kl": 0.024270934984087944, "vf_loss": 1256.463623046875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009370977990329266, "total_loss": 1256.4552001953125, "cur_lr": 9.999999747378752e-05, "entropy": 2.934018850326538}, "adversary": {"vf_explained_var": 0.13634665310382843, "kl": 0.03392309322953224, "vf_loss": 1273.8106689453125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08489704877138138, "total_loss": 1273.740966796875, "cur_lr": 9.999999747378752e-05, "entropy": 133.375}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2740000, "training_iteration": 137, "episode_reward_mean": 0.0, "time_total_s": 2952.274258852005, "episodes_this_iter": 45, "done": false, "episode_len_mean": 493.44, "date": "2018-12-11_05-05-36", "iterations_since_restore": 137}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2973.1205728054047, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c8438>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -300.3937307424067, "av": 300.3937307424067}, "episode_reward_max": 0.0, "time_this_iter_s": 20.846313953399658, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2760000, "timestamp": 1544504757, "episodes_total": 6271, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.396, "num_steps_sampled": 2760000, "sample_time_ms": 12341.39, "grad_time_ms": 8762.293, "load_time_ms": 14.758, "num_steps_trained": 2760000, "av": {"vf_explained_var": 0.17339187860488892, "kl": 0.027574630454182625, "vf_loss": 1177.9715576171875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.01076352410018444, "total_loss": 1177.9619140625, "cur_lr": 9.999999747378752e-05, "entropy": 2.9197745323181152}, "adversary": {"vf_explained_var": 0.1702694147825241, "kl": 0.033276643604040146, "vf_loss": 1187.3206787109375, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08361387252807617, "total_loss": 1187.251953125, "cur_lr": 9.999999747378752e-05, "entropy": 133.4430389404297}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2760000, "training_iteration": 138, "episode_reward_mean": 0.0, "time_total_s": 2973.1205728054047, "episodes_this_iter": 44, "done": false, "episode_len_mean": 495.56, "date": "2018-12-11_05-05-57", "iterations_since_restore": 138}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 2994.3068804740906, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f5153683d68>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -316.27802716524013, "av": 316.27802716524013}, "episode_reward_max": 0.0, "time_this_iter_s": 21.186307668685913, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2780000, "timestamp": 1544504778, "episodes_total": 6314, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.293, "num_steps_sampled": 2780000, "sample_time_ms": 12318.367, "grad_time_ms": 8775.428, "load_time_ms": 14.661, "num_steps_trained": 2780000, "av": {"vf_explained_var": 0.17883937060832977, "kl": 0.02904868684709072, "vf_loss": 1272.3074951171875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.010996682569384575, "total_loss": 1272.2978515625, "cur_lr": 9.999999747378752e-05, "entropy": 2.8444294929504395}, "adversary": {"vf_explained_var": 0.180302694439888, "kl": 0.03393617272377014, "vf_loss": 1274.6844482421875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08584216982126236, "total_loss": 1274.6138916015625, "cur_lr": 9.999999747378752e-05, "entropy": 133.43699645996094}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2780000, "training_iteration": 139, "episode_reward_mean": 0.0, "time_total_s": 2994.3068804740906, "episodes_this_iter": 43, "done": false, "episode_len_mean": 500.0, "date": "2018-12-11_05-06-18", "iterations_since_restore": 139}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 3015.9037725925446, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f5153686588>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -308.8151790659134, "av": 308.8151790659134}, "episode_reward_max": 0.0, "time_this_iter_s": 21.59689211845398, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2800000, "timestamp": 1544504800, "episodes_total": 6360, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.395, "num_steps_sampled": 2800000, "sample_time_ms": 12271.564, "grad_time_ms": 8814.671, "load_time_ms": 14.801, "num_steps_trained": 2800000, "av": {"vf_explained_var": 0.1812051385641098, "kl": 0.027910202741622925, "vf_loss": 1352.7156982421875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.01129884459078312, "total_loss": 1352.70556640625, "cur_lr": 9.999999747378752e-05, "entropy": 2.928048849105835}, "adversary": {"vf_explained_var": 0.1833658516407013, "kl": 0.034624140709638596, "vf_loss": 1352.667236328125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08575614541769028, "total_loss": 1352.59716796875, "cur_lr": 9.999999747378752e-05, "entropy": 133.2076416015625}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2800000, "training_iteration": 140, "episode_reward_mean": 0.0, "time_total_s": 3015.9037725925446, "episodes_this_iter": 46, "done": false, "episode_len_mean": 497.02, "date": "2018-12-11_05-06-40", "iterations_since_restore": 140}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 3037.107442855835, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51535dff60>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -303.67125870124966, "av": 303.67125870124966}, "episode_reward_max": 0.0, "time_this_iter_s": 21.203670263290405, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2820000, "timestamp": 1544504821, "episodes_total": 6403, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.259, "num_steps_sampled": 2820000, "sample_time_ms": 12309.557, "grad_time_ms": 8805.388, "load_time_ms": 15.158, "num_steps_trained": 2820000, "av": {"vf_explained_var": 0.16573426127433777, "kl": 0.026220589876174927, "vf_loss": 1261.3336181640625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009941397234797478, "total_loss": 1261.3248291015625, "cur_lr": 9.999999747378752e-05, "entropy": 2.868131637573242}, "adversary": {"vf_explained_var": 0.16559001803398132, "kl": 0.03350745886564255, "vf_loss": 1255.552734375, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08322560787200928, "total_loss": 1255.484619140625, "cur_lr": 9.999999747378752e-05, "entropy": 133.3566436767578}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2820000, "training_iteration": 141, "episode_reward_mean": 0.0, "time_total_s": 3037.107442855835, "episodes_this_iter": 43, "done": false, "episode_len_mean": 495.83, "date": "2018-12-11_05-07-01", "iterations_since_restore": 141}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 3058.669127225876, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f515367d748>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -304.6713118986102, "av": 304.6713118986102}, "episode_reward_max": 0.0, "time_this_iter_s": 21.561684370040894, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2840000, "timestamp": 1544504843, "episodes_total": 6448, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.238, "num_steps_sampled": 2840000, "sample_time_ms": 12317.611, "grad_time_ms": 8815.565, "load_time_ms": 15.092, "num_steps_trained": 2840000, "av": {"vf_explained_var": 0.196295365691185, "kl": 0.025197604671120644, "vf_loss": 1356.92529296875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.009842143394052982, "total_loss": 1356.91650390625, "cur_lr": 9.999999747378752e-05, "entropy": 2.8477606773376465}, "adversary": {"vf_explained_var": 0.1925700604915619, "kl": 0.034395091235637665, "vf_loss": 1357.333984375, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08561677485704422, "total_loss": 1357.2637939453125, "cur_lr": 9.999999747378752e-05, "entropy": 133.34275817871094}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2840000, "training_iteration": 142, "episode_reward_mean": 0.0, "time_total_s": 3058.669127225876, "episodes_this_iter": 45, "done": false, "episode_len_mean": 489.66, "date": "2018-12-11_05-07-23", "iterations_since_restore": 142}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 3079.7375144958496, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c8ac8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -311.6709015984999, "av": 311.6709015984999}, "episode_reward_max": 0.0, "time_this_iter_s": 21.068387269973755, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2860000, "timestamp": 1544504864, "episodes_total": 6496, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.228, "num_steps_sampled": 2860000, "sample_time_ms": 12306.414, "grad_time_ms": 8812.511, "load_time_ms": 15.359, "num_steps_trained": 2860000, "av": {"vf_explained_var": 0.17238213121891022, "kl": 0.03365195170044899, "vf_loss": 1306.0955810546875, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.010806046426296234, "total_loss": 1306.086181640625, "cur_lr": 9.999999747378752e-05, "entropy": 2.8821113109588623}, "adversary": {"vf_explained_var": 0.17932601273059845, "kl": 0.033776942640542984, "vf_loss": 1307.09619140625, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08461423963308334, "total_loss": 1307.02685546875, "cur_lr": 9.999999747378752e-05, "entropy": 133.40374755859375}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2860000, "training_iteration": 143, "episode_reward_mean": 0.0, "time_total_s": 3079.7375144958496, "episodes_this_iter": 48, "done": false, "episode_len_mean": 484.22, "date": "2018-12-11_05-07-44", "iterations_since_restore": 143}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 3100.9639596939087, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6c88d0>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -316.85641538173604, "av": 316.85641538173604}, "episode_reward_max": 0.0, "time_this_iter_s": 21.226445198059082, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2880000, "timestamp": 1544504885, "episodes_total": 6542, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.413, "num_steps_sampled": 2880000, "sample_time_ms": 12333.625, "grad_time_ms": 8812.023, "load_time_ms": 14.904, "num_steps_trained": 2880000, "av": {"vf_explained_var": 0.14499138295650482, "kl": 0.023867163807153702, "vf_loss": 1300.745849609375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.01107916422188282, "total_loss": 1300.7357177734375, "cur_lr": 9.999999747378752e-05, "entropy": 2.8714964389801025}, "adversary": {"vf_explained_var": 0.14259658753871918, "kl": 0.03441556915640831, "vf_loss": 1294.7899169921875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08465912193059921, "total_loss": 1294.720703125, "cur_lr": 9.999999747378752e-05, "entropy": 133.28448486328125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2880000, "training_iteration": 144, "episode_reward_mean": 0.0, "time_total_s": 3100.9639596939087, "episodes_this_iter": 46, "done": false, "episode_len_mean": 485.22, "date": "2018-12-11_05-08-05", "iterations_since_restore": 144}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 3121.8983845710754, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f515367d278>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -309.0361556583026, "av": 309.0361556583026}, "episode_reward_max": 0.0, "time_this_iter_s": 20.934424877166748, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2900000, "timestamp": 1544504906, "episodes_total": 6584, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.445, "num_steps_sampled": 2900000, "sample_time_ms": 12318.743, "grad_time_ms": 8805.076, "load_time_ms": 14.927, "num_steps_trained": 2900000, "av": {"vf_explained_var": 0.16303718090057373, "kl": 0.0275751780718565, "vf_loss": 1325.195068359375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.011402423493564129, "total_loss": 1325.1846923828125, "cur_lr": 9.999999747378752e-05, "entropy": 2.8492677211761475}, "adversary": {"vf_explained_var": 0.16222943365573883, "kl": 0.033652130514383316, "vf_loss": 1316.8992919921875, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.0837835893034935, "total_loss": 1316.8306884765625, "cur_lr": 9.999999747378752e-05, "entropy": 133.32083129882812}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2900000, "training_iteration": 145, "episode_reward_mean": 0.0, "time_total_s": 3121.8983845710754, "episodes_this_iter": 42, "done": false, "episode_len_mean": 486.56, "date": "2018-12-11_05-08-26", "iterations_since_restore": 145}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 3142.954438686371, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f51406b8908>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -314.2450465211469, "av": 314.2450465211469}, "episode_reward_max": 0.0, "time_this_iter_s": 21.05605411529541, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2920000, "timestamp": 1544504927, "episodes_total": 6629, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.375, "num_steps_sampled": 2920000, "sample_time_ms": 12325.809, "grad_time_ms": 8800.826, "load_time_ms": 15.293, "num_steps_trained": 2920000, "av": {"vf_explained_var": 0.1687493473291397, "kl": 0.023868916556239128, "vf_loss": 1327.646240234375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.008981144987046719, "total_loss": 1327.63818359375, "cur_lr": 9.999999747378752e-05, "entropy": 2.9238743782043457}, "adversary": {"vf_explained_var": 0.1727372258901596, "kl": 0.03470923379063606, "vf_loss": 1319.7940673828125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08463062345981598, "total_loss": 1319.7252197265625, "cur_lr": 9.999999747378752e-05, "entropy": 133.26211547851562}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2920000, "training_iteration": 146, "episode_reward_mean": 0.0, "time_total_s": 3142.954438686371, "episodes_this_iter": 45, "done": false, "episode_len_mean": 493.35, "date": "2018-12-11_05-08-47", "iterations_since_restore": 146}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 3164.135524749756, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f5153695ba8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -310.71079568032906, "av": 310.71079568032906}, "episode_reward_max": 0.0, "time_this_iter_s": 21.18108606338501, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2940000, "timestamp": 1544504948, "episodes_total": 6675, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.132, "num_steps_sampled": 2940000, "sample_time_ms": 12336.828, "grad_time_ms": 8765.637, "load_time_ms": 15.519, "num_steps_trained": 2940000, "av": {"vf_explained_var": 0.21973879635334015, "kl": 0.026827292516827583, "vf_loss": 1307.2161865234375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.010622567497193813, "total_loss": 1307.2066650390625, "cur_lr": 9.999999747378752e-05, "entropy": 2.943960428237915}, "adversary": {"vf_explained_var": 0.2220791131258011, "kl": 0.03439672291278839, "vf_loss": 1305.25, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08584734052419662, "total_loss": 1305.1796875, "cur_lr": 9.999999747378752e-05, "entropy": 133.2792205810547}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2940000, "training_iteration": 147, "episode_reward_mean": 0.0, "time_total_s": 3164.135524749756, "episodes_this_iter": 46, "done": false, "episode_len_mean": 490.97, "date": "2018-12-11_05-09-08", "iterations_since_restore": 147}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 3185.143554210663, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f5153695358>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -301.49479944457664, "av": 301.49479944457664}, "episode_reward_max": 0.0, "time_this_iter_s": 21.008029460906982, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2960000, "timestamp": 1544504969, "episodes_total": 6720, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.157, "num_steps_sampled": 2960000, "sample_time_ms": 12371.545, "grad_time_ms": 8746.028, "load_time_ms": 15.582, "num_steps_trained": 2960000, "av": {"vf_explained_var": 0.21150676906108856, "kl": 0.02745439112186432, "vf_loss": 1421.4052734375, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.012327599339187145, "total_loss": 1421.39404296875, "cur_lr": 9.999999747378752e-05, "entropy": 2.998528003692627}, "adversary": {"vf_explained_var": 0.21171756088733673, "kl": 0.034405823796987534, "vf_loss": 1416.0968017578125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.0871572270989418, "total_loss": 1416.0250244140625, "cur_lr": 9.999999747378752e-05, "entropy": 133.243408203125}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2960000, "training_iteration": 148, "episode_reward_mean": 0.0, "time_total_s": 3185.143554210663, "episodes_this_iter": 45, "done": false, "episode_len_mean": 479.04, "date": "2018-12-11_05-09-29", "iterations_since_restore": 148}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 3203.964284658432, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d5a0dd8>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -314.57451185352386, "av": 314.57451185352386}, "episode_reward_max": 0.0, "time_this_iter_s": 18.820730447769165, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 2980000, "timestamp": 1544504988, "episodes_total": 6766, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 8.2, "num_steps_sampled": 2980000, "sample_time_ms": 12331.13, "grad_time_ms": 8550.68, "load_time_ms": 15.404, "num_steps_trained": 2980000, "av": {"vf_explained_var": 0.2078479826450348, "kl": 0.027984753251075745, "vf_loss": 1306.9156494140625, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.011674454435706139, "total_loss": 1306.905029296875, "cur_lr": 9.999999747378752e-05, "entropy": 2.968096971511841}, "adversary": {"vf_explained_var": 0.21460029482841492, "kl": 0.03412443399429321, "vf_loss": 1293.9259033203125, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.08622821420431137, "total_loss": 1293.85498046875, "cur_lr": 9.999999747378752e-05, "entropy": 133.328369140625}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 2980000, "training_iteration": 149, "episode_reward_mean": 0.0, "time_total_s": 3203.964284658432, "episodes_this_iter": 46, "done": false, "episode_len_mean": 478.78, "date": "2018-12-11_05-09-48", "iterations_since_restore": 149}
{"node_ip": "172.31.23.63", "timesteps_this_iter": 20000, "hostname": "ip-172-31-23-63", "time_since_restore": 3223.1499259471893, "config": {"num_cpus_for_driver": 1, "num_sgd_iter": 10, "lr": 0.0001, "sample_batch_size": 200, "multiagent": {"policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}, "policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7f513d6a8358>", "policies_to_train": null}, "synchronize_filters": true, "clip_rewards": null, "optimizer": {}, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "model": {"framestack": true, "conv_filters": null, "grayscale": false, "use_lstm": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "channel_major": false, "max_seq_len": 20, "custom_model": null, "free_log_std": false}, "use_gae": true, "sgd_minibatch_size": 128, "monitor": false, "collect_metrics_timeout": 180, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "vf_clip_param": 10.0, "clip_actions": false, "horizon": 500, "entropy_coeff": 0.0, "simple_optimizer": false, "lr_schedule": null, "num_envs_per_worker": 1, "sample_async": false, "num_workers": 10, "clip_param": 0.3, "kl_coeff": 0.2, "vf_share_layers": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "custom_resources_per_worker": {}, "observation_filter": "NoFilter", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "compress_observations": false, "num_gpus": 0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_state_weight\": 0.2,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_23\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiAgentUDSSCMergeEnvReset-v0", "batch_mode": "truncate_episodes", "gamma": 0.999, "kl_target": 0.02, "num_gpus_per_worker": 0, "train_batch_size": 20000, "lambda": 0.97, "tf_session_args": {"allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2}}, "policy_reward_mean": {"adversary": -330.2141061890508, "av": 330.2141061890508}, "episode_reward_max": 0.0, "time_this_iter_s": 19.185641288757324, "experiment_id": "74eab140bb9d4d4c958d2878e4eba22f", "episode_reward_min": 0.0, "timesteps_total": 3000000, "timestamp": 1544505007, "episodes_total": 6810, "num_metric_batches_dropped": 0, "info": {"update_time_ms": 7.931, "num_steps_sampled": 3000000, "sample_time_ms": 12299.972, "grad_time_ms": 8342.138, "load_time_ms": 15.271, "num_steps_trained": 3000000, "av": {"vf_explained_var": 0.16243132948875427, "kl": 0.029742883518338203, "vf_loss": 1356.5723876953125, "cur_kl_coeff": 0.04218750447034836, "policy_loss": -0.011505784466862679, "total_loss": 1356.5621337890625, "cur_lr": 9.999999747378752e-05, "entropy": 2.9389336109161377}, "adversary": {"vf_explained_var": 0.168436661362648, "kl": 0.03588433936238289, "vf_loss": 1345.0582275390625, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.0873057171702385, "total_loss": 1344.9871826171875, "cur_lr": 9.999999747378752e-05, "entropy": 133.3193359375}}, "custom_metrics": {}, "pid": 3352, "timesteps_since_restore": 3000000, "training_iteration": 150, "episode_reward_mean": 0.0, "time_total_s": 3223.1499259471893, "episodes_this_iter": 44, "done": true, "episode_len_mean": 489.38, "date": "2018-12-11_05-10-07", "iterations_since_restore": 150}
