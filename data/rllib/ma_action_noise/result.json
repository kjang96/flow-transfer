{"pid": 3344, "timesteps_since_restore": 20000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 20000, "episode_reward_min": 0.0, "episodes_this_iter": 83, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d2726d8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 30.362762689590454, "episodes_total": 83, "policy_reward_mean": {"adversary": 485.53316335525193, "av": -485.53316335525193}, "time_total_s": 30.362762689590454, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 9649.41015625, "kl": 0.01821817085146904, "vf_loss": 9649.455078125, "policy_loss": -0.048587679862976074, "entropy": 136.18467712402344, "vf_explained_var": 1.840178811107762e-05}, "update_time_ms": 1421.757, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 9663.6357421875, "kl": 0.008803046308457851, "vf_loss": 9663.640625, "policy_loss": -0.006232584826648235, "entropy": 2.824922561645508, "vf_explained_var": 1.7054569980246015e-05}, "grad_time_ms": 7157.358, "load_time_ms": 148.945, "num_steps_sampled": 20000, "num_steps_trained": 20000, "sample_time_ms": 21475.921}, "hostname": "ip-172-31-27-32", "timestamp": 1544501865, "episode_len_mean": 251.59036144578315, "iterations_since_restore": 1, "date": "2018-12-11_04-17-45", "episode_reward_mean": 0.0, "time_this_iter_s": 30.362762689590454, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 1}
{"pid": 3344, "timesteps_since_restore": 40000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 40000, "episode_reward_min": 0.0, "episodes_this_iter": 69, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731e29e8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 54.41816520690918, "episodes_total": 152, "policy_reward_mean": {"adversary": 262.91816073366834, "av": -262.91816073366834}, "time_total_s": 54.41816520690918, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 948.8598022460938, "kl": 0.022735418751835823, "vf_loss": 948.9104614257812, "policy_loss": -0.055240239948034286, "entropy": 136.17372131347656, "vf_explained_var": 1.5272544260369614e-05}, "update_time_ms": 714.698, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.10000002384185791, "total_loss": 947.591552734375, "kl": 0.016430186107754707, "vf_loss": 947.6025390625, "policy_loss": -0.012651229277253151, "entropy": 2.823178768157959, "vf_explained_var": 1.307901675318135e-05}, "grad_time_ms": 7210.366, "load_time_ms": 81.246, "num_steps_sampled": 40000, "num_steps_trained": 40000, "sample_time_ms": 19094.853}, "hostname": "ip-172-31-27-32", "timestamp": 1544501889, "episode_len_mean": 302.8, "iterations_since_restore": 2, "date": "2018-12-11_04-18-09", "episode_reward_mean": 0.0, "time_this_iter_s": 24.055402517318726, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 2}
{"pid": 3344, "timesteps_since_restore": 60000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 60000, "episode_reward_min": 0.0, "episodes_this_iter": 57, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1b6b00>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 77.53619503974915, "episodes_total": 209, "policy_reward_mean": {"adversary": 75.63430280328527, "av": -75.63430280328527}, "time_total_s": 77.53619503974915, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 517.4814453125, "kl": 0.023860348388552666, "vf_loss": 517.5324096679688, "policy_loss": -0.05566944181919098, "entropy": 136.19972229003906, "vf_explained_var": 4.198612441541627e-05}, "update_time_ms": 479.099, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.10000002384185791, "total_loss": 517.5119018554688, "kl": 0.012128470465540886, "vf_loss": 517.5205078125, "policy_loss": -0.009792451746761799, "entropy": 2.8157267570495605, "vf_explained_var": 3.173909135512076e-05}, "grad_time_ms": 7184.476, "load_time_ms": 58.77, "num_steps_sampled": 60000, "num_steps_trained": 60000, "sample_time_ms": 18033.157}, "hostname": "ip-172-31-27-32", "timestamp": 1544501912, "episode_len_mean": 331.51, "iterations_since_restore": 3, "date": "2018-12-11_04-18-32", "episode_reward_mean": 0.0, "time_this_iter_s": 23.118029832839966, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 3}
{"pid": 3344, "timesteps_since_restore": 80000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 80000, "episode_reward_min": 0.0, "episodes_this_iter": 48, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d0c50>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 99.47557139396667, "episodes_total": 257, "policy_reward_mean": {"adversary": -47.48539074540823, "av": 47.48539074540823}, "time_total_s": 99.47557139396667, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 217.98106384277344, "kl": 0.02600632607936859, "vf_loss": 218.03343200683594, "policy_loss": -0.05755791440606117, "entropy": 136.21531677246094, "vf_explained_var": 0.23396103084087372}, "update_time_ms": 362.448, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.10000002384185791, "total_loss": 217.64938354492188, "kl": 0.013472073711454868, "vf_loss": 217.658203125, "policy_loss": -0.010174224153161049, "entropy": 2.788125991821289, "vf_explained_var": 0.23190650343894958}, "grad_time_ms": 7236.736, "load_time_ms": 47.961, "num_steps_sampled": 80000, "num_steps_trained": 80000, "sample_time_ms": 17138.894}, "hostname": "ip-172-31-27-32", "timestamp": 1544501934, "episode_len_mean": 406.99, "iterations_since_restore": 4, "date": "2018-12-11_04-18-54", "episode_reward_mean": 0.0, "time_this_iter_s": 21.93937635421753, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 4}
{"pid": 3344, "timesteps_since_restore": 100000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 100000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1c78d0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 121.03437304496765, "episodes_total": 303, "policy_reward_mean": {"adversary": -164.50130144613613, "av": 164.50130144613613}, "time_total_s": 121.03437304496765, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 264.4061584472656, "kl": 0.02584877423942089, "vf_loss": 264.4579772949219, "policy_loss": -0.05701389163732529, "entropy": 136.20657348632812, "vf_explained_var": 0.3327473998069763}, "update_time_ms": 291.509, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.10000002384185791, "total_loss": 263.6363830566406, "kl": 0.010588670149445534, "vf_loss": 263.6437072753906, "policy_loss": -0.008417271077632904, "entropy": 2.7979583740234375, "vf_explained_var": 0.33377137780189514}, "grad_time_ms": 7252.64, "load_time_ms": 41.339, "num_steps_sampled": 100000, "num_steps_trained": 100000, "sample_time_ms": 16543.502}, "hostname": "ip-172-31-27-32", "timestamp": 1544501956, "episode_len_mean": 451.14, "iterations_since_restore": 5, "date": "2018-12-11_04-19-16", "episode_reward_mean": 0.0, "time_this_iter_s": 21.558801651000977, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 5}
{"pid": 3344, "timesteps_since_restore": 120000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 120000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d8278>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 142.62723851203918, "episodes_total": 347, "policy_reward_mean": {"adversary": -232.19462398401566, "av": 232.19462398401566}, "time_total_s": 142.62723851203918, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 312.9761047363281, "kl": 0.027621254324913025, "vf_loss": 313.0270080566406, "policy_loss": -0.056435585021972656, "entropy": 136.2177734375, "vf_explained_var": 0.35260412096977234}, "update_time_ms": 244.308, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.10000002384185791, "total_loss": 311.4949035644531, "kl": 0.009409395977854729, "vf_loss": 311.4998474121094, "policy_loss": -0.005916374735534191, "entropy": 2.783989906311035, "vf_explained_var": 0.3616999685764313}, "grad_time_ms": 7268.932, "load_time_ms": 36.913, "num_steps_sampled": 120000, "num_steps_trained": 120000, "sample_time_ms": 16145.811}, "hostname": "ip-172-31-27-32", "timestamp": 1544501978, "episode_len_mean": 474.41, "iterations_since_restore": 6, "date": "2018-12-11_04-19-38", "episode_reward_mean": 0.0, "time_this_iter_s": 21.592865467071533, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 6}
{"pid": 3344, "timesteps_since_restore": 140000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 140000, "episode_reward_min": 0.0, "episodes_this_iter": 47, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e8198>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 163.22762656211853, "episodes_total": 394, "policy_reward_mean": {"adversary": -296.3490618088053, "av": 296.3490618088053}, "time_total_s": 163.22762656211853, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 309.6751403808594, "kl": 0.0291781984269619, "vf_loss": 309.7269287109375, "policy_loss": -0.05764908716082573, "entropy": 136.20083618164062, "vf_explained_var": 0.21228618919849396}, "update_time_ms": 210.462, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.050000011920928955, "total_loss": 308.24578857421875, "kl": 0.011998339556157589, "vf_loss": 308.25286865234375, "policy_loss": -0.007672957144677639, "entropy": 2.7656354904174805, "vf_explained_var": 0.2193051427602768}, "grad_time_ms": 7278.571, "load_time_ms": 33.701, "num_steps_sampled": 140000, "num_steps_trained": 140000, "sample_time_ms": 15723.557}, "hostname": "ip-172-31-27-32", "timestamp": 1544501998, "episode_len_mean": 492.7, "iterations_since_restore": 7, "date": "2018-12-11_04-19-58", "episode_reward_mean": 0.0, "time_this_iter_s": 20.600388050079346, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 7}
{"pid": 3344, "timesteps_since_restore": 160000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 160000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d0be0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 184.68705034255981, "episodes_total": 437, "policy_reward_mean": {"adversary": -323.192344349924, "av": 323.192344349924}, "time_total_s": 184.68705034255981, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 348.8563232421875, "kl": 0.02987825497984886, "vf_loss": 348.9071960449219, "policy_loss": -0.05685044452548027, "entropy": 136.20179748535156, "vf_explained_var": 0.07493499666452408}, "update_time_ms": 185.156, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.050000011920928955, "total_loss": 349.0503234863281, "kl": 0.009689944796264172, "vf_loss": 349.0557861328125, "policy_loss": -0.00592390401288867, "entropy": 2.7499942779541016, "vf_explained_var": 0.09616564214229584}, "grad_time_ms": 7281.588, "load_time_ms": 31.417, "num_steps_sampled": 160000, "num_steps_trained": 160000, "sample_time_ms": 15516.966}, "hostname": "ip-172-31-27-32", "timestamp": 1544502020, "episode_len_mean": 498.14, "iterations_since_restore": 8, "date": "2018-12-11_04-20-20", "episode_reward_mean": 0.0, "time_this_iter_s": 21.459423780441284, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 8}
{"pid": 3344, "timesteps_since_restore": 180000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 180000, "episode_reward_min": 0.0, "episodes_this_iter": 42, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e0710>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 205.9205138683319, "episodes_total": 479, "policy_reward_mean": {"adversary": -361.0408400441453, "av": 361.0408400441453}, "time_total_s": 205.9205138683319, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 385.5609436035156, "kl": 0.03083878569304943, "vf_loss": 385.61273193359375, "policy_loss": -0.0579373762011528, "entropy": 136.20201110839844, "vf_explained_var": 0.043658703565597534}, "update_time_ms": 165.525, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.025000005960464478, "total_loss": 385.0397033691406, "kl": 0.009194179438054562, "vf_loss": 385.0436706542969, "policy_loss": -0.0042225634679198265, "entropy": 2.723691463470459, "vf_explained_var": 0.05600022152066231}, "grad_time_ms": 7291.292, "load_time_ms": 29.731, "num_steps_sampled": 180000, "num_steps_trained": 180000, "sample_time_ms": 15323.585}, "hostname": "ip-172-31-27-32", "timestamp": 1544502041, "episode_len_mean": 496.65, "iterations_since_restore": 9, "date": "2018-12-11_04-20-41", "episode_reward_mean": 0.0, "time_this_iter_s": 21.233463525772095, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 9}
{"pid": 3344, "timesteps_since_restore": 200000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 200000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e04a8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 226.4082896709442, "episodes_total": 525, "policy_reward_mean": {"adversary": -382.3262957549566, "av": 382.3262957549566}, "time_total_s": 226.4082896709442, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 391.1634216308594, "kl": 0.03155415505170822, "vf_loss": 391.2130126953125, "policy_loss": -0.055901844054460526, "entropy": 136.3142852783203, "vf_explained_var": 0.0023471147287636995}, "update_time_ms": 150.072, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.012500002980232239, "total_loss": 390.3255310058594, "kl": 0.01713889092206955, "vf_loss": 390.33056640625, "policy_loss": -0.0052843354642391205, "entropy": 2.688704252243042, "vf_explained_var": 0.006269628182053566}, "grad_time_ms": 7286.656, "load_time_ms": 28.235, "num_steps_sampled": 200000, "num_steps_trained": 200000, "sample_time_ms": 15107.581}, "hostname": "ip-172-31-27-32", "timestamp": 1544502061, "episode_len_mean": 492.57, "iterations_since_restore": 10, "date": "2018-12-11_04-21-01", "episode_reward_mean": 0.0, "time_this_iter_s": 20.487775802612305, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 10}
{"pid": 3344, "timesteps_since_restore": 220000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 220000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e85c0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 247.43951511383057, "episodes_total": 571, "policy_reward_mean": {"adversary": -387.00839051989567, "av": 387.00839051989567}, "time_total_s": 247.43951511383057, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 396.503662109375, "kl": 0.03338773921132088, "vf_loss": 396.55517578125, "policy_loss": -0.058137282729148865, "entropy": 136.2887420654297, "vf_explained_var": 0.015165092423558235}, "update_time_ms": 8.726, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.012500002980232239, "total_loss": 395.92974853515625, "kl": 0.015774846076965332, "vf_loss": 395.9358825683594, "policy_loss": -0.0063038659282028675, "entropy": 2.676624059677124, "vf_explained_var": 0.016564833000302315}, "grad_time_ms": 7303.794, "load_time_ms": 14.964, "num_steps_sampled": 220000, "num_steps_trained": 220000, "sample_time_ms": 14321.821}, "hostname": "ip-172-31-27-32", "timestamp": 1544502082, "episode_len_mean": 493.33, "iterations_since_restore": 11, "date": "2018-12-11_04-21-22", "episode_reward_mean": 0.0, "time_this_iter_s": 21.031225442886353, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 11}
{"pid": 3344, "timesteps_since_restore": 240000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 240000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1b6c88>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 268.4551041126251, "episodes_total": 615, "policy_reward_mean": {"adversary": -380.84613790001487, "av": 380.84613790001487}, "time_total_s": 268.4551041126251, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 376.6502380371094, "kl": 0.03400234878063202, "vf_loss": 376.7047424316406, "policy_loss": -0.06129729375243187, "entropy": 136.25949096679688, "vf_explained_var": 0.014178181067109108}, "update_time_ms": 9.047, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.012500002980232239, "total_loss": 377.0660705566406, "kl": 0.017963845282793045, "vf_loss": 377.07208251953125, "policy_loss": -0.006300718057900667, "entropy": 2.671266555786133, "vf_explained_var": 0.00686054490506649}, "grad_time_ms": 7321.677, "load_time_ms": 15.179, "num_steps_sampled": 240000, "num_steps_trained": 240000, "sample_time_ms": 13998.832}, "hostname": "ip-172-31-27-32", "timestamp": 1544502103, "episode_len_mean": 491.58, "iterations_since_restore": 12, "date": "2018-12-11_04-21-43", "episode_reward_mean": 0.0, "time_this_iter_s": 21.015588998794556, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 12}
{"pid": 3344, "timesteps_since_restore": 260000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 260000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e85c0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 289.34321689605713, "episodes_total": 659, "policy_reward_mean": {"adversary": -389.6178108251593, "av": 389.6178108251593}, "time_total_s": 289.34321689605713, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 411.7604064941406, "kl": 0.03252236172556877, "vf_loss": 411.8104248046875, "policy_loss": -0.05647878721356392, "entropy": 136.30130004882812, "vf_explained_var": 0.006012108642607927}, "update_time_ms": 9.309, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.012500002980232239, "total_loss": 411.7210998535156, "kl": 0.008732571266591549, "vf_loss": 411.7239074707031, "policy_loss": -0.002914331154897809, "entropy": 2.6563024520874023, "vf_explained_var": 0.0073587605729699135}, "grad_time_ms": 7338.778, "load_time_ms": 15.386, "num_steps_sampled": 260000, "num_steps_trained": 260000, "sample_time_ms": 13757.561}, "hostname": "ip-172-31-27-32", "timestamp": 1544502124, "episode_len_mean": 494.17, "iterations_since_restore": 13, "date": "2018-12-11_04-22-04", "episode_reward_mean": 0.0, "time_this_iter_s": 20.888112783432007, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 13}
{"pid": 3344, "timesteps_since_restore": 280000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 280000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e06a0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 310.7105281352997, "episodes_total": 704, "policy_reward_mean": {"adversary": -405.064692720214, "av": 405.064692720214}, "time_total_s": 310.7105281352997, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 431.72491455078125, "kl": 0.03374408930540085, "vf_loss": 431.77435302734375, "policy_loss": -0.05622798949480057, "entropy": 136.27243041992188, "vf_explained_var": 0.0018052721861749887}, "update_time_ms": 8.843, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.006250001490116119, "total_loss": 430.59466552734375, "kl": 0.01621617190539837, "vf_loss": 430.6005554199219, "policy_loss": -0.006072553340345621, "entropy": 2.650151252746582, "vf_explained_var": 0.003991288132965565}, "grad_time_ms": 7334.741, "load_time_ms": 15.498, "num_steps_sampled": 280000, "num_steps_trained": 280000, "sample_time_ms": 13704.598}, "hostname": "ip-172-31-27-32", "timestamp": 1544502146, "episode_len_mean": 497.51, "iterations_since_restore": 14, "date": "2018-12-11_04-22-26", "episode_reward_mean": 0.0, "time_this_iter_s": 21.367311239242554, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 14}
{"pid": 3344, "timesteps_since_restore": 300000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 300000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d272f28>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 331.77243089675903, "episodes_total": 747, "policy_reward_mean": {"adversary": -405.9006445402554, "av": 405.9006445402554}, "time_total_s": 331.77243089675903, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 422.58685302734375, "kl": 0.03425624966621399, "vf_loss": 422.6383361816406, "policy_loss": -0.05832824856042862, "entropy": 136.2831268310547, "vf_explained_var": 0.0053195408545434475}, "update_time_ms": 8.894, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.006250001490116119, "total_loss": 422.2348327636719, "kl": 0.01688968762755394, "vf_loss": 422.23944091796875, "policy_loss": -0.0047007594257593155, "entropy": 2.6583075523376465, "vf_explained_var": 0.011979960836470127}, "grad_time_ms": 7322.124, "load_time_ms": 15.512, "num_steps_sampled": 300000, "num_steps_trained": 300000, "sample_time_ms": 13666.889}, "hostname": "ip-172-31-27-32", "timestamp": 1544502167, "episode_len_mean": 500.0, "iterations_since_restore": 15, "date": "2018-12-11_04-22-47", "episode_reward_mean": 0.0, "time_this_iter_s": 21.06190276145935, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 15}
{"pid": 3344, "timesteps_since_restore": 320000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 320000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d8f60>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 352.798152923584, "episodes_total": 792, "policy_reward_mean": {"adversary": -403.635691878785, "av": 403.635691878785}, "time_total_s": 352.798152923584, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 429.35748291015625, "kl": 0.034692488610744476, "vf_loss": 429.40936279296875, "policy_loss": -0.05876219645142555, "entropy": 136.3054656982422, "vf_explained_var": 0.0032863349188119173}, "update_time_ms": 9.026, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.006250001490116119, "total_loss": 425.9033508300781, "kl": 0.011121910065412521, "vf_loss": 425.9075927734375, "policy_loss": -0.004288910888135433, "entropy": 2.6231634616851807, "vf_explained_var": 0.016793742775917053}, "grad_time_ms": 7299.507, "load_time_ms": 15.544, "num_steps_sampled": 320000, "num_steps_trained": 320000, "sample_time_ms": 13633.038}, "hostname": "ip-172-31-27-32", "timestamp": 1544502188, "episode_len_mean": 500.0, "iterations_since_restore": 16, "date": "2018-12-11_04-23-08", "episode_reward_mean": 0.0, "time_this_iter_s": 21.02572202682495, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 16}
{"pid": 3344, "timesteps_since_restore": 340000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 340000, "episode_reward_min": 0.0, "episodes_this_iter": 42, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e0710>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 374.3620653152466, "episodes_total": 834, "policy_reward_mean": {"adversary": -407.6444816757184, "av": 407.6444816757184}, "time_total_s": 374.3620653152466, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 426.35107421875, "kl": 0.03488260507583618, "vf_loss": 426.40264892578125, "policy_loss": -0.05860859900712967, "entropy": 136.31509399414062, "vf_explained_var": 0.0025866879150271416}, "update_time_ms": 9.103, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.006250001490116119, "total_loss": 423.6639709472656, "kl": 0.021454306319355965, "vf_loss": 423.6701354980469, "policy_loss": -0.006331903859972954, "entropy": 2.6121721267700195, "vf_explained_var": 0.014007692225277424}, "grad_time_ms": 7307.904, "load_time_ms": 15.576, "num_steps_sampled": 340000, "num_steps_trained": 340000, "sample_time_ms": 13720.151}, "hostname": "ip-172-31-27-32", "timestamp": 1544502209, "episode_len_mean": 500.0, "iterations_since_restore": 17, "date": "2018-12-11_04-23-29", "episode_reward_mean": 0.0, "time_this_iter_s": 21.563912391662598, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 17}
{"pid": 3344, "timesteps_since_restore": 360000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 360000, "episode_reward_min": 0.0, "episodes_this_iter": 48, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e8390>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 395.80909061431885, "episodes_total": 882, "policy_reward_mean": {"adversary": -399.63778385509926, "av": 399.63778385509926}, "time_total_s": 395.80909061431885, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 426.6075744628906, "kl": 0.03407817706465721, "vf_loss": 426.6579895019531, "policy_loss": -0.05717284977436066, "entropy": 136.2960662841797, "vf_explained_var": 0.007765491027384996}, "update_time_ms": 9.197, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.006250001490116119, "total_loss": 418.84869384765625, "kl": 0.042232695966959, "vf_loss": 418.85772705078125, "policy_loss": -0.009253418073058128, "entropy": 2.643040657043457, "vf_explained_var": 0.045010119676589966}, "grad_time_ms": 7303.918, "load_time_ms": 15.571, "num_steps_sampled": 360000, "num_steps_trained": 360000, "sample_time_ms": 13723.224}, "hostname": "ip-172-31-27-32", "timestamp": 1544502231, "episode_len_mean": 495.97, "iterations_since_restore": 18, "date": "2018-12-11_04-23-51", "episode_reward_mean": 0.0, "time_this_iter_s": 21.447025299072266, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 18}
{"pid": 3344, "timesteps_since_restore": 380000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 380000, "episode_reward_min": 0.0, "episodes_this_iter": 42, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d0ac8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 416.7169907093048, "episodes_total": 924, "policy_reward_mean": {"adversary": -398.8405868083913, "av": 398.8405868083913}, "time_total_s": 416.7169907093048, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 447.1039123535156, "kl": 0.03398782014846802, "vf_loss": 447.1531982421875, "policy_loss": -0.05606388300657272, "entropy": 136.43600463867188, "vf_explained_var": 0.0002590242074802518}, "update_time_ms": 9.144, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 438.5486755371094, "kl": 0.01400757022202015, "vf_loss": 438.55242919921875, "policy_loss": -0.0038970117457211018, "entropy": 2.5796091556549072, "vf_explained_var": 0.04174741730093956}, "grad_time_ms": 7282.058, "load_time_ms": 15.302, "num_steps_sampled": 380000, "num_steps_trained": 380000, "sample_time_ms": 13714.185}, "hostname": "ip-172-31-27-32", "timestamp": 1544502252, "episode_len_mean": 495.97, "iterations_since_restore": 19, "date": "2018-12-11_04-24-12", "episode_reward_mean": 0.0, "time_this_iter_s": 20.907900094985962, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 19}
{"pid": 3344, "timesteps_since_restore": 400000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 400000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e86d8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 437.28852248191833, "episodes_total": 967, "policy_reward_mean": {"adversary": -406.40152042070787, "av": 406.40152042070787}, "time_total_s": 437.28852248191833, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 459.30780029296875, "kl": 0.03399137407541275, "vf_loss": 459.35693359375, "policy_loss": -0.0559530071914196, "entropy": 136.4283447265625, "vf_explained_var": 0.0020141249988228083}, "update_time_ms": 8.782, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 450.1529846191406, "kl": 0.013748480938374996, "vf_loss": 450.1563415527344, "policy_loss": -0.0035264752805233, "entropy": 2.5559210777282715, "vf_explained_var": 0.08271661400794983}, "grad_time_ms": 7290.304, "load_time_ms": 15.278, "num_steps_sampled": 400000, "num_steps_trained": 400000, "sample_time_ms": 13713.879}, "hostname": "ip-172-31-27-32", "timestamp": 1544502272, "episode_len_mean": 500.0, "iterations_since_restore": 20, "date": "2018-12-11_04-24-32", "episode_reward_mean": 0.0, "time_this_iter_s": 20.571531772613525, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 20}
{"pid": 3344, "timesteps_since_restore": 420000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 420000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e85f8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 458.06920194625854, "episodes_total": 1012, "policy_reward_mean": {"adversary": -400.98117049247435, "av": 400.98117049247435}, "time_total_s": 458.06920194625854, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 461.2292785644531, "kl": 0.03636546805500984, "vf_loss": 461.2792053222656, "policy_loss": -0.057196322828531265, "entropy": 136.4630584716797, "vf_explained_var": 1.2362997040327173e-05}, "update_time_ms": 8.808, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 424.96905517578125, "kl": 0.013266990892589092, "vf_loss": 424.97265625, "policy_loss": -0.0037456597201526165, "entropy": 2.5437936782836914, "vf_explained_var": 0.1692279875278473}, "grad_time_ms": 7275.63, "load_time_ms": 15.171, "num_steps_sampled": 420000, "num_steps_trained": 420000, "sample_time_ms": 13703.631}, "hostname": "ip-172-31-27-32", "timestamp": 1544502293, "episode_len_mean": 500.0, "iterations_since_restore": 21, "date": "2018-12-11_04-24-53", "episode_reward_mean": 0.0, "time_this_iter_s": 20.78067946434021, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 21}
{"pid": 3344, "timesteps_since_restore": 440000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 440000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e2940>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 478.913321018219, "episodes_total": 1057, "policy_reward_mean": {"adversary": -406.51978990848255, "av": 406.51978990848255}, "time_total_s": 478.913321018219, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 485.9403076171875, "kl": 0.03420109674334526, "vf_loss": 485.9872741699219, "policy_loss": -0.05380157753825188, "entropy": 136.50538635253906, "vf_explained_var": 0.0001570888125570491}, "update_time_ms": 8.834, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 439.4161071777344, "kl": 0.014208173379302025, "vf_loss": 439.4190673828125, "policy_loss": -0.003059466602280736, "entropy": 2.49066162109375, "vf_explained_var": 0.17246662080287933}, "grad_time_ms": 7257.505, "load_time_ms": 14.99, "num_steps_sampled": 440000, "num_steps_trained": 440000, "sample_time_ms": 13705.136}, "hostname": "ip-172-31-27-32", "timestamp": 1544502314, "episode_len_mean": 500.0, "iterations_since_restore": 22, "date": "2018-12-11_04-25-14", "episode_reward_mean": 0.0, "time_this_iter_s": 20.84411907196045, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 22}
{"pid": 3344, "timesteps_since_restore": 460000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 460000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e8a20>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 499.636990070343, "episodes_total": 1101, "policy_reward_mean": {"adversary": -408.4075710711457, "av": 408.4075710711457}, "time_total_s": 499.636990070343, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 478.3526611328125, "kl": 0.03564636409282684, "vf_loss": 478.40032958984375, "policy_loss": -0.05476638674736023, "entropy": 136.41429138183594, "vf_explained_var": 0.0006441718433052301}, "update_time_ms": 8.61, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 427.0216369628906, "kl": 0.03233316168189049, "vf_loss": 427.0266418457031, "policy_loss": -0.0052633523009717464, "entropy": 2.5289268493652344, "vf_explained_var": 0.1631777137517929}, "grad_time_ms": 7254.852, "load_time_ms": 15.113, "num_steps_sampled": 460000, "num_steps_trained": 460000, "sample_time_ms": 13692.043}, "hostname": "ip-172-31-27-32", "timestamp": 1544502335, "episode_len_mean": 500.0, "iterations_since_restore": 23, "date": "2018-12-11_04-25-35", "episode_reward_mean": 0.0, "time_this_iter_s": 20.723669052124023, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 23}
{"pid": 3344, "timesteps_since_restore": 480000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 480000, "episode_reward_min": 0.0, "episodes_this_iter": 42, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d8668>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 520.1508958339691, "episodes_total": 1143, "policy_reward_mean": {"adversary": -406.8852262781527, "av": 406.8852262781527}, "time_total_s": 520.1508958339691, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 505.92803955078125, "kl": 0.03384201601147652, "vf_loss": 505.97540283203125, "policy_loss": -0.05413193628191948, "entropy": 136.5564422607422, "vf_explained_var": 6.6410269937478e-05}, "update_time_ms": 8.707, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 444.1031188964844, "kl": 0.014340207912027836, "vf_loss": 444.1064758300781, "policy_loss": -0.003502954263240099, "entropy": 2.4864656925201416, "vf_explained_var": 0.16600261628627777}, "grad_time_ms": 7229.303, "load_time_ms": 15.123, "num_steps_sampled": 480000, "num_steps_trained": 480000, "sample_time_ms": 13632.133}, "hostname": "ip-172-31-27-32", "timestamp": 1544502355, "episode_len_mean": 500.0, "iterations_since_restore": 24, "date": "2018-12-11_04-25-55", "episode_reward_mean": 0.0, "time_this_iter_s": 20.5139057636261, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 24}
{"pid": 3344, "timesteps_since_restore": 500000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 500000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e29b0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 540.8170471191406, "episodes_total": 1187, "policy_reward_mean": {"adversary": -411.2323630901846, "av": 411.2323630901846}, "time_total_s": 540.8170471191406, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 518.9761352539062, "kl": 0.0351930670440197, "vf_loss": 519.023681640625, "policy_loss": -0.05456937849521637, "entropy": 136.5632781982422, "vf_explained_var": 0.00026635671383701265}, "update_time_ms": 8.657, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 458.9036865234375, "kl": 0.019857721403241158, "vf_loss": 458.9077453613281, "policy_loss": -0.004219479858875275, "entropy": 2.4801228046417236, "vf_explained_var": 0.1757609099149704}, "grad_time_ms": 7246.369, "load_time_ms": 15.216, "num_steps_sampled": 500000, "num_steps_trained": 500000, "sample_time_ms": 13575.374}, "hostname": "ip-172-31-27-32", "timestamp": 1544502376, "episode_len_mean": 500.0, "iterations_since_restore": 25, "date": "2018-12-11_04-26-16", "episode_reward_mean": 0.0, "time_this_iter_s": 20.66615128517151, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 25}
{"pid": 3344, "timesteps_since_restore": 520000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 520000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d0e80>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 561.4269118309021, "episodes_total": 1233, "policy_reward_mean": {"adversary": -419.67705910980965, "av": 419.67705910980965}, "time_total_s": 561.4269118309021, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 521.5208129882812, "kl": 0.036354176700115204, "vf_loss": 521.5697631835938, "policy_loss": -0.05614257603883743, "entropy": 136.4753875732422, "vf_explained_var": 0.0005955463275313377}, "update_time_ms": 8.632, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 467.5645446777344, "kl": 0.011166169308125973, "vf_loss": 467.5673522949219, "policy_loss": -0.002922672312706709, "entropy": 2.424579381942749, "vf_explained_var": 0.14133793115615845}, "grad_time_ms": 7252.272, "load_time_ms": 15.155, "num_steps_sampled": 520000, "num_steps_trained": 520000, "sample_time_ms": 13527.811}, "hostname": "ip-172-31-27-32", "timestamp": 1544502397, "episode_len_mean": 500.0, "iterations_since_restore": 26, "date": "2018-12-11_04-26-37", "episode_reward_mean": 0.0, "time_this_iter_s": 20.609864711761475, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 26}
{"pid": 3344, "timesteps_since_restore": 540000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 540000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e8358>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 582.6606211662292, "episodes_total": 1276, "policy_reward_mean": {"adversary": -416.2611279278502, "av": 416.2611279278502}, "time_total_s": 582.6606211662292, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 544.6820678710938, "kl": 0.03397688642144203, "vf_loss": 544.7276611328125, "policy_loss": -0.05232764035463333, "entropy": 136.381103515625, "vf_explained_var": 0.001181109226308763}, "update_time_ms": 8.609, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 479.56134033203125, "kl": 0.026624131947755814, "vf_loss": 479.56640625, "policy_loss": -0.005357332993298769, "entropy": 2.474400043487549, "vf_explained_var": 0.1779683381319046}, "grad_time_ms": 7220.196, "load_time_ms": 15.298, "num_steps_sampled": 540000, "num_steps_trained": 540000, "sample_time_ms": 13524.146}, "hostname": "ip-172-31-27-32", "timestamp": 1544502418, "episode_len_mean": 500.0, "iterations_since_restore": 27, "date": "2018-12-11_04-26-58", "episode_reward_mean": 0.0, "time_this_iter_s": 21.23370933532715, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 27}
{"pid": 3344, "timesteps_since_restore": 560000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 560000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e2a20>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 603.5832126140594, "episodes_total": 1322, "policy_reward_mean": {"adversary": -408.99875871031617, "av": 408.99875871031617}, "time_total_s": 603.5832126140594, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 565.7468872070312, "kl": 0.035852592438459396, "vf_loss": 565.79345703125, "policy_loss": -0.05373888835310936, "entropy": 136.44834899902344, "vf_explained_var": 0.0021804948337376118}, "update_time_ms": 8.454, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 490.7486877441406, "kl": 0.016312848776578903, "vf_loss": 490.7523498535156, "policy_loss": -0.0037840683944523335, "entropy": 2.484607696533203, "vf_explained_var": 0.1768140345811844}, "grad_time_ms": 7229.071, "load_time_ms": 15.136, "num_steps_sampled": 560000, "num_steps_trained": 560000, "sample_time_ms": 13463.477}, "hostname": "ip-172-31-27-32", "timestamp": 1544502439, "episode_len_mean": 496.81, "iterations_since_restore": 28, "date": "2018-12-11_04-27-19", "episode_reward_mean": 0.0, "time_this_iter_s": 20.9225914478302, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 28}
{"pid": 3344, "timesteps_since_restore": 580000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 580000, "episode_reward_min": 0.0, "episodes_this_iter": 42, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67326bc88>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 624.8142802715302, "episodes_total": 1364, "policy_reward_mean": {"adversary": -412.56650770046684, "av": 412.56650770046684}, "time_total_s": 624.8142802715302, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 575.6141357421875, "kl": 0.036138296127319336, "vf_loss": 575.6615600585938, "policy_loss": -0.05456065014004707, "entropy": 136.483642578125, "vf_explained_var": 0.0008181333541870117}, "update_time_ms": 8.471, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 506.8407897949219, "kl": 0.014070763252675533, "vf_loss": 506.84454345703125, "policy_loss": -0.0038965176790952682, "entropy": 2.412323474884033, "vf_explained_var": 0.1723613739013672}, "grad_time_ms": 7227.781, "load_time_ms": 15.456, "num_steps_sampled": 580000, "num_steps_trained": 580000, "sample_time_ms": 13496.081}, "hostname": "ip-172-31-27-32", "timestamp": 1544502460, "episode_len_mean": 496.81, "iterations_since_restore": 29, "date": "2018-12-11_04-27-40", "episode_reward_mean": 0.0, "time_this_iter_s": 21.231067657470703, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 29}
{"pid": 3344, "timesteps_since_restore": 600000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 600000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d84e0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 645.8260705471039, "episodes_total": 1409, "policy_reward_mean": {"adversary": -416.9966901320505, "av": 416.9966901320505}, "time_total_s": 645.8260705471039, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 594.2313842773438, "kl": 0.0363716296851635, "vf_loss": 594.28076171875, "policy_loss": -0.056602537631988525, "entropy": 136.40554809570312, "vf_explained_var": 0.0025047154631465673}, "update_time_ms": 8.509, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 512.195556640625, "kl": 0.03600391373038292, "vf_loss": 512.20166015625, "policy_loss": -0.006433949340134859, "entropy": 2.475696563720703, "vf_explained_var": 0.17200006544589996}, "grad_time_ms": 7230.567, "load_time_ms": 15.5, "num_steps_sampled": 600000, "num_steps_trained": 600000, "sample_time_ms": 13537.623}, "hostname": "ip-172-31-27-32", "timestamp": 1544502481, "episode_len_mean": 500.0, "iterations_since_restore": 30, "date": "2018-12-11_04-28-01", "episode_reward_mean": 0.0, "time_this_iter_s": 21.01179027557373, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 30}
{"pid": 3344, "timesteps_since_restore": 620000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 620000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67326bfd0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 666.1321699619293, "episodes_total": 1453, "policy_reward_mean": {"adversary": -409.8832113947178, "av": 409.8832113947178}, "time_total_s": 666.1321699619293, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 620.0581665039062, "kl": 0.033409103751182556, "vf_loss": 620.1033935546875, "policy_loss": -0.05184689536690712, "entropy": 136.48944091796875, "vf_explained_var": 0.0005540859419852495}, "update_time_ms": 8.729, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 517.5737915039062, "kl": 0.011905423365533352, "vf_loss": 517.5770263671875, "policy_loss": -0.0033944875467568636, "entropy": 2.4924023151397705, "vf_explained_var": 0.19778907299041748}, "grad_time_ms": 7221.33, "load_time_ms": 15.421, "num_steps_sampled": 620000, "num_steps_trained": 620000, "sample_time_ms": 13499.719}, "hostname": "ip-172-31-27-32", "timestamp": 1544502501, "episode_len_mean": 500.0, "iterations_since_restore": 31, "date": "2018-12-11_04-28-21", "episode_reward_mean": 0.0, "time_this_iter_s": 20.30609941482544, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 31}
{"pid": 3344, "timesteps_since_restore": 640000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 640000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67326b198>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 686.8203971385956, "episodes_total": 1497, "policy_reward_mean": {"adversary": -408.61110463135236, "av": 408.61110463135236}, "time_total_s": 686.8203971385956, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 621.6700439453125, "kl": 0.03463088721036911, "vf_loss": 621.7176513671875, "policy_loss": -0.05446473881602287, "entropy": 136.373291015625, "vf_explained_var": 0.0024966017808765173}, "update_time_ms": 8.391, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 528.2288818359375, "kl": 0.01624801754951477, "vf_loss": 528.2323608398438, "policy_loss": -0.003710349788889289, "entropy": 2.4618077278137207, "vf_explained_var": 0.18819355964660645}, "grad_time_ms": 7206.3, "load_time_ms": 15.472, "num_steps_sampled": 640000, "num_steps_trained": 640000, "sample_time_ms": 13500.113}, "hostname": "ip-172-31-27-32", "timestamp": 1544502522, "episode_len_mean": 500.0, "iterations_since_restore": 32, "date": "2018-12-11_04-28-42", "episode_reward_mean": 0.0, "time_this_iter_s": 20.68822717666626, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 32}
{"pid": 3344, "timesteps_since_restore": 660000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 660000, "episode_reward_min": 0.0, "episodes_this_iter": 42, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67326be80>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 708.0623638629913, "episodes_total": 1539, "policy_reward_mean": {"adversary": -413.14970079300184, "av": 413.14970079300184}, "time_total_s": 708.0623638629913, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 640.0715942382812, "kl": 0.03720855712890625, "vf_loss": 640.1204223632812, "policy_loss": -0.0562274269759655, "entropy": 136.38658142089844, "vf_explained_var": 0.0017218181164935231}, "update_time_ms": 8.409, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 549.9327392578125, "kl": 0.011208505369722843, "vf_loss": 549.9340209960938, "policy_loss": -0.0013539940118789673, "entropy": 2.4566943645477295, "vf_explained_var": 0.17570728063583374}, "grad_time_ms": 7215.029, "load_time_ms": 15.185, "num_steps_sampled": 660000, "num_steps_trained": 660000, "sample_time_ms": 13542.773}, "hostname": "ip-172-31-27-32", "timestamp": 1544502543, "episode_len_mean": 500.0, "iterations_since_restore": 33, "date": "2018-12-11_04-29-03", "episode_reward_mean": 0.0, "time_this_iter_s": 21.241966724395752, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 33}
{"pid": 3344, "timesteps_since_restore": 680000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 680000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673276f98>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 728.5664567947388, "episodes_total": 1585, "policy_reward_mean": {"adversary": -409.48931760434095, "av": 409.48931760434095}, "time_total_s": 728.5664567947388, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 681.3722534179688, "kl": 0.03452107310295105, "vf_loss": 681.4183959960938, "policy_loss": -0.052972108125686646, "entropy": 136.39613342285156, "vf_explained_var": 0.0004714562965091318}, "update_time_ms": 8.317, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 571.7880859375, "kl": 0.018886109814047813, "vf_loss": 571.7915649414062, "policy_loss": -0.0036725581157952547, "entropy": 2.467440128326416, "vf_explained_var": 0.1932685524225235}, "grad_time_ms": 7220.689, "load_time_ms": 15.075, "num_steps_sampled": 680000, "num_steps_trained": 680000, "sample_time_ms": 13536.689}, "hostname": "ip-172-31-27-32", "timestamp": 1544502564, "episode_len_mean": 496.35, "iterations_since_restore": 34, "date": "2018-12-11_04-29-24", "episode_reward_mean": 0.0, "time_this_iter_s": 20.504092931747437, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 34}
{"pid": 3344, "timesteps_since_restore": 700000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 700000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e0518>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 749.3019886016846, "episodes_total": 1631, "policy_reward_mean": {"adversary": -401.97426129894643, "av": 401.97426129894643}, "time_total_s": 749.3019886016846, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 689.8078002929688, "kl": 0.03752792626619339, "vf_loss": 689.858154296875, "policy_loss": -0.05781189724802971, "entropy": 136.44422912597656, "vf_explained_var": 0.0017973730573430657}, "update_time_ms": 8.366, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 588.5203247070312, "kl": 0.019550437107682228, "vf_loss": 588.524169921875, "policy_loss": -0.004002683330327272, "entropy": 2.4724440574645996, "vf_explained_var": 0.17381352186203003}, "grad_time_ms": 7200.74, "load_time_ms": 14.824, "num_steps_sampled": 700000, "num_steps_trained": 700000, "sample_time_ms": 13564.092}, "hostname": "ip-172-31-27-32", "timestamp": 1544502585, "episode_len_mean": 496.35, "iterations_since_restore": 35, "date": "2018-12-11_04-29-45", "episode_reward_mean": 0.0, "time_this_iter_s": 20.7355318069458, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 35}
{"pid": 3344, "timesteps_since_restore": 720000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 720000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673276198>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 769.9353170394897, "episodes_total": 1675, "policy_reward_mean": {"adversary": -400.1073767598762, "av": 400.1073767598762}, "time_total_s": 769.9353170394897, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 697.946533203125, "kl": 0.035218775272369385, "vf_loss": 697.9924926757812, "policy_loss": -0.053030721843242645, "entropy": 136.31716918945312, "vf_explained_var": 0.0020734488498419523}, "update_time_ms": 8.504, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 596.0516967773438, "kl": 0.013747520744800568, "vf_loss": 596.0545043945312, "policy_loss": -0.002937080804258585, "entropy": 2.459735631942749, "vf_explained_var": 0.1737768054008484}, "grad_time_ms": 7208.441, "load_time_ms": 14.934, "num_steps_sampled": 720000, "num_steps_trained": 720000, "sample_time_ms": 13558.065}, "hostname": "ip-172-31-27-32", "timestamp": 1544502605, "episode_len_mean": 493.32, "iterations_since_restore": 36, "date": "2018-12-11_04-30-05", "episode_reward_mean": 0.0, "time_this_iter_s": 20.633328437805176, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 36}
{"pid": 3344, "timesteps_since_restore": 740000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 740000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673276828>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 791.078644990921, "episodes_total": 1718, "policy_reward_mean": {"adversary": -404.49684509180156, "av": 404.49684509180156}, "time_total_s": 791.078644990921, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 735.5887451171875, "kl": 0.03547155112028122, "vf_loss": 735.63720703125, "policy_loss": -0.0556241050362587, "entropy": 136.32330322265625, "vf_explained_var": 0.0007951015140861273}, "update_time_ms": 8.642, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 618.1650390625, "kl": 0.013309096917510033, "vf_loss": 618.167724609375, "policy_loss": -0.002774107502773404, "entropy": 2.4332313537597656, "vf_explained_var": 0.18529991805553436}, "grad_time_ms": 7211.805, "load_time_ms": 14.71, "num_steps_sampled": 740000, "num_steps_trained": 740000, "sample_time_ms": 13548.641}, "hostname": "ip-172-31-27-32", "timestamp": 1544502626, "episode_len_mean": 496.97, "iterations_since_restore": 37, "date": "2018-12-11_04-30-26", "episode_reward_mean": 0.0, "time_this_iter_s": 21.143327951431274, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 37}
{"pid": 3344, "timesteps_since_restore": 760000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 760000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67326b828>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 812.1566405296326, "episodes_total": 1763, "policy_reward_mean": {"adversary": -409.6999256119902, "av": 409.6999256119902}, "time_total_s": 812.1566405296326, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 756.4342651367188, "kl": 0.03552436828613281, "vf_loss": 756.4812622070312, "policy_loss": -0.05399756506085396, "entropy": 136.456298828125, "vf_explained_var": 0.0016391254030168056}, "update_time_ms": 8.644, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 642.8717651367188, "kl": 0.019967900589108467, "vf_loss": 642.874267578125, "policy_loss": -0.002665843814611435, "entropy": 2.4299895763397217, "vf_explained_var": 0.1763806939125061}, "grad_time_ms": 7203.158, "load_time_ms": 14.988, "num_steps_sampled": 760000, "num_steps_trained": 760000, "sample_time_ms": 13571.618}, "hostname": "ip-172-31-27-32", "timestamp": 1544502648, "episode_len_mean": 499.61, "iterations_since_restore": 38, "date": "2018-12-11_04-30-48", "episode_reward_mean": 0.0, "time_this_iter_s": 21.077995538711548, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 38}
{"pid": 3344, "timesteps_since_restore": 780000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 780000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e26d8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 832.3835291862488, "episodes_total": 1806, "policy_reward_mean": {"adversary": -410.77829895249, "av": 410.77829895249}, "time_total_s": 832.3835291862488, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 782.7946166992188, "kl": 0.037310440093278885, "vf_loss": 782.8433227539062, "policy_loss": -0.05613367259502411, "entropy": 136.4527130126953, "vf_explained_var": 0.0012063147732988}, "update_time_ms": 8.653, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 656.3512573242188, "kl": 0.013178236782550812, "vf_loss": 656.3533935546875, "policy_loss": -0.0022491170093417168, "entropy": 2.4318830966949463, "vf_explained_var": 0.17617234587669373}, "grad_time_ms": 7211.745, "load_time_ms": 14.956, "num_steps_sampled": 780000, "num_steps_trained": 780000, "sample_time_ms": 13462.007}, "hostname": "ip-172-31-27-32", "timestamp": 1544502668, "episode_len_mean": 498.1, "iterations_since_restore": 39, "date": "2018-12-11_04-31-08", "episode_reward_mean": 0.0, "time_this_iter_s": 20.22688865661621, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 39}
{"pid": 3344, "timesteps_since_restore": 800000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 800000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673278e10>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 853.3323233127594, "episodes_total": 1851, "policy_reward_mean": {"adversary": -411.34875454725864, "av": 411.34875454725864}, "time_total_s": 853.3323233127594, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 797.7283935546875, "kl": 0.035901524126529694, "vf_loss": 797.775146484375, "policy_loss": -0.054023560136556625, "entropy": 136.34347534179688, "vf_explained_var": 0.0029461521189659834}, "update_time_ms": 8.979, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 671.9080810546875, "kl": 0.024623075500130653, "vf_loss": 671.9114379882812, "policy_loss": -0.003593577304854989, "entropy": 2.420117139816284, "vf_explained_var": 0.17224730551242828}, "grad_time_ms": 7202.562, "load_time_ms": 15.078, "num_steps_sampled": 800000, "num_steps_trained": 800000, "sample_time_ms": 13463.682}, "hostname": "ip-172-31-27-32", "timestamp": 1544502689, "episode_len_mean": 498.49, "iterations_since_restore": 40, "date": "2018-12-11_04-31-29", "episode_reward_mean": 0.0, "time_this_iter_s": 20.94879412651062, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 40}
{"pid": 3344, "timesteps_since_restore": 820000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 820000, "episode_reward_min": 0.0, "episodes_this_iter": 42, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e25f8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 874.2999293804169, "episodes_total": 1893, "policy_reward_mean": {"adversary": -408.6451464667652, "av": 408.6451464667652}, "time_total_s": 874.2999293804169, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 819.1044311523438, "kl": 0.03704008832573891, "vf_loss": 819.1527709960938, "policy_loss": -0.055743634700775146, "entropy": 136.3229217529297, "vf_explained_var": 0.0023920200765132904}, "update_time_ms": 8.729, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 688.0448608398438, "kl": 0.013745873235166073, "vf_loss": 688.0467529296875, "policy_loss": -0.0020518237724900246, "entropy": 2.398632049560547, "vf_explained_var": 0.18061965703964233}, "grad_time_ms": 7223.28, "load_time_ms": 15.15, "num_steps_sampled": 820000, "num_steps_trained": 820000, "sample_time_ms": 13508.472}, "hostname": "ip-172-31-27-32", "timestamp": 1544502710, "episode_len_mean": 500.0, "iterations_since_restore": 41, "date": "2018-12-11_04-31-50", "episode_reward_mean": 0.0, "time_this_iter_s": 20.96760606765747, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 41}
{"pid": 3344, "timesteps_since_restore": 840000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 840000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67326be80>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 895.2370870113373, "episodes_total": 1939, "policy_reward_mean": {"adversary": -410.2501341631903, "av": 410.2501341631903}, "time_total_s": 895.2370870113373, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 843.7703247070312, "kl": 0.0353231206536293, "vf_loss": 843.8168334960938, "policy_loss": -0.053510311990976334, "entropy": 136.26490783691406, "vf_explained_var": 0.0026797412429004908}, "update_time_ms": 8.857, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 704.6539306640625, "kl": 0.01641101948916912, "vf_loss": 704.6566162109375, "policy_loss": -0.002892539370805025, "entropy": 2.390990734100342, "vf_explained_var": 0.16727960109710693}, "grad_time_ms": 7223.728, "load_time_ms": 15.094, "num_steps_sampled": 840000, "num_steps_trained": 840000, "sample_time_ms": 13532.896}, "hostname": "ip-172-31-27-32", "timestamp": 1544502731, "episode_len_mean": 500.0, "iterations_since_restore": 42, "date": "2018-12-11_04-32-11", "episode_reward_mean": 0.0, "time_this_iter_s": 20.93715763092041, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 42}
{"pid": 3344, "timesteps_since_restore": 860000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 860000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d0a90>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 916.3370771408081, "episodes_total": 1983, "policy_reward_mean": {"adversary": -411.63536657327774, "av": 411.63536657327774}, "time_total_s": 916.3370771408081, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 861.0103149414062, "kl": 0.03676290437579155, "vf_loss": 861.0584716796875, "policy_loss": -0.05549456551671028, "entropy": 136.41465759277344, "vf_explained_var": 0.0031613504979759455}, "update_time_ms": 9.046, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 721.3330688476562, "kl": 0.020895255729556084, "vf_loss": 721.3355102539062, "policy_loss": -0.0025938868056982756, "entropy": 2.3564326763153076, "vf_explained_var": 0.1791958212852478}, "grad_time_ms": 7209.697, "load_time_ms": 15.21, "num_steps_sampled": 860000, "num_steps_trained": 860000, "sample_time_ms": 13532.574}, "hostname": "ip-172-31-27-32", "timestamp": 1544502752, "episode_len_mean": 497.09, "iterations_since_restore": 43, "date": "2018-12-11_04-32-32", "episode_reward_mean": 0.0, "time_this_iter_s": 21.099990129470825, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 43}
{"pid": 3344, "timesteps_since_restore": 880000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 880000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673286128>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 936.8736727237701, "episodes_total": 2027, "policy_reward_mean": {"adversary": -406.5976525539103, "av": 406.5976525539103}, "time_total_s": 936.8736727237701, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 914.3873901367188, "kl": 0.03666539490222931, "vf_loss": 914.4359130859375, "policy_loss": -0.05590697377920151, "entropy": 136.45407104492188, "vf_explained_var": 0.0017474397318437696}, "update_time_ms": 9.017, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 753.8929443359375, "kl": 0.021039742976427078, "vf_loss": 753.8943481445312, "policy_loss": -0.0015871408395469189, "entropy": 2.348491668701172, "vf_explained_var": 0.18493491411209106}, "grad_time_ms": 7228.192, "load_time_ms": 15.092, "num_steps_sampled": 880000, "num_steps_trained": 880000, "sample_time_ms": 13517.335}, "hostname": "ip-172-31-27-32", "timestamp": 1544502772, "episode_len_mean": 497.09, "iterations_since_restore": 44, "date": "2018-12-11_04-32-52", "episode_reward_mean": 0.0, "time_this_iter_s": 20.536595582962036, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 44}
{"pid": 3344, "timesteps_since_restore": 900000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 900000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673278518>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 957.5897583961487, "episodes_total": 2073, "policy_reward_mean": {"adversary": -407.00922254255465, "av": 407.00922254255465}, "time_total_s": 957.5897583961487, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 953.7259521484375, "kl": 0.03760918602347374, "vf_loss": 953.7742309570312, "policy_loss": -0.05568401515483856, "entropy": 136.53916931152344, "vf_explained_var": 0.0013909637928009033}, "update_time_ms": 8.971, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 797.364501953125, "kl": 0.015674030408263206, "vf_loss": 797.3675537109375, "policy_loss": -0.00321688293479383, "entropy": 2.3049352169036865, "vf_explained_var": 0.16810467839241028}, "grad_time_ms": 7222.479, "load_time_ms": 15.144, "num_steps_sampled": 900000, "num_steps_trained": 900000, "sample_time_ms": 13521.34}, "hostname": "ip-172-31-27-32", "timestamp": 1544502793, "episode_len_mean": 496.72, "iterations_since_restore": 45, "date": "2018-12-11_04-33-13", "episode_reward_mean": 0.0, "time_this_iter_s": 20.71608567237854, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 45}
{"pid": 3344, "timesteps_since_restore": 920000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 920000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732869e8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 978.379355430603, "episodes_total": 2116, "policy_reward_mean": {"adversary": -410.22875083557517, "av": 410.22875083557517}, "time_total_s": 978.379355430603, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1011.724365234375, "kl": 0.03658629208803177, "vf_loss": 1011.7706298828125, "policy_loss": -0.05359926074743271, "entropy": 136.4943389892578, "vf_explained_var": 0.0012878882698714733}, "update_time_ms": 8.732, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 838.9177856445312, "kl": 0.014860461466014385, "vf_loss": 838.9182739257812, "policy_loss": -0.0006321065011434257, "entropy": 2.2971198558807373, "vf_explained_var": 0.18639014661312103}, "grad_time_ms": 7222.518, "load_time_ms": 15.204, "num_steps_sampled": 920000, "num_steps_trained": 920000, "sample_time_ms": 13537.911}, "hostname": "ip-172-31-27-32", "timestamp": 1544502814, "episode_len_mean": 496.72, "iterations_since_restore": 46, "date": "2018-12-11_04-33-34", "episode_reward_mean": 0.0, "time_this_iter_s": 20.789597034454346, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 46}
{"pid": 3344, "timesteps_since_restore": 940000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 940000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732865f8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 998.8339636325836, "episodes_total": 2160, "policy_reward_mean": {"adversary": -406.72173403522737, "av": 406.72173403522737}, "time_total_s": 998.8339636325836, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1036.923828125, "kl": 0.03691810369491577, "vf_loss": 1036.97119140625, "policy_loss": -0.05473719537258148, "entropy": 136.3651885986328, "vf_explained_var": 0.008824950084090233}, "update_time_ms": 8.664, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 849.8377685546875, "kl": 0.019185137003660202, "vf_loss": 849.8396606445312, "policy_loss": -0.0020957672968506813, "entropy": 2.297832727432251, "vf_explained_var": 0.19484682381153107}, "grad_time_ms": 7219.013, "load_time_ms": 15.235, "num_steps_sampled": 940000, "num_steps_trained": 940000, "sample_time_ms": 13472.602}, "hostname": "ip-172-31-27-32", "timestamp": 1544502834, "episode_len_mean": 495.33, "iterations_since_restore": 47, "date": "2018-12-11_04-33-54", "episode_reward_mean": 0.0, "time_this_iter_s": 20.45460820198059, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 47}
{"pid": 3344, "timesteps_since_restore": 960000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 960000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732787f0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1019.6818866729736, "episodes_total": 2204, "policy_reward_mean": {"adversary": -409.44871956536537, "av": 409.44871956536537}, "time_total_s": 1019.6818866729736, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 969.09375, "kl": 0.035721004009246826, "vf_loss": 969.1375122070312, "policy_loss": -0.05085558444261551, "entropy": 136.50390625, "vf_explained_var": 0.12235156446695328}, "update_time_ms": 8.861, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 867.1864013671875, "kl": 0.01891125552356243, "vf_loss": 867.1879272460938, "policy_loss": -0.0016116651240736246, "entropy": 2.2500853538513184, "vf_explained_var": 0.20349310338497162}, "grad_time_ms": 7210.551, "load_time_ms": 15.031, "num_steps_sampled": 960000, "num_steps_trained": 960000, "sample_time_ms": 13457.674}, "hostname": "ip-172-31-27-32", "timestamp": 1544502855, "episode_len_mean": 498.42, "iterations_since_restore": 48, "date": "2018-12-11_04-34-15", "episode_reward_mean": 0.0, "time_this_iter_s": 20.847923040390015, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 48}
{"pid": 3344, "timesteps_since_restore": 980000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 980000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732764e0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1040.025830745697, "episodes_total": 2249, "policy_reward_mean": {"adversary": -404.65205669733604, "av": 404.65205669733604}, "time_total_s": 1040.025830745697, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 957.6360473632812, "kl": 0.035574495792388916, "vf_loss": 957.681884765625, "policy_loss": -0.05299747735261917, "entropy": 136.4408416748047, "vf_explained_var": 0.13212572038173676}, "update_time_ms": 9.057, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 880.7753295898438, "kl": 0.022918272763490677, "vf_loss": 880.7750244140625, "policy_loss": 0.00013958710769657046, "entropy": 2.2949483394622803, "vf_explained_var": 0.1959548145532608}, "grad_time_ms": 7212.298, "load_time_ms": 14.892, "num_steps_sampled": 980000, "num_steps_trained": 980000, "sample_time_ms": 13467.6}, "hostname": "ip-172-31-27-32", "timestamp": 1544502876, "episode_len_mean": 498.25, "iterations_since_restore": 49, "date": "2018-12-11_04-34-36", "episode_reward_mean": 0.0, "time_this_iter_s": 20.34394407272339, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 49}
{"pid": 3344, "timesteps_since_restore": 1000000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1000000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e26d8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1060.756778717041, "episodes_total": 2293, "policy_reward_mean": {"adversary": -405.1015677773279, "av": 405.1015677773279}, "time_total_s": 1060.756778717041, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 985.4454345703125, "kl": 0.034648504108190536, "vf_loss": 985.4885864257812, "policy_loss": -0.04995618015527725, "entropy": 136.54827880859375, "vf_explained_var": 0.14431288838386536}, "update_time_ms": 8.887, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 925.1248168945312, "kl": 0.016206493601202965, "vf_loss": 925.1268920898438, "policy_loss": -0.0022497756872326136, "entropy": 2.2357726097106934, "vf_explained_var": 0.19618982076644897}, "grad_time_ms": 7210.271, "load_time_ms": 14.791, "num_steps_sampled": 1000000, "num_steps_trained": 1000000, "sample_time_ms": 13447.851}, "hostname": "ip-172-31-27-32", "timestamp": 1544502896, "episode_len_mean": 494.55, "iterations_since_restore": 50, "date": "2018-12-11_04-34-56", "episode_reward_mean": 0.0, "time_this_iter_s": 20.730947971343994, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 50}
{"pid": 3344, "timesteps_since_restore": 1020000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1020000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67328b358>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1081.6701436042786, "episodes_total": 2338, "policy_reward_mean": {"adversary": -405.33584071028264, "av": 405.33584071028264}, "time_total_s": 1081.6701436042786, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1035.8524169921875, "kl": 0.03585664555430412, "vf_loss": 1035.8985595703125, "policy_loss": -0.053262654691934586, "entropy": 136.53097534179688, "vf_explained_var": 0.15830159187316895}, "update_time_ms": 9.18, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 997.5765991210938, "kl": 0.02189907804131508, "vf_loss": 997.5762939453125, "policy_loss": 6.10829156357795e-05, "entropy": 2.235471725463867, "vf_explained_var": 0.18730078637599945}, "grad_time_ms": 7209.995, "load_time_ms": 14.929, "num_steps_sampled": 1020000, "num_steps_trained": 1020000, "sample_time_ms": 13442.085}, "hostname": "ip-172-31-27-32", "timestamp": 1544502917, "episode_len_mean": 490.32, "iterations_since_restore": 51, "date": "2018-12-11_04-35-17", "episode_reward_mean": 0.0, "time_this_iter_s": 20.91336488723755, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 51}
{"pid": 3344, "timesteps_since_restore": 1040000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1040000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673286278>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1102.0474834442139, "episodes_total": 2381, "policy_reward_mean": {"adversary": -402.5899238489369, "av": 402.5899238489369}, "time_total_s": 1102.0474834442139, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1004.9761352539062, "kl": 0.033956825733184814, "vf_loss": 1005.0198364257812, "policy_loss": -0.05048217996954918, "entropy": 136.43507385253906, "vf_explained_var": 0.19231384992599487}, "update_time_ms": 9.187, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 993.0241088867188, "kl": 0.014665958471596241, "vf_loss": 993.0248413085938, "policy_loss": -0.0009115628781728446, "entropy": 2.2367210388183594, "vf_explained_var": 0.1962496042251587}, "grad_time_ms": 7228.868, "load_time_ms": 15.163, "num_steps_sampled": 1040000, "num_steps_trained": 1040000, "sample_time_ms": 13365.516}, "hostname": "ip-172-31-27-32", "timestamp": 1544502938, "episode_len_mean": 494.02, "iterations_since_restore": 52, "date": "2018-12-11_04-35-38", "episode_reward_mean": 0.0, "time_this_iter_s": 20.377339839935303, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 52}
{"pid": 3344, "timesteps_since_restore": 1060000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1060000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67326b5c0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1122.9858894348145, "episodes_total": 2426, "policy_reward_mean": {"adversary": -411.6498038882639, "av": 411.6498038882639}, "time_total_s": 1122.9858894348145, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1032.0809326171875, "kl": 0.034527137875556946, "vf_loss": 1032.125244140625, "policy_loss": -0.05130787566304207, "entropy": 136.6415252685547, "vf_explained_var": 0.17022238671779633}, "update_time_ms": 9.14, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 1029.4346923828125, "kl": 0.022146757692098618, "vf_loss": 1029.435302734375, "policy_loss": -0.0006713313050568104, "entropy": 2.181713819503784, "vf_explained_var": 0.18143916130065918}, "grad_time_ms": 7229.777, "load_time_ms": 15.147, "num_steps_sampled": 1060000, "num_steps_trained": 1060000, "sample_time_ms": 13347.615}, "hostname": "ip-172-31-27-32", "timestamp": 1544502959, "episode_len_mean": 499.22, "iterations_since_restore": 53, "date": "2018-12-11_04-35-59", "episode_reward_mean": 0.0, "time_this_iter_s": 20.938405990600586, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 53}
{"pid": 3344, "timesteps_since_restore": 1080000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1080000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e24e0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1143.5133318901062, "episodes_total": 2472, "policy_reward_mean": {"adversary": -411.6812749489543, "av": 411.6812749489543}, "time_total_s": 1143.5133318901062, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1044.515380859375, "kl": 0.03392789885401726, "vf_loss": 1044.5595703125, "policy_loss": -0.05098278075456619, "entropy": 136.54803466796875, "vf_explained_var": 0.17617397010326385}, "update_time_ms": 9.248, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 1041.3077392578125, "kl": 0.030785832554101944, "vf_loss": 1041.310546875, "policy_loss": -0.003016960108652711, "entropy": 2.190396547317505, "vf_explained_var": 0.1853998750448227}, "grad_time_ms": 7246.27, "load_time_ms": 15.249, "num_steps_sampled": 1080000, "num_steps_trained": 1080000, "sample_time_ms": 13329.269}, "hostname": "ip-172-31-27-32", "timestamp": 1544502979, "episode_len_mean": 497.68, "iterations_since_restore": 54, "date": "2018-12-11_04-36-19", "episode_reward_mean": 0.0, "time_this_iter_s": 20.527442455291748, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 54}
{"pid": 3344, "timesteps_since_restore": 1100000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1100000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d8208>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1164.007364988327, "episodes_total": 2515, "policy_reward_mean": {"adversary": -410.04741344960655, "av": 410.04741344960655}, "time_total_s": 1164.007364988327, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1069.219970703125, "kl": 0.03411729633808136, "vf_loss": 1069.2659912109375, "policy_loss": -0.053001757711172104, "entropy": 136.4216766357422, "vf_explained_var": 0.1788593977689743}, "update_time_ms": 9.636, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 1063.304443359375, "kl": 0.027147984132170677, "vf_loss": 1063.303466796875, "policy_loss": 0.0007431450067088008, "entropy": 2.2057268619537354, "vf_explained_var": 0.18341735005378723}, "grad_time_ms": 7260.35, "load_time_ms": 15.476, "num_steps_sampled": 1100000, "num_steps_trained": 1100000, "sample_time_ms": 13291.517}, "hostname": "ip-172-31-27-32", "timestamp": 1544503000, "episode_len_mean": 498.46, "iterations_since_restore": 55, "date": "2018-12-11_04-36-40", "episode_reward_mean": 0.0, "time_this_iter_s": 20.494033098220825, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 55}
{"pid": 3344, "timesteps_since_restore": 1120000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1120000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67328b320>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1184.882614850998, "episodes_total": 2559, "policy_reward_mean": {"adversary": -411.56582344173927, "av": 411.56582344173927}, "time_total_s": 1184.882614850998, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1118.7662353515625, "kl": 0.033580996096134186, "vf_loss": 1118.8114013671875, "policy_loss": -0.05192156508564949, "entropy": 136.40162658691406, "vf_explained_var": 0.17590191960334778}, "update_time_ms": 9.614, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 1112.669189453125, "kl": 0.021297622472047806, "vf_loss": 1112.6705322265625, "policy_loss": -0.0016400336753576994, "entropy": 2.197723865509033, "vf_explained_var": 0.1840464323759079}, "grad_time_ms": 7262.962, "load_time_ms": 15.434, "num_steps_sampled": 1120000, "num_steps_trained": 1120000, "sample_time_ms": 13296.715}, "hostname": "ip-172-31-27-32", "timestamp": 1544503021, "episode_len_mean": 499.91, "iterations_since_restore": 56, "date": "2018-12-11_04-37-01", "episode_reward_mean": 0.0, "time_this_iter_s": 20.8752498626709, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 56}
{"pid": 3344, "timesteps_since_restore": 1140000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1140000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e2b70>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1205.631095647812, "episodes_total": 2603, "policy_reward_mean": {"adversary": -404.9512947841455, "av": 404.9512947841455}, "time_total_s": 1205.631095647812, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1159.9853515625, "kl": 0.03350990638136864, "vf_loss": 1160.029296875, "policy_loss": -0.05057111009955406, "entropy": 136.3144989013672, "vf_explained_var": 0.16869571805000305}, "update_time_ms": 9.587, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 1158.480712890625, "kl": 0.023243822157382965, "vf_loss": 1158.48046875, "policy_loss": -1.00366005426622e-05, "entropy": 2.209977865219116, "vf_explained_var": 0.17376087605953217}, "grad_time_ms": 7298.602, "load_time_ms": 15.597, "num_steps_sampled": 1140000, "num_steps_trained": 1140000, "sample_time_ms": 13289.186}, "hostname": "ip-172-31-27-32", "timestamp": 1544503041, "episode_len_mean": 495.54, "iterations_since_restore": 57, "date": "2018-12-11_04-37-21", "episode_reward_mean": 0.0, "time_this_iter_s": 20.748480796813965, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 57}
{"pid": 3344, "timesteps_since_restore": 1160000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1160000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e0be0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1226.6545913219452, "episodes_total": 2648, "policy_reward_mean": {"adversary": -403.14108023380714, "av": 403.14108023380714}, "time_total_s": 1226.6545913219452, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1154.02783203125, "kl": 0.03456943854689598, "vf_loss": 1154.072265625, "policy_loss": -0.05134325101971626, "entropy": 136.43817138671875, "vf_explained_var": 0.16909268498420715}, "update_time_ms": 9.554, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 1166.5650634765625, "kl": 0.02287641540169716, "vf_loss": 1166.5640869140625, "policy_loss": 0.0008979080594144762, "entropy": 2.153224468231201, "vf_explained_var": 0.16563591361045837}, "grad_time_ms": 7311.328, "load_time_ms": 15.646, "num_steps_sampled": 1160000, "num_steps_trained": 1160000, "sample_time_ms": 13294.488}, "hostname": "ip-172-31-27-32", "timestamp": 1544503062, "episode_len_mean": 495.63, "iterations_since_restore": 58, "date": "2018-12-11_04-37-42", "episode_reward_mean": 0.0, "time_this_iter_s": 21.0234956741333, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 58}
{"pid": 3344, "timesteps_since_restore": 1180000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1180000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e20b8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1247.494013786316, "episodes_total": 2692, "policy_reward_mean": {"adversary": -404.0344499855044, "av": 404.0344499855044}, "time_total_s": 1247.494013786316, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1178.26708984375, "kl": 0.03233131393790245, "vf_loss": 1178.3106689453125, "policy_loss": -0.04999620094895363, "entropy": 136.53042602539062, "vf_explained_var": 0.1782163679599762}, "update_time_ms": 9.342, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 1170.5908203125, "kl": 0.024663979187607765, "vf_loss": 1170.5924072265625, "policy_loss": -0.0016307849436998367, "entropy": 2.142988443374634, "vf_explained_var": 0.17683236300945282}, "grad_time_ms": 7342.135, "load_time_ms": 15.995, "num_steps_sampled": 1180000, "num_steps_trained": 1180000, "sample_time_ms": 13312.991}, "hostname": "ip-172-31-27-32", "timestamp": 1544503083, "episode_len_mean": 500.0, "iterations_since_restore": 59, "date": "2018-12-11_04-38-03", "episode_reward_mean": 0.0, "time_this_iter_s": 20.839422464370728, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 59}
{"pid": 3344, "timesteps_since_restore": 1200000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1200000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d06d8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1268.1415143013, "episodes_total": 2735, "policy_reward_mean": {"adversary": -403.78826188377303, "av": 403.78826188377303}, "time_total_s": 1268.1415143013, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1213.3857421875, "kl": 0.032674118876457214, "vf_loss": 1213.4285888671875, "policy_loss": -0.04936330020427704, "entropy": 136.35618591308594, "vf_explained_var": 0.17180003225803375}, "update_time_ms": 9.312, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 1198.6805419921875, "kl": 0.026053328067064285, "vf_loss": 1198.6815185546875, "policy_loss": -0.0013617703225463629, "entropy": 2.160705089569092, "vf_explained_var": 0.17796730995178223}, "grad_time_ms": 7342.862, "load_time_ms": 15.963, "num_steps_sampled": 1200000, "num_steps_trained": 1200000, "sample_time_ms": 13305.079}, "hostname": "ip-172-31-27-32", "timestamp": 1544503104, "episode_len_mean": 500.0, "iterations_since_restore": 60, "date": "2018-12-11_04-38-24", "episode_reward_mean": 0.0, "time_this_iter_s": 20.64750051498413, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 60}
{"pid": 3344, "timesteps_since_restore": 1220000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1220000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d0898>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1288.8997685909271, "episodes_total": 2779, "policy_reward_mean": {"adversary": -402.4095915803093, "av": 402.4095915803093}, "time_total_s": 1288.8997685909271, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1233.4991455078125, "kl": 0.03356003761291504, "vf_loss": 1233.54443359375, "policy_loss": -0.05204198881983757, "entropy": 136.3712615966797, "vf_explained_var": 0.16298428177833557}, "update_time_ms": 9.246, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 1228.1346435546875, "kl": 0.023876262828707695, "vf_loss": 1228.134765625, "policy_loss": -0.0004045036621391773, "entropy": 2.111440896987915, "vf_explained_var": 0.16665659844875336}, "grad_time_ms": 7341.683, "load_time_ms": 15.822, "num_steps_sampled": 1220000, "num_steps_trained": 1220000, "sample_time_ms": 13291.186}, "hostname": "ip-172-31-27-32", "timestamp": 1544503125, "episode_len_mean": 500.0, "iterations_since_restore": 61, "date": "2018-12-11_04-38-45", "episode_reward_mean": 0.0, "time_this_iter_s": 20.758254289627075, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 61}
{"pid": 3344, "timesteps_since_restore": 1240000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1240000, "episode_reward_min": 0.0, "episodes_this_iter": 47, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732896a0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1309.7068247795105, "episodes_total": 2826, "policy_reward_mean": {"adversary": -402.0405144541035, "av": 402.0405144541035}, "time_total_s": 1309.7068247795105, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1267.3065185546875, "kl": 0.03434460237622261, "vf_loss": 1267.351318359375, "policy_loss": -0.05175594612956047, "entropy": 136.3935546875, "vf_explained_var": 0.16634872555732727}, "update_time_ms": 9.217, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.009374999441206455, "total_loss": 1252.83251953125, "kl": 0.04287467896938324, "vf_loss": 1252.8294677734375, "policy_loss": 0.0025768212508410215, "entropy": 2.0383546352386475, "vf_explained_var": 0.17318980395793915}, "grad_time_ms": 7368.448, "load_time_ms": 15.735, "num_steps_sampled": 1240000, "num_steps_trained": 1240000, "sample_time_ms": 13307.616}, "hostname": "ip-172-31-27-32", "timestamp": 1544503146, "episode_len_mean": 494.02, "iterations_since_restore": 62, "date": "2018-12-11_04-39-06", "episode_reward_mean": 0.0, "time_this_iter_s": 20.807056188583374, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 62}
{"pid": 3344, "timesteps_since_restore": 1260000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1260000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732892b0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1330.3323411941528, "episodes_total": 2869, "policy_reward_mean": {"adversary": -399.81569836730455, "av": 399.81569836730455}, "time_total_s": 1330.3323411941528, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1270.9036865234375, "kl": 0.03380903974175453, "vf_loss": 1270.947509765625, "policy_loss": -0.05059737712144852, "entropy": 136.1854248046875, "vf_explained_var": 0.17642955482006073}, "update_time_ms": 9.132, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1256.2960205078125, "kl": 0.023135267198085785, "vf_loss": 1256.2947998046875, "policy_loss": 0.0008656325517222285, "entropy": 2.1372265815734863, "vf_explained_var": 0.18411925435066223}, "grad_time_ms": 7380.923, "load_time_ms": 15.671, "num_steps_sampled": 1260000, "num_steps_trained": 1260000, "sample_time_ms": 13265.44}, "hostname": "ip-172-31-27-32", "timestamp": 1544503166, "episode_len_mean": 494.02, "iterations_since_restore": 63, "date": "2018-12-11_04-39-26", "episode_reward_mean": 0.0, "time_this_iter_s": 20.625516414642334, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 63}
{"pid": 3344, "timesteps_since_restore": 1280000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1280000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673286c18>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1351.3270769119263, "episodes_total": 2913, "policy_reward_mean": {"adversary": -401.3047881902032, "av": 401.3047881902032}, "time_total_s": 1351.3270769119263, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1298.35595703125, "kl": 0.0331285186111927, "vf_loss": 1298.400146484375, "policy_loss": -0.05078424885869026, "entropy": 136.1925048828125, "vf_explained_var": 0.16830849647521973}, "update_time_ms": 9.096, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1284.0699462890625, "kl": 0.034933898597955704, "vf_loss": 1284.068359375, "policy_loss": 0.0010841003386303782, "entropy": 2.1184475421905518, "vf_explained_var": 0.17122004926204681}, "grad_time_ms": 7357.083, "load_time_ms": 15.595, "num_steps_sampled": 1280000, "num_steps_trained": 1280000, "sample_time_ms": 13336.886}, "hostname": "ip-172-31-27-32", "timestamp": 1544503187, "episode_len_mean": 496.91, "iterations_since_restore": 64, "date": "2018-12-11_04-39-47", "episode_reward_mean": 0.0, "time_this_iter_s": 20.994735717773438, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 64}
{"pid": 3344, "timesteps_since_restore": 1300000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1300000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673289358>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1371.8845415115356, "episodes_total": 2957, "policy_reward_mean": {"adversary": -403.63279851421436, "av": 403.63279851421436}, "time_total_s": 1371.8845415115356, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1345.42822265625, "kl": 0.03351607546210289, "vf_loss": 1345.4725341796875, "policy_loss": -0.05110995098948479, "entropy": 136.12838745117188, "vf_explained_var": 0.163758784532547}, "update_time_ms": 8.744, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1335.9759521484375, "kl": 0.028820166364312172, "vf_loss": 1335.9757080078125, "policy_loss": -0.00017149976338259876, "entropy": 2.1207525730133057, "vf_explained_var": 0.16290587186813354}, "grad_time_ms": 7366.973, "load_time_ms": 15.569, "num_steps_sampled": 1300000, "num_steps_trained": 1300000, "sample_time_ms": 13334.344}, "hostname": "ip-172-31-27-32", "timestamp": 1544503208, "episode_len_mean": 496.97, "iterations_since_restore": 65, "date": "2018-12-11_04-40-08", "episode_reward_mean": 0.0, "time_this_iter_s": 20.557464599609375, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 65}
{"pid": 3344, "timesteps_since_restore": 1320000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1320000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67328bd68>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1392.5477137565613, "episodes_total": 3003, "policy_reward_mean": {"adversary": -393.77972085413376, "av": 393.77972085413376}, "time_total_s": 1392.5477137565613, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1374.629638671875, "kl": 0.034719210118055344, "vf_loss": 1374.675537109375, "policy_loss": -0.05262358859181404, "entropy": 136.1529998779297, "vf_explained_var": 0.17321793735027313}, "update_time_ms": 8.643, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1382.6234130859375, "kl": 0.02583143673837185, "vf_loss": 1382.621337890625, "policy_loss": 0.0016147283604368567, "entropy": 2.11012864112854, "vf_explained_var": 0.16529737412929535}, "grad_time_ms": 7359.744, "load_time_ms": 15.615, "num_steps_sampled": 1320000, "num_steps_trained": 1320000, "sample_time_ms": 13321.141}, "hostname": "ip-172-31-27-32", "timestamp": 1544503228, "episode_len_mean": 490.68, "iterations_since_restore": 66, "date": "2018-12-11_04-40-28", "episode_reward_mean": 0.0, "time_this_iter_s": 20.663172245025635, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 66}
{"pid": 3344, "timesteps_since_restore": 1340000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1340000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673289710>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1413.4605231285095, "episodes_total": 3049, "policy_reward_mean": {"adversary": -393.91108449476195, "av": 393.91108449476195}, "time_total_s": 1413.4605231285095, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1337.9478759765625, "kl": 0.03552577272057533, "vf_loss": 1337.995361328125, "policy_loss": -0.054579343646764755, "entropy": 136.10586547851562, "vf_explained_var": 0.17902278900146484}, "update_time_ms": 8.743, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1328.591796875, "kl": 0.033207301050424576, "vf_loss": 1328.5877685546875, "policy_loss": 0.0034494202118366957, "entropy": 2.0782759189605713, "vf_explained_var": 0.17747905850410461}, "grad_time_ms": 7352.233, "load_time_ms": 15.549, "num_steps_sampled": 1340000, "num_steps_trained": 1340000, "sample_time_ms": 13345.569}, "hostname": "ip-172-31-27-32", "timestamp": 1544503249, "episode_len_mean": 490.65, "iterations_since_restore": 67, "date": "2018-12-11_04-40-49", "episode_reward_mean": 0.0, "time_this_iter_s": 20.912809371948242, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 67}
{"pid": 3344, "timesteps_since_restore": 1360000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1360000, "episode_reward_min": 0.0, "episodes_this_iter": 42, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673276438>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1434.0508756637573, "episodes_total": 3091, "policy_reward_mean": {"adversary": -402.0151225615726, "av": 402.0151225615726}, "time_total_s": 1434.0508756637573, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1318.4500732421875, "kl": 0.034144170582294464, "vf_loss": 1318.4937744140625, "policy_loss": -0.05055210366845131, "entropy": 136.003662109375, "vf_explained_var": 0.16851218044757843}, "update_time_ms": 8.701, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1313.7816162109375, "kl": 0.02257615141570568, "vf_loss": 1313.7802734375, "policy_loss": 0.0009697635541670024, "entropy": 2.096719264984131, "vf_explained_var": 0.1765560805797577}, "grad_time_ms": 7340.486, "load_time_ms": 15.522, "num_steps_sampled": 1360000, "num_steps_trained": 1360000, "sample_time_ms": 13314.208}, "hostname": "ip-172-31-27-32", "timestamp": 1544503270, "episode_len_mean": 493.83, "iterations_since_restore": 68, "date": "2018-12-11_04-41-10", "episode_reward_mean": 0.0, "time_this_iter_s": 20.590352535247803, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 68}
{"pid": 3344, "timesteps_since_restore": 1380000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1380000, "episode_reward_min": 0.0, "episodes_this_iter": 47, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e0ba8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1455.1081264019012, "episodes_total": 3138, "policy_reward_mean": {"adversary": -396.7831780611055, "av": 396.7831780611055}, "time_total_s": 1455.1081264019012, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1446.323974609375, "kl": 0.03430484980344772, "vf_loss": 1446.3719482421875, "policy_loss": -0.05511651933193207, "entropy": 136.16246032714844, "vf_explained_var": 0.18083198368549347}, "update_time_ms": 8.719, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1448.0439453125, "kl": 0.02797611616551876, "vf_loss": 1448.042724609375, "policy_loss": 0.0009315317729488015, "entropy": 2.0643904209136963, "vf_explained_var": 0.17681868374347687}, "grad_time_ms": 7299.977, "load_time_ms": 15.182, "num_steps_sampled": 1380000, "num_steps_trained": 1380000, "sample_time_ms": 13376.483}, "hostname": "ip-172-31-27-32", "timestamp": 1544503291, "episode_len_mean": 492.68, "iterations_since_restore": 69, "date": "2018-12-11_04-41-31", "episode_reward_mean": 0.0, "time_this_iter_s": 21.05725073814392, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 69}
{"pid": 3344, "timesteps_since_restore": 1400000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1400000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732890b8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1476.0079669952393, "episodes_total": 3183, "policy_reward_mean": {"adversary": -387.0425604948148, "av": 387.0425604948148}, "time_total_s": 1476.0079669952393, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1352.682373046875, "kl": 0.03647925332188606, "vf_loss": 1352.730224609375, "policy_loss": -0.05516570806503296, "entropy": 136.01138305664062, "vf_explained_var": 0.17583128809928894}, "update_time_ms": 8.613, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1360.5504150390625, "kl": 0.03428701311349869, "vf_loss": 1360.546875, "policy_loss": 0.003040398471057415, "entropy": 2.06083083152771, "vf_explained_var": 0.16392125189304352}, "grad_time_ms": 7313.49, "load_time_ms": 15.198, "num_steps_sampled": 1400000, "num_steps_trained": 1400000, "sample_time_ms": 13387.545}, "hostname": "ip-172-31-27-32", "timestamp": 1544503312, "episode_len_mean": 485.35, "iterations_since_restore": 70, "date": "2018-12-11_04-41-52", "episode_reward_mean": 0.0, "time_this_iter_s": 20.899840593338013, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 70}
{"pid": 3344, "timesteps_since_restore": 1420000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1420000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673289390>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1496.594321012497, "episodes_total": 3229, "policy_reward_mean": {"adversary": -381.57813457921003, "av": 381.57813457921003}, "time_total_s": 1496.594321012497, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1382.4901123046875, "kl": 0.03356809541583061, "vf_loss": 1382.5343017578125, "policy_loss": -0.051122866570949554, "entropy": 136.06788635253906, "vf_explained_var": 0.193019300699234}, "update_time_ms": 8.405, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1389.6566162109375, "kl": 0.0312456376850605, "vf_loss": 1389.6558837890625, "policy_loss": 0.0002815136103890836, "entropy": 2.0180091857910156, "vf_explained_var": 0.18691468238830566}, "grad_time_ms": 7296.588, "load_time_ms": 15.2, "num_steps_sampled": 1420000, "num_steps_trained": 1420000, "sample_time_ms": 13387.802}, "hostname": "ip-172-31-27-32", "timestamp": 1544503333, "episode_len_mean": 478.92, "iterations_since_restore": 71, "date": "2018-12-11_04-42-13", "episode_reward_mean": 0.0, "time_this_iter_s": 20.58635401725769, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 71}
{"pid": 3344, "timesteps_since_restore": 1440000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1440000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e8630>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1517.4021654129028, "episodes_total": 3272, "policy_reward_mean": {"adversary": -388.2254638238644, "av": 388.2254638238644}, "time_total_s": 1517.4021654129028, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1365.2275390625, "kl": 0.0335150882601738, "vf_loss": 1365.2703857421875, "policy_loss": -0.0497458390891552, "entropy": 135.8845672607422, "vf_explained_var": 0.20390716195106506}, "update_time_ms": 8.318, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1378.181640625, "kl": 0.022908972576260567, "vf_loss": 1378.1796875, "policy_loss": 0.001703046029433608, "entropy": 2.0611155033111572, "vf_explained_var": 0.18601560592651367}, "grad_time_ms": 7257.092, "load_time_ms": 15.073, "num_steps_sampled": 1440000, "num_steps_trained": 1440000, "sample_time_ms": 13428.807}, "hostname": "ip-172-31-27-32", "timestamp": 1544503353, "episode_len_mean": 485.24, "iterations_since_restore": 72, "date": "2018-12-11_04-42-33", "episode_reward_mean": 0.0, "time_this_iter_s": 20.807844400405884, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 72}
{"pid": 3344, "timesteps_since_restore": 1460000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1460000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673289860>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1538.3457839488983, "episodes_total": 3318, "policy_reward_mean": {"adversary": -393.49848910501976, "av": 393.49848910501976}, "time_total_s": 1538.3457839488983, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1372.3612060546875, "kl": 0.03323005884885788, "vf_loss": 1372.4027099609375, "policy_loss": -0.048237450420856476, "entropy": 135.82156372070312, "vf_explained_var": 0.20434467494487762}, "update_time_ms": 8.29, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1392.3968505859375, "kl": 0.02236199751496315, "vf_loss": 1392.39697265625, "policy_loss": -0.00037264058482833207, "entropy": 2.044616222381592, "vf_explained_var": 0.1849900782108307}, "grad_time_ms": 7256.102, "load_time_ms": 15.12, "num_steps_sampled": 1460000, "num_steps_trained": 1460000, "sample_time_ms": 13461.272}, "hostname": "ip-172-31-27-32", "timestamp": 1544503374, "episode_len_mean": 493.36, "iterations_since_restore": 73, "date": "2018-12-11_04-42-54", "episode_reward_mean": 0.0, "time_this_iter_s": 20.943618535995483, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 73}
{"pid": 3344, "timesteps_since_restore": 1480000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1480000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673289390>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1558.9907667636871, "episodes_total": 3361, "policy_reward_mean": {"adversary": -399.55199990387183, "av": 399.55199990387183}, "time_total_s": 1558.9907667636871, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1407.900390625, "kl": 0.0351179875433445, "vf_loss": 1407.945068359375, "policy_loss": -0.051778219640254974, "entropy": 136.05335998535156, "vf_explained_var": 0.20864906907081604}, "update_time_ms": 8.323, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1421.5709228515625, "kl": 0.03901226818561554, "vf_loss": 1421.570068359375, "policy_loss": 0.00031185292755253613, "entropy": 2.006448984146118, "vf_explained_var": 0.192381352186203}, "grad_time_ms": 7241.992, "load_time_ms": 15.51, "num_steps_sampled": 1480000, "num_steps_trained": 1480000, "sample_time_ms": 13439.309}, "hostname": "ip-172-31-27-32", "timestamp": 1544503395, "episode_len_mean": 493.99, "iterations_since_restore": 74, "date": "2018-12-11_04-43-15", "episode_reward_mean": 0.0, "time_this_iter_s": 20.64498281478882, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 74}
{"pid": 3344, "timesteps_since_restore": 1500000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1500000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673286518>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1579.575862646103, "episodes_total": 3407, "policy_reward_mean": {"adversary": -393.1151131824804, "av": 393.1151131824804}, "time_total_s": 1579.575862646103, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1449.791015625, "kl": 0.03402533009648323, "vf_loss": 1449.8341064453125, "policy_loss": -0.04993128776550293, "entropy": 135.84169006347656, "vf_explained_var": 0.2109307199716568}, "update_time_ms": 8.374, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1464.4093017578125, "kl": 0.03326604142785072, "vf_loss": 1464.4090576171875, "policy_loss": -8.37613406474702e-05, "entropy": 2.0236926078796387, "vf_explained_var": 0.18832747638225555}, "grad_time_ms": 7235.876, "load_time_ms": 15.332, "num_steps_sampled": 1500000, "num_steps_trained": 1500000, "sample_time_ms": 13448.541}, "hostname": "ip-172-31-27-32", "timestamp": 1544503416, "episode_len_mean": 488.74, "iterations_since_restore": 75, "date": "2018-12-11_04-43-36", "episode_reward_mean": 0.0, "time_this_iter_s": 20.58509588241577, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 75}
{"pid": 3344, "timesteps_since_restore": 1520000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1520000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e26a0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1599.893634557724, "episodes_total": 3451, "policy_reward_mean": {"adversary": -391.51033319233, "av": 391.51033319233}, "time_total_s": 1599.893634557724, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1427.353759765625, "kl": 0.032288141548633575, "vf_loss": 1427.3946533203125, "policy_loss": -0.04746158793568611, "entropy": 135.63882446289062, "vf_explained_var": 0.19437110424041748}, "update_time_ms": 8.448, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1447.6993408203125, "kl": 0.03420034050941467, "vf_loss": 1447.697998046875, "policy_loss": 0.0006991913542151451, "entropy": 2.048126697540283, "vf_explained_var": 0.18406948447227478}, "grad_time_ms": 7228.665, "load_time_ms": 15.314, "num_steps_sampled": 1520000, "num_steps_trained": 1520000, "sample_time_ms": 13420.134}, "hostname": "ip-172-31-27-32", "timestamp": 1544503436, "episode_len_mean": 494.75, "iterations_since_restore": 76, "date": "2018-12-11_04-43-56", "episode_reward_mean": 0.0, "time_this_iter_s": 20.317771911621094, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 76}
{"pid": 3344, "timesteps_since_restore": 1540000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1540000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673292f60>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1620.6471300125122, "episodes_total": 3495, "policy_reward_mean": {"adversary": -395.4267289783761, "av": 395.4267289783761}, "time_total_s": 1620.6471300125122, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1526.6396484375, "kl": 0.03417487069964409, "vf_loss": 1526.6834716796875, "policy_loss": -0.05070384219288826, "entropy": 135.9295654296875, "vf_explained_var": 0.19772568345069885}, "update_time_ms": 8.287, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1536.1649169921875, "kl": 0.02368130162358284, "vf_loss": 1536.1644287109375, "policy_loss": 0.0002776823821477592, "entropy": 1.9743276834487915, "vf_explained_var": 0.18060868978500366}, "grad_time_ms": 7203.135, "load_time_ms": 15.25, "num_steps_sampled": 1540000, "num_steps_trained": 1540000, "sample_time_ms": 13431.062}, "hostname": "ip-172-31-27-32", "timestamp": 1544503457, "episode_len_mean": 491.06, "iterations_since_restore": 77, "date": "2018-12-11_04-44-17", "episode_reward_mean": 0.0, "time_this_iter_s": 20.753495454788208, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 77}
{"pid": 3344, "timesteps_since_restore": 1560000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1560000, "episode_reward_min": 0.0, "episodes_this_iter": 47, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e2438>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1641.2210557460785, "episodes_total": 3542, "policy_reward_mean": {"adversary": -399.43947795641355, "av": 399.43947795641355}, "time_total_s": 1641.2210557460785, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1606.281494140625, "kl": 0.03260166943073273, "vf_loss": 1606.323974609375, "policy_loss": -0.04916629567742348, "entropy": 135.9167938232422, "vf_explained_var": 0.19834446907043457}, "update_time_ms": 8.239, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1601.7552490234375, "kl": 0.029835505411028862, "vf_loss": 1601.7568359375, "policy_loss": -0.001965726725757122, "entropy": 1.9976317882537842, "vf_explained_var": 0.18011215329170227}, "grad_time_ms": 7223.223, "load_time_ms": 15.358, "num_steps_sampled": 1560000, "num_steps_trained": 1560000, "sample_time_ms": 13409.831}, "hostname": "ip-172-31-27-32", "timestamp": 1544503477, "episode_len_mean": 489.36, "iterations_since_restore": 78, "date": "2018-12-11_04-44-37", "episode_reward_mean": 0.0, "time_this_iter_s": 20.573925733566284, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 78}
{"pid": 3344, "timesteps_since_restore": 1580000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1580000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673292780>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1661.8402106761932, "episodes_total": 3585, "policy_reward_mean": {"adversary": -401.71508163095774, "av": 401.71508163095774}, "time_total_s": 1661.8402106761932, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1552.1240234375, "kl": 0.03549615666270256, "vf_loss": 1552.1710205078125, "policy_loss": -0.05408463627099991, "entropy": 135.9569854736328, "vf_explained_var": 0.20051585137844086}, "update_time_ms": 8.192, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1573.8389892578125, "kl": 0.027410510927438736, "vf_loss": 1573.839111328125, "policy_loss": -0.0005592015804722905, "entropy": 1.9517043828964233, "vf_explained_var": 0.1878984272480011}, "grad_time_ms": 7216.454, "load_time_ms": 15.324, "num_steps_sampled": 1580000, "num_steps_trained": 1580000, "sample_time_ms": 13373.342}, "hostname": "ip-172-31-27-32", "timestamp": 1544503498, "episode_len_mean": 494.93, "iterations_since_restore": 79, "date": "2018-12-11_04-44-58", "episode_reward_mean": 0.0, "time_this_iter_s": 20.619154930114746, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 79}
{"pid": 3344, "timesteps_since_restore": 1600000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1600000, "episode_reward_min": 0.0, "episodes_this_iter": 42, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732925f8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1682.6397347450256, "episodes_total": 3627, "policy_reward_mean": {"adversary": -401.9416852618605, "av": 401.9416852618605}, "time_total_s": 1682.6397347450256, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1597.3800048828125, "kl": 0.032697249203920364, "vf_loss": 1597.423095703125, "policy_loss": -0.04965217784047127, "entropy": 135.89651489257812, "vf_explained_var": 0.1717202067375183}, "update_time_ms": 8.229, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1603.065185546875, "kl": 0.027155961841344833, "vf_loss": 1603.066162109375, "policy_loss": -0.0013718213886022568, "entropy": 1.9755765199661255, "vf_explained_var": 0.16939079761505127}, "grad_time_ms": 7200.688, "load_time_ms": 15.476, "num_steps_sampled": 1600000, "num_steps_trained": 1600000, "sample_time_ms": 13378.773}, "hostname": "ip-172-31-27-32", "timestamp": 1544503519, "episode_len_mean": 496.55, "iterations_since_restore": 80, "date": "2018-12-11_04-45-19", "episode_reward_mean": 0.0, "time_this_iter_s": 20.799524068832397, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 80}
{"pid": 3344, "timesteps_since_restore": 1620000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1620000, "episode_reward_min": 0.0, "episodes_this_iter": 48, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732785f8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1703.5486958026886, "episodes_total": 3675, "policy_reward_mean": {"adversary": -405.0475978211721, "av": 405.0475978211721}, "time_total_s": 1703.5486958026886, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1661.29150390625, "kl": 0.034621551632881165, "vf_loss": 1661.33740234375, "policy_loss": -0.0528610497713089, "entropy": 135.75828552246094, "vf_explained_var": 0.18534167110919952}, "update_time_ms": 8.141, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1685.926513671875, "kl": 0.030726337805390358, "vf_loss": 1685.9246826171875, "policy_loss": 0.0015265995170921087, "entropy": 1.9695398807525635, "vf_explained_var": 0.16773690283298492}, "grad_time_ms": 7213.777, "load_time_ms": 15.379, "num_steps_sampled": 1620000, "num_steps_trained": 1620000, "sample_time_ms": 13398.591}, "hostname": "ip-172-31-27-32", "timestamp": 1544503540, "episode_len_mean": 492.2, "iterations_since_restore": 81, "date": "2018-12-11_04-45-40", "episode_reward_mean": 0.0, "time_this_iter_s": 20.908961057662964, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 81}
{"pid": 3344, "timesteps_since_restore": 1640000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1640000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67328be10>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1723.7387826442719, "episodes_total": 3718, "policy_reward_mean": {"adversary": -408.2807541776453, "av": 408.2807541776453}, "time_total_s": 1723.7387826442719, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1629.4010009765625, "kl": 0.032903604209423065, "vf_loss": 1629.44287109375, "policy_loss": -0.048394087702035904, "entropy": 135.8712615966797, "vf_explained_var": 0.20746570825576782}, "update_time_ms": 8.599, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1658.182861328125, "kl": 0.02603553794324398, "vf_loss": 1658.1806640625, "policy_loss": 0.0020015935879200697, "entropy": 1.9890704154968262, "vf_explained_var": 0.18715791404247284}, "grad_time_ms": 7212.968, "load_time_ms": 15.559, "num_steps_sampled": 1640000, "num_steps_trained": 1640000, "sample_time_ms": 13336.594}, "hostname": "ip-172-31-27-32", "timestamp": 1544503560, "episode_len_mean": 494.69, "iterations_since_restore": 82, "date": "2018-12-11_04-46-00", "episode_reward_mean": 0.0, "time_this_iter_s": 20.190086841583252, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 82}
{"pid": 3344, "timesteps_since_restore": 1660000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1660000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67328b390>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1744.378797531128, "episodes_total": 3762, "policy_reward_mean": {"adversary": -404.67825702936847, "av": 404.67825702936847}, "time_total_s": 1744.378797531128, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1613.620849609375, "kl": 0.03259905427694321, "vf_loss": 1613.6636962890625, "policy_loss": -0.04928496107459068, "entropy": 135.51394653320312, "vf_explained_var": 0.1912258416414261}, "update_time_ms": 8.528, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1641.0201416015625, "kl": 0.03011316806077957, "vf_loss": 1641.019775390625, "policy_loss": -8.384883403778076e-05, "entropy": 2.046384572982788, "vf_explained_var": 0.16852089762687683}, "grad_time_ms": 7201.744, "load_time_ms": 15.592, "num_steps_sampled": 1660000, "num_steps_trained": 1660000, "sample_time_ms": 13316.437}, "hostname": "ip-172-31-27-32", "timestamp": 1544503581, "episode_len_mean": 499.2, "iterations_since_restore": 83, "date": "2018-12-11_04-46-21", "episode_reward_mean": 0.0, "time_this_iter_s": 20.64001488685608, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 83}
{"pid": 3344, "timesteps_since_restore": 1680000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1680000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673290710>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1764.6471991539001, "episodes_total": 3806, "policy_reward_mean": {"adversary": -398.91120087979766, "av": 398.91120087979766}, "time_total_s": 1764.6471991539001, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1662.37060546875, "kl": 0.03351186588406563, "vf_loss": 1662.414306640625, "policy_loss": -0.050335414707660675, "entropy": 135.8050079345703, "vf_explained_var": 0.19251956045627594}, "update_time_ms": 8.461, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1669.97265625, "kl": 0.03554362431168556, "vf_loss": 1669.9718017578125, "policy_loss": 0.0006729288725182414, "entropy": 1.971451997756958, "vf_explained_var": 0.1775633990764618}, "grad_time_ms": 7197.575, "load_time_ms": 15.33, "num_steps_sampled": 1680000, "num_steps_trained": 1680000, "sample_time_ms": 13283.859}, "hostname": "ip-172-31-27-32", "timestamp": 1544503601, "episode_len_mean": 497.68, "iterations_since_restore": 84, "date": "2018-12-11_04-46-41", "episode_reward_mean": 0.0, "time_this_iter_s": 20.268401622772217, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 84}
{"pid": 3344, "timesteps_since_restore": 1700000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1700000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673292e10>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1785.2707018852234, "episodes_total": 3852, "policy_reward_mean": {"adversary": -400.82036927484455, "av": 400.82036927484455}, "time_total_s": 1785.2707018852234, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1632.9461669921875, "kl": 0.034471314400434494, "vf_loss": 1632.9912109375, "policy_loss": -0.05213247239589691, "entropy": 135.6774444580078, "vf_explained_var": 0.2016214281320572}, "update_time_ms": 8.3, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1661.913330078125, "kl": 0.03063899092376232, "vf_loss": 1661.912109375, "policy_loss": 0.0010334094986319542, "entropy": 1.9613393545150757, "vf_explained_var": 0.17773136496543884}, "grad_time_ms": 7184.521, "load_time_ms": 15.474, "num_steps_sampled": 1700000, "num_steps_trained": 1700000, "sample_time_ms": 13300.079}, "hostname": "ip-172-31-27-32", "timestamp": 1544503621, "episode_len_mean": 493.93, "iterations_since_restore": 85, "date": "2018-12-11_04-47-01", "episode_reward_mean": 0.0, "time_this_iter_s": 20.623502731323242, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 85}
{"pid": 3344, "timesteps_since_restore": 1720000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1720000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67326b550>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1806.157790184021, "episodes_total": 3897, "policy_reward_mean": {"adversary": -399.85534419407645, "av": 399.85534419407645}, "time_total_s": 1806.157790184021, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1595.575927734375, "kl": 0.034524478018283844, "vf_loss": 1595.62158203125, "policy_loss": -0.05261160805821419, "entropy": 135.54469299316406, "vf_explained_var": 0.188778355717659}, "update_time_ms": 8.569, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.014062500558793545, "total_loss": 1613.5325927734375, "kl": 0.04272706061601639, "vf_loss": 1613.5321044921875, "policy_loss": -7.55863293306902e-05, "entropy": 1.9726513624191284, "vf_explained_var": 0.16753099858760834}, "grad_time_ms": 7206.258, "load_time_ms": 15.414, "num_steps_sampled": 1720000, "num_steps_trained": 1720000, "sample_time_ms": 13335.198}, "hostname": "ip-172-31-27-32", "timestamp": 1544503642, "episode_len_mean": 493.23, "iterations_since_restore": 86, "date": "2018-12-11_04-47-22", "episode_reward_mean": 0.0, "time_this_iter_s": 20.887088298797607, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 86}
{"pid": 3344, "timesteps_since_restore": 1740000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1740000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673286e10>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1826.5610330104828, "episodes_total": 3941, "policy_reward_mean": {"adversary": -404.4679833169469, "av": 404.4679833169469}, "time_total_s": 1826.5610330104828, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1622.63623046875, "kl": 0.03375714272260666, "vf_loss": 1622.679931640625, "policy_loss": -0.050538402050733566, "entropy": 135.477294921875, "vf_explained_var": 0.19555889070034027}, "update_time_ms": 8.801, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.02109375223517418, "total_loss": 1652.2412109375, "kl": 0.024752357974648476, "vf_loss": 1652.2413330078125, "policy_loss": -0.0006165459635667503, "entropy": 1.9985586404800415, "vf_explained_var": 0.1738424450159073}, "grad_time_ms": 7217.139, "load_time_ms": 15.527, "num_steps_sampled": 1740000, "num_steps_trained": 1740000, "sample_time_ms": 13287.799}, "hostname": "ip-172-31-27-32", "timestamp": 1544503663, "episode_len_mean": 496.98, "iterations_since_restore": 87, "date": "2018-12-11_04-47-43", "episode_reward_mean": 0.0, "time_this_iter_s": 20.403242826461792, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 87}
{"pid": 3344, "timesteps_since_restore": 1760000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1760000, "episode_reward_min": 0.0, "episodes_this_iter": 42, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e2ba8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1847.4443271160126, "episodes_total": 3983, "policy_reward_mean": {"adversary": -403.79530040420315, "av": 403.79530040420315}, "time_total_s": 1847.4443271160126, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1619.160400390625, "kl": 0.03448335453867912, "vf_loss": 1619.2056884765625, "policy_loss": -0.052268922328948975, "entropy": 135.2453155517578, "vf_explained_var": 0.20627643167972565}, "update_time_ms": 8.779, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.02109375223517418, "total_loss": 1668.6654052734375, "kl": 0.035691458731889725, "vf_loss": 1668.6644287109375, "policy_loss": 0.00011405214900150895, "entropy": 2.023042678833008, "vf_explained_var": 0.17016223073005676}, "grad_time_ms": 7188.526, "load_time_ms": 15.505, "num_steps_sampled": 1760000, "num_steps_trained": 1760000, "sample_time_ms": 13347.055}, "hostname": "ip-172-31-27-32", "timestamp": 1544503684, "episode_len_mean": 496.98, "iterations_since_restore": 88, "date": "2018-12-11_04-48-04", "episode_reward_mean": 0.0, "time_this_iter_s": 20.883294105529785, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 88}
{"pid": 3344, "timesteps_since_restore": 1780000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1780000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673290dd8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1868.1990728378296, "episodes_total": 4028, "policy_reward_mean": {"adversary": -403.23691608777443, "av": 403.23691608777443}, "time_total_s": 1868.1990728378296, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1736.6165771484375, "kl": 0.034794826060533524, "vf_loss": 1736.6630859375, "policy_loss": -0.05377993360161781, "entropy": 135.41543579101562, "vf_explained_var": 0.22119972109794617}, "update_time_ms": 8.757, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.02109375223517418, "total_loss": 1779.751953125, "kl": 0.043622493743896484, "vf_loss": 1779.7471923828125, "policy_loss": 0.003849090775474906, "entropy": 2.0079219341278076, "vf_explained_var": 0.18203385174274445}, "grad_time_ms": 7203.277, "load_time_ms": 15.644, "num_steps_sampled": 1780000, "num_steps_trained": 1780000, "sample_time_ms": 13345.42}, "hostname": "ip-172-31-27-32", "timestamp": 1544503704, "episode_len_mean": 496.33, "iterations_since_restore": 89, "date": "2018-12-11_04-48-24", "episode_reward_mean": 0.0, "time_this_iter_s": 20.754745721817017, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 89}
{"pid": 3344, "timesteps_since_restore": 1800000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1800000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673290fd0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1888.565842628479, "episodes_total": 4073, "policy_reward_mean": {"adversary": -402.5243048306313, "av": 402.5243048306313}, "time_total_s": 1888.565842628479, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1666.0552978515625, "kl": 0.0325593538582325, "vf_loss": 1666.0992431640625, "policy_loss": -0.050489529967308044, "entropy": 135.32167053222656, "vf_explained_var": 0.21032631397247314}, "update_time_ms": 8.774, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1697.5302734375, "kl": 0.02264639362692833, "vf_loss": 1697.529296875, "policy_loss": 0.00036307290429249406, "entropy": 2.0266106128692627, "vf_explained_var": 0.17429468035697937}, "grad_time_ms": 7186.492, "load_time_ms": 15.551, "num_steps_sampled": 1800000, "num_steps_trained": 1800000, "sample_time_ms": 13318.847}, "hostname": "ip-172-31-27-32", "timestamp": 1544503725, "episode_len_mean": 496.2, "iterations_since_restore": 90, "date": "2018-12-11_04-48-45", "episode_reward_mean": 0.0, "time_this_iter_s": 20.366769790649414, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 90}
{"pid": 3344, "timesteps_since_restore": 1820000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1820000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732769b0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1909.4282836914062, "episodes_total": 4117, "policy_reward_mean": {"adversary": -402.8449761752004, "av": 402.8449761752004}, "time_total_s": 1909.4282836914062, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1635.1336669921875, "kl": 0.03348681330680847, "vf_loss": 1635.17626953125, "policy_loss": -0.04942942410707474, "entropy": 135.1609344482422, "vf_explained_var": 0.22905346751213074}, "update_time_ms": 8.791, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1672.0404052734375, "kl": 0.021517127752304077, "vf_loss": 1672.0404052734375, "policy_loss": -0.0004877190222032368, "entropy": 2.0189483165740967, "vf_explained_var": 0.18112227320671082}, "grad_time_ms": 7170.927, "load_time_ms": 15.603, "num_steps_sampled": 1820000, "num_steps_trained": 1820000, "sample_time_ms": 13329.173}, "hostname": "ip-172-31-27-32", "timestamp": 1544503746, "episode_len_mean": 499.15, "iterations_since_restore": 91, "date": "2018-12-11_04-49-06", "episode_reward_mean": 0.0, "time_this_iter_s": 20.862441062927246, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 91}
{"pid": 3344, "timesteps_since_restore": 1840000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1840000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732862e8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1929.817715883255, "episodes_total": 4162, "policy_reward_mean": {"adversary": -410.1913361852777, "av": 410.1913361852777}, "time_total_s": 1929.817715883255, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1661.820068359375, "kl": 0.03439180552959442, "vf_loss": 1661.8638916015625, "policy_loss": -0.050771091133356094, "entropy": 135.3141632080078, "vf_explained_var": 0.20577998459339142}, "update_time_ms": 8.356, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1695.8138427734375, "kl": 0.02112678252160549, "vf_loss": 1695.814697265625, "policy_loss": -0.0013685611775144935, "entropy": 1.993366003036499, "vf_explained_var": 0.17023558914661407}, "grad_time_ms": 7158.037, "load_time_ms": 15.38, "num_steps_sampled": 1840000, "num_steps_trained": 1840000, "sample_time_ms": 13362.735}, "hostname": "ip-172-31-27-32", "timestamp": 1544503766, "episode_len_mean": 500.0, "iterations_since_restore": 92, "date": "2018-12-11_04-49-26", "episode_reward_mean": 0.0, "time_this_iter_s": 20.389432191848755, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 92}
{"pid": 3344, "timesteps_since_restore": 1860000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1860000, "episode_reward_min": 0.0, "episodes_this_iter": 41, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d8908>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1950.5236341953278, "episodes_total": 4203, "policy_reward_mean": {"adversary": -411.15247827689274, "av": 411.15247827689274}, "time_total_s": 1950.5236341953278, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1703.554443359375, "kl": 0.03365689516067505, "vf_loss": 1703.597412109375, "policy_loss": -0.04956727847456932, "entropy": 135.38986206054688, "vf_explained_var": 0.2107337862253189}, "update_time_ms": 8.377, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1718.273193359375, "kl": 0.020312169566750526, "vf_loss": 1718.2740478515625, "policy_loss": -0.0015478653367608786, "entropy": 2.0117621421813965, "vf_explained_var": 0.17837588489055634}, "grad_time_ms": 7144.548, "load_time_ms": 15.426, "num_steps_sampled": 1860000, "num_steps_trained": 1860000, "sample_time_ms": 13383.54}, "hostname": "ip-172-31-27-32", "timestamp": 1544503787, "episode_len_mean": 500.0, "iterations_since_restore": 93, "date": "2018-12-11_04-49-47", "episode_reward_mean": 0.0, "time_this_iter_s": 20.705918312072754, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 93}
{"pid": 3344, "timesteps_since_restore": 1880000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1880000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673289128>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1970.830478668213, "episodes_total": 4249, "policy_reward_mean": {"adversary": -407.42414706688714, "av": 407.42414706688714}, "time_total_s": 1970.830478668213, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1761.025390625, "kl": 0.03368433192372322, "vf_loss": 1761.0703125, "policy_loss": -0.051645729690790176, "entropy": 135.46913146972656, "vf_explained_var": 0.19522516429424286}, "update_time_ms": 8.368, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1770.6396484375, "kl": 0.02292853221297264, "vf_loss": 1770.6397705078125, "policy_loss": -0.000982501427643001, "entropy": 2.0093281269073486, "vf_explained_var": 0.17102932929992676}, "grad_time_ms": 7158.793, "load_time_ms": 15.393, "num_steps_sampled": 1880000, "num_steps_trained": 1880000, "sample_time_ms": 13373.245}, "hostname": "ip-172-31-27-32", "timestamp": 1544503807, "episode_len_mean": 498.42, "iterations_since_restore": 94, "date": "2018-12-11_04-50-07", "episode_reward_mean": 0.0, "time_this_iter_s": 20.306844472885132, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 94}
{"pid": 3344, "timesteps_since_restore": 1900000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1900000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673290cc0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 1990.9891011714935, "episodes_total": 4294, "policy_reward_mean": {"adversary": -403.38749710881416, "av": 403.38749710881416}, "time_total_s": 1990.9891011714935, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1664.9766845703125, "kl": 0.033056046813726425, "vf_loss": 1665.0172119140625, "policy_loss": -0.047341182827949524, "entropy": 135.2939453125, "vf_explained_var": 0.21032005548477173}, "update_time_ms": 8.433, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1700.9171142578125, "kl": 0.02331656590104103, "vf_loss": 1700.9178466796875, "policy_loss": -0.0015799999237060547, "entropy": 2.0243914127349854, "vf_explained_var": 0.17515647411346436}, "grad_time_ms": 7149.094, "load_time_ms": 15.431, "num_steps_sampled": 1900000, "num_steps_trained": 1900000, "sample_time_ms": 13335.721}, "hostname": "ip-172-31-27-32", "timestamp": 1544503827, "episode_len_mean": 494.04, "iterations_since_restore": 95, "date": "2018-12-11_04-50-27", "episode_reward_mean": 0.0, "time_this_iter_s": 20.15862250328064, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 95}
{"pid": 3344, "timesteps_since_restore": 1920000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1920000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e8208>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2011.766265630722, "episodes_total": 4338, "policy_reward_mean": {"adversary": -397.0538618472118, "av": 397.0538618472118}, "time_total_s": 2011.766265630722, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1630.3050537109375, "kl": 0.03523992374539375, "vf_loss": 1630.3505859375, "policy_loss": -0.052416592836380005, "entropy": 135.30551147460938, "vf_explained_var": 0.22301116585731506}, "update_time_ms": 8.142, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1677.4849853515625, "kl": 0.021103544160723686, "vf_loss": 1677.4847412109375, "policy_loss": -0.0005228656809777021, "entropy": 1.9920504093170166, "vf_explained_var": 0.1839495152235031}, "grad_time_ms": 7108.622, "load_time_ms": 15.546, "num_steps_sampled": 1920000, "num_steps_trained": 1920000, "sample_time_ms": 13364.943}, "hostname": "ip-172-31-27-32", "timestamp": 1544503848, "episode_len_mean": 491.93, "iterations_since_restore": 96, "date": "2018-12-11_04-50-48", "episode_reward_mean": 0.0, "time_this_iter_s": 20.777164459228516, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 96}
{"pid": 3344, "timesteps_since_restore": 1940000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1940000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673286b70>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2032.21968126297, "episodes_total": 4384, "policy_reward_mean": {"adversary": -404.09824240281245, "av": 404.09824240281245}, "time_total_s": 2032.21968126297, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1651.5478515625, "kl": 0.036013584583997726, "vf_loss": 1651.5963134765625, "policy_loss": -0.055273111909627914, "entropy": 135.28981018066406, "vf_explained_var": 0.23582473397254944}, "update_time_ms": 7.92, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1704.9296875, "kl": 0.024199333041906357, "vf_loss": 1704.9306640625, "policy_loss": -0.0016914858715608716, "entropy": 1.9983301162719727, "vf_explained_var": 0.1788713037967682}, "grad_time_ms": 7105.672, "load_time_ms": 15.593, "num_steps_sampled": 1940000, "num_steps_trained": 1940000, "sample_time_ms": 13373.385}, "hostname": "ip-172-31-27-32", "timestamp": 1544503869, "episode_len_mean": 491.94, "iterations_since_restore": 97, "date": "2018-12-11_04-51-09", "episode_reward_mean": 0.0, "time_this_iter_s": 20.453415632247925, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 97}
{"pid": 3344, "timesteps_since_restore": 1960000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1960000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731ea048>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2052.7174320220947, "episodes_total": 4427, "policy_reward_mean": {"adversary": -404.92966904958337, "av": 404.92966904958337}, "time_total_s": 2052.7174320220947, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1588.17919921875, "kl": 0.03431583568453789, "vf_loss": 1588.2222900390625, "policy_loss": -0.04984471574425697, "entropy": 135.2306365966797, "vf_explained_var": 0.25142282247543335}, "update_time_ms": 7.81, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1633.3094482421875, "kl": 0.02565479651093483, "vf_loss": 1633.31103515625, "policy_loss": -0.002236387925222516, "entropy": 1.9945361614227295, "vf_explained_var": 0.19893331825733185}, "grad_time_ms": 7085.976, "load_time_ms": 15.502, "num_steps_sampled": 1960000, "num_steps_trained": 1960000, "sample_time_ms": 13355.271}, "hostname": "ip-172-31-27-32", "timestamp": 1544503889, "episode_len_mean": 495.49, "iterations_since_restore": 98, "date": "2018-12-11_04-51-29", "episode_reward_mean": 0.0, "time_this_iter_s": 20.497750759124756, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 98}
{"pid": 3344, "timesteps_since_restore": 1980000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 1980000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e8cc0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2073.4175112247467, "episodes_total": 4472, "policy_reward_mean": {"adversary": -407.24652031714874, "av": 407.24652031714874}, "time_total_s": 2073.4175112247467, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1682.26318359375, "kl": 0.03664904460310936, "vf_loss": 1682.3094482421875, "policy_loss": -0.053741179406642914, "entropy": 134.92127990722656, "vf_explained_var": 0.24200019240379333}, "update_time_ms": 7.775, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1736.5286865234375, "kl": 0.025153135880827904, "vf_loss": 1736.5296630859375, "policy_loss": -0.0019085112726315856, "entropy": 1.9991308450698853, "vf_explained_var": 0.1877547800540924}, "grad_time_ms": 7068.853, "load_time_ms": 15.439, "num_steps_sampled": 1980000, "num_steps_trained": 1980000, "sample_time_ms": 13365.172}, "hostname": "ip-172-31-27-32", "timestamp": 1544503910, "episode_len_mean": 498.26, "iterations_since_restore": 99, "date": "2018-12-11_04-51-50", "episode_reward_mean": 0.0, "time_this_iter_s": 20.700079202651978, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 99}
{"pid": 3344, "timesteps_since_restore": 2000000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2000000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673286a90>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2094.028749227524, "episodes_total": 4515, "policy_reward_mean": {"adversary": -403.8241089118193, "av": 403.8241089118193}, "time_total_s": 2094.028749227524, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1670.5069580078125, "kl": 0.034015901386737823, "vf_loss": 1670.5511474609375, "policy_loss": -0.051081057637929916, "entropy": 135.0748748779297, "vf_explained_var": 0.1857716143131256}, "update_time_ms": 7.635, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1701.431640625, "kl": 0.019604720175266266, "vf_loss": 1701.4315185546875, "policy_loss": -0.0005664947675541043, "entropy": 1.9892730712890625, "vf_explained_var": 0.15770581364631653}, "grad_time_ms": 7064.973, "load_time_ms": 15.397, "num_steps_sampled": 2000000, "num_steps_trained": 2000000, "sample_time_ms": 13394.003}, "hostname": "ip-172-31-27-32", "timestamp": 1544503930, "episode_len_mean": 498.19, "iterations_since_restore": 100, "date": "2018-12-11_04-52-10", "episode_reward_mean": 0.0, "time_this_iter_s": 20.6112380027771, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 100}
{"pid": 3344, "timesteps_since_restore": 2020000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2020000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67326b128>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2114.3657310009003, "episodes_total": 4561, "policy_reward_mean": {"adversary": -400.3384189144783, "av": 400.3384189144783}, "time_total_s": 2114.3657310009003, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1775.2744140625, "kl": 0.03295925632119179, "vf_loss": 1775.316650390625, "policy_loss": -0.04877711459994316, "entropy": 134.7835235595703, "vf_explained_var": 0.17264240980148315}, "update_time_ms": 7.766, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1803.22314453125, "kl": 0.02272321842610836, "vf_loss": 1803.222412109375, "policy_loss": 0.00026469334261491895, "entropy": 2.010169744491577, "vf_explained_var": 0.156251460313797}, "grad_time_ms": 7052.342, "load_time_ms": 15.601, "num_steps_sampled": 2020000, "num_steps_trained": 2020000, "sample_time_ms": 13353.29}, "hostname": "ip-172-31-27-32", "timestamp": 1544503951, "episode_len_mean": 495.47, "iterations_since_restore": 101, "date": "2018-12-11_04-52-31", "episode_reward_mean": 0.0, "time_this_iter_s": 20.336981773376465, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 101}
{"pid": 3344, "timesteps_since_restore": 2040000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2040000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673289438>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2135.1406960487366, "episodes_total": 4606, "policy_reward_mean": {"adversary": -395.66647213451085, "av": 395.66647213451085}, "time_total_s": 2135.1406960487366, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1664.576416015625, "kl": 0.0364765003323555, "vf_loss": 1664.623046875, "policy_loss": -0.05391351878643036, "entropy": 134.6024169921875, "vf_explained_var": 0.1901470124721527}, "update_time_ms": 7.757, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1726.909423828125, "kl": 0.02505023404955864, "vf_loss": 1726.909423828125, "policy_loss": -0.0009766709990799427, "entropy": 2.0089173316955566, "vf_explained_var": 0.16106833517551422}, "grad_time_ms": 7066.36, "load_time_ms": 15.734, "num_steps_sampled": 2040000, "num_steps_trained": 2040000, "sample_time_ms": 13377.369}, "hostname": "ip-172-31-27-32", "timestamp": 1544503972, "episode_len_mean": 495.49, "iterations_since_restore": 102, "date": "2018-12-11_04-52-52", "episode_reward_mean": 0.0, "time_this_iter_s": 20.774965047836304, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 102}
{"pid": 3344, "timesteps_since_restore": 2060000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2060000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673278c50>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2155.4426476955414, "episodes_total": 4650, "policy_reward_mean": {"adversary": -396.5044347590243, "av": 396.5044347590243}, "time_total_s": 2155.4426476955414, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1706.2808837890625, "kl": 0.03685017675161362, "vf_loss": 1706.3275146484375, "policy_loss": -0.05384887009859085, "entropy": 134.85842895507812, "vf_explained_var": 0.2090483456850052}, "update_time_ms": 7.734, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1739.4737548828125, "kl": 0.0224953331053257, "vf_loss": 1739.4737548828125, "policy_loss": -0.0006970462272875011, "entropy": 1.9602899551391602, "vf_explained_var": 0.167272686958313}, "grad_time_ms": 7056.022, "load_time_ms": 15.698, "num_steps_sampled": 2060000, "num_steps_trained": 2060000, "sample_time_ms": 13347.718}, "hostname": "ip-172-31-27-32", "timestamp": 1544503992, "episode_len_mean": 495.49, "iterations_since_restore": 103, "date": "2018-12-11_04-53-12", "episode_reward_mean": 0.0, "time_this_iter_s": 20.30195164680481, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 103}
{"pid": 3344, "timesteps_since_restore": 2080000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2080000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732787f0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2175.8783078193665, "episodes_total": 4694, "policy_reward_mean": {"adversary": -409.41882067807995, "av": 409.41882067807995}, "time_total_s": 2175.8783078193665, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1786.5540771484375, "kl": 0.03302314504981041, "vf_loss": 1786.59814453125, "policy_loss": -0.05053267627954483, "entropy": 135.2958984375, "vf_explained_var": 0.2035844624042511}, "update_time_ms": 7.71, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1808.80712890625, "kl": 0.020849518477916718, "vf_loss": 1808.8094482421875, "policy_loss": -0.002937139244750142, "entropy": 1.8739315271377563, "vf_explained_var": 0.16953028738498688}, "grad_time_ms": 7032.87, "load_time_ms": 15.732, "num_steps_sampled": 2080000, "num_steps_trained": 2080000, "sample_time_ms": 13383.799}, "hostname": "ip-172-31-27-32", "timestamp": 1544504012, "episode_len_mean": 500.0, "iterations_since_restore": 104, "date": "2018-12-11_04-53-32", "episode_reward_mean": 0.0, "time_this_iter_s": 20.435660123825073, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 104}
{"pid": 3344, "timesteps_since_restore": 2100000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2100000, "episode_reward_min": 0.0, "episodes_this_iter": 41, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732892b0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2196.653728246689, "episodes_total": 4735, "policy_reward_mean": {"adversary": -414.9597187515226, "av": 414.9597187515226}, "time_total_s": 2196.653728246689, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1760.309326171875, "kl": 0.03505399450659752, "vf_loss": 1760.354736328125, "policy_loss": -0.052389804273843765, "entropy": 135.0277099609375, "vf_explained_var": 0.2207365334033966}, "update_time_ms": 7.931, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1793.1141357421875, "kl": 0.0221286341547966, "vf_loss": 1793.114990234375, "policy_loss": -0.0016330486396327615, "entropy": 1.8877547979354858, "vf_explained_var": 0.17859189212322235}, "grad_time_ms": 7046.138, "load_time_ms": 15.631, "num_steps_sampled": 2100000, "num_steps_trained": 2100000, "sample_time_ms": 13433.074}, "hostname": "ip-172-31-27-32", "timestamp": 1544504033, "episode_len_mean": 500.0, "iterations_since_restore": 105, "date": "2018-12-11_04-53-53", "episode_reward_mean": 0.0, "time_this_iter_s": 20.775420427322388, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 105}
{"pid": 3344, "timesteps_since_restore": 2120000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2120000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731ead68>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2216.948633670807, "episodes_total": 4781, "policy_reward_mean": {"adversary": -409.42983005945223, "av": 409.42983005945223}, "time_total_s": 2216.948633670807, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1820.31689453125, "kl": 0.03351910784840584, "vf_loss": 1820.359375, "policy_loss": -0.04886097088456154, "entropy": 134.8907012939453, "vf_explained_var": 0.2183733731508255}, "update_time_ms": 7.983, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1831.945556640625, "kl": 0.019607435911893845, "vf_loss": 1831.9462890625, "policy_loss": -0.0013825380010530353, "entropy": 1.9284616708755493, "vf_explained_var": 0.1964307427406311}, "grad_time_ms": 7048.19, "load_time_ms": 15.387, "num_steps_sampled": 2120000, "num_steps_trained": 2120000, "sample_time_ms": 13384.968}, "hostname": "ip-172-31-27-32", "timestamp": 1544504053, "episode_len_mean": 500.0, "iterations_since_restore": 106, "date": "2018-12-11_04-54-13", "episode_reward_mean": 0.0, "time_this_iter_s": 20.294905424118042, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 106}
{"pid": 3344, "timesteps_since_restore": 2140000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2140000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e85f8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2237.579437017441, "episodes_total": 4827, "policy_reward_mean": {"adversary": -404.60128506019106, "av": 404.60128506019106}, "time_total_s": 2237.579437017441, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1831.2816162109375, "kl": 0.03490905091166496, "vf_loss": 1831.3265380859375, "policy_loss": -0.05169018730521202, "entropy": 134.94358825683594, "vf_explained_var": 0.2171887904405594}, "update_time_ms": 7.945, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1858.35595703125, "kl": 0.024637145921587944, "vf_loss": 1858.358154296875, "policy_loss": -0.0029639529529958963, "entropy": 1.8943908214569092, "vf_explained_var": 0.18387900292873383}, "grad_time_ms": 7040.665, "load_time_ms": 15.324, "num_steps_sampled": 2140000, "num_steps_trained": 2140000, "sample_time_ms": 13410.786}, "hostname": "ip-172-31-27-32", "timestamp": 1544504074, "episode_len_mean": 495.55, "iterations_since_restore": 107, "date": "2018-12-11_04-54-34", "episode_reward_mean": 0.0, "time_this_iter_s": 20.63080334663391, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 107}
{"pid": 3344, "timesteps_since_restore": 2160000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2160000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732765c0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2258.2588057518005, "episodes_total": 4871, "policy_reward_mean": {"adversary": -402.7830751331125, "av": 402.7830751331125}, "time_total_s": 2258.2588057518005, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1794.048095703125, "kl": 0.03592805191874504, "vf_loss": 1794.0950927734375, "policy_loss": -0.05399633198976517, "entropy": 134.5203094482422, "vf_explained_var": 0.216363787651062}, "update_time_ms": 8.141, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1823.574951171875, "kl": 0.019458647817373276, "vf_loss": 1823.575927734375, "policy_loss": -0.0019207487348467112, "entropy": 1.9578912258148193, "vf_explained_var": 0.1846320629119873}, "grad_time_ms": 7054.125, "load_time_ms": 15.335, "num_steps_sampled": 2160000, "num_steps_trained": 2160000, "sample_time_ms": 13414.397}, "hostname": "ip-172-31-27-32", "timestamp": 1544504095, "episode_len_mean": 493.26, "iterations_since_restore": 108, "date": "2018-12-11_04-54-55", "episode_reward_mean": 0.0, "time_this_iter_s": 20.67936873435974, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 108}
{"pid": 3344, "timesteps_since_restore": 2180000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2180000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67326b9e8>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2278.9466602802277, "episodes_total": 4916, "policy_reward_mean": {"adversary": -395.2128502634612, "av": 395.2128502634612}, "time_total_s": 2278.9466602802277, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1803.7447509765625, "kl": 0.03510226681828499, "vf_loss": 1803.791015625, "policy_loss": -0.05307108163833618, "entropy": 134.6801300048828, "vf_explained_var": 0.20963795483112335}, "update_time_ms": 8.422, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1823.60498046875, "kl": 0.022622520104050636, "vf_loss": 1823.60595703125, "policy_loss": -0.0017880735686048865, "entropy": 1.9157110452651978, "vf_explained_var": 0.18238656222820282}, "grad_time_ms": 7041.48, "load_time_ms": 15.142, "num_steps_sampled": 2180000, "num_steps_trained": 2180000, "sample_time_ms": 13428.545}, "hostname": "ip-172-31-27-32", "timestamp": 1544504115, "episode_len_mean": 488.01, "iterations_since_restore": 109, "date": "2018-12-11_04-55-15", "episode_reward_mean": 0.0, "time_this_iter_s": 20.687854528427124, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 109}
{"pid": 3344, "timesteps_since_restore": 2200000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2200000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67326b320>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2299.597938299179, "episodes_total": 4959, "policy_reward_mean": {"adversary": -396.4319175260063, "av": 396.4319175260063}, "time_total_s": 2299.597938299179, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1824.919921875, "kl": 0.03433757647871971, "vf_loss": 1824.9639892578125, "policy_loss": -0.05098995938897133, "entropy": 134.4290313720703, "vf_explained_var": 0.235102117061615}, "update_time_ms": 8.394, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1844.878662109375, "kl": 0.01766127720475197, "vf_loss": 1844.878173828125, "policy_loss": -0.0003067511133849621, "entropy": 1.944801926612854, "vf_explained_var": 0.19146759808063507}, "grad_time_ms": 7045.21, "load_time_ms": 15.153, "num_steps_sampled": 2200000, "num_steps_trained": 2200000, "sample_time_ms": 13429.326}, "hostname": "ip-172-31-27-32", "timestamp": 1544504136, "episode_len_mean": 493.99, "iterations_since_restore": 110, "date": "2018-12-11_04-55-36", "episode_reward_mean": 0.0, "time_this_iter_s": 20.651278018951416, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 110}
{"pid": 3344, "timesteps_since_restore": 2220000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2220000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731ea358>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2320.0718998908997, "episodes_total": 5003, "policy_reward_mean": {"adversary": -399.5228327608825, "av": 399.5228327608825}, "time_total_s": 2320.0718998908997, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1828.0638427734375, "kl": 0.03442187234759331, "vf_loss": 1828.107421875, "policy_loss": -0.05054633691906929, "entropy": 134.38519287109375, "vf_explained_var": 0.19664154946804047}, "update_time_ms": 8.297, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1832.7696533203125, "kl": 0.021564098075032234, "vf_loss": 1832.7696533203125, "policy_loss": -0.0007670060149393976, "entropy": 1.9618810415267944, "vf_explained_var": 0.17257268726825714}, "grad_time_ms": 7037.007, "load_time_ms": 14.924, "num_steps_sampled": 2220000, "num_steps_trained": 2220000, "sample_time_ms": 13451.769}, "hostname": "ip-172-31-27-32", "timestamp": 1544504157, "episode_len_mean": 499.24, "iterations_since_restore": 111, "date": "2018-12-11_04-55-57", "episode_reward_mean": 0.0, "time_this_iter_s": 20.47396159172058, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 111}
{"pid": 3344, "timesteps_since_restore": 2240000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2240000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731eab00>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2340.759974718094, "episodes_total": 5049, "policy_reward_mean": {"adversary": -396.7427168822466, "av": 396.7427168822466}, "time_total_s": 2340.759974718094, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1854.1634521484375, "kl": 0.035487812012434006, "vf_loss": 1854.2093505859375, "policy_loss": -0.05302368849515915, "entropy": 134.5911407470703, "vf_explained_var": 0.22264724969863892}, "update_time_ms": 8.316, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1859.2447509765625, "kl": 0.019722526893019676, "vf_loss": 1859.2459716796875, "policy_loss": -0.0017745861550793052, "entropy": 1.8906970024108887, "vf_explained_var": 0.19285839796066284}, "grad_time_ms": 7018.278, "load_time_ms": 14.804, "num_steps_sampled": 2240000, "num_steps_trained": 2240000, "sample_time_ms": 13462.825}, "hostname": "ip-172-31-27-32", "timestamp": 1544504177, "episode_len_mean": 496.32, "iterations_since_restore": 112, "date": "2018-12-11_04-56-17", "episode_reward_mean": 0.0, "time_this_iter_s": 20.688074827194214, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 112}
{"pid": 3344, "timesteps_since_restore": 2260000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2260000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673292a20>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2361.400508403778, "episodes_total": 5093, "policy_reward_mean": {"adversary": -404.5166085426712, "av": 404.5166085426712}, "time_total_s": 2361.400508403778, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1776.65966796875, "kl": 0.035945456475019455, "vf_loss": 1776.706298828125, "policy_loss": -0.05403192341327667, "entropy": 134.57652282714844, "vf_explained_var": 0.22501778602600098}, "update_time_ms": 8.206, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1798.0494384765625, "kl": 0.02484494261443615, "vf_loss": 1798.0494384765625, "policy_loss": -0.0007031336426734924, "entropy": 1.8749874830245972, "vf_explained_var": 0.18255114555358887}, "grad_time_ms": 7032.173, "load_time_ms": 15.168, "num_steps_sampled": 2260000, "num_steps_trained": 2260000, "sample_time_ms": 13481.534}, "hostname": "ip-172-31-27-32", "timestamp": 1544504198, "episode_len_mean": 496.32, "iterations_since_restore": 113, "date": "2018-12-11_04-56-38", "episode_reward_mean": 0.0, "time_this_iter_s": 20.640533685684204, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 113}
{"pid": 3344, "timesteps_since_restore": 2280000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2280000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673286470>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2381.761996984482, "episodes_total": 5136, "policy_reward_mean": {"adversary": -411.16948551021335, "av": 411.16948551021335}, "time_total_s": 2381.761996984482, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1836.2171630859375, "kl": 0.0344129242002964, "vf_loss": 1836.2615966796875, "policy_loss": -0.0510968342423439, "entropy": 134.60296630859375, "vf_explained_var": 0.2223433405160904}, "update_time_ms": 8.214, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1860.996337890625, "kl": 0.017405956983566284, "vf_loss": 1860.998046875, "policy_loss": -0.001913424115628004, "entropy": 1.8575631380081177, "vf_explained_var": 0.18752646446228027}, "grad_time_ms": 7020.894, "load_time_ms": 14.954, "num_steps_sampled": 2280000, "num_steps_trained": 2280000, "sample_time_ms": 13486.361}, "hostname": "ip-172-31-27-32", "timestamp": 1544504218, "episode_len_mean": 500.0, "iterations_since_restore": 114, "date": "2018-12-11_04-56-58", "episode_reward_mean": 0.0, "time_this_iter_s": 20.361488580703735, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 114}
{"pid": 3344, "timesteps_since_restore": 2300000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2300000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673290e80>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2402.5164313316345, "episodes_total": 5180, "policy_reward_mean": {"adversary": -401.78385055786197, "av": 401.78385055786197}, "time_total_s": 2402.5164313316345, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1774.318115234375, "kl": 0.035333603620529175, "vf_loss": 1774.3653564453125, "policy_loss": -0.054689619690179825, "entropy": 134.1377410888672, "vf_explained_var": 0.18957142531871796}, "update_time_ms": 8.273, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1816.054931640625, "kl": 0.01828748546540737, "vf_loss": 1816.0565185546875, "policy_loss": -0.0023503433912992477, "entropy": 1.9137221574783325, "vf_explained_var": 0.16369202733039856}, "grad_time_ms": 7010.31, "load_time_ms": 15.02, "num_steps_sampled": 2300000, "num_steps_trained": 2300000, "sample_time_ms": 13494.805}, "hostname": "ip-172-31-27-32", "timestamp": 1544504239, "episode_len_mean": 497.77, "iterations_since_restore": 115, "date": "2018-12-11_04-57-19", "episode_reward_mean": 0.0, "time_this_iter_s": 20.75443434715271, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 115}
{"pid": 3344, "timesteps_since_restore": 2320000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2320000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731ea630>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2422.8150832653046, "episodes_total": 5226, "policy_reward_mean": {"adversary": -399.8035824480645, "av": 399.8035824480645}, "time_total_s": 2422.8150832653046, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1770.919921875, "kl": 0.036139924079179764, "vf_loss": 1770.96533203125, "policy_loss": -0.05301985517144203, "entropy": 134.31582641601562, "vf_explained_var": 0.2339962273836136}, "update_time_ms": 8.203, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1798.758056640625, "kl": 0.023033175617456436, "vf_loss": 1798.7591552734375, "policy_loss": -0.001984965056180954, "entropy": 1.8731087446212769, "vf_explained_var": 0.20200760662555695}, "grad_time_ms": 7019.788, "load_time_ms": 14.991, "num_steps_sampled": 2320000, "num_steps_trained": 2320000, "sample_time_ms": 13485.244}, "hostname": "ip-172-31-27-32", "timestamp": 1544504259, "episode_len_mean": 496.33, "iterations_since_restore": 116, "date": "2018-12-11_04-57-39", "episode_reward_mean": 0.0, "time_this_iter_s": 20.298651933670044, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 116}
{"pid": 3344, "timesteps_since_restore": 2340000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2340000, "episode_reward_min": 0.0, "episodes_this_iter": 42, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1d84e0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2443.3567283153534, "episodes_total": 5268, "policy_reward_mean": {"adversary": -399.6230870981101, "av": 399.6230870981101}, "time_total_s": 2443.3567283153534, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1642.9700927734375, "kl": 0.03493204340338707, "vf_loss": 1643.0135498046875, "policy_loss": -0.050438910722732544, "entropy": 133.93014526367188, "vf_explained_var": 0.24877895414829254}, "update_time_ms": 8.291, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1695.965087890625, "kl": 0.030526094138622284, "vf_loss": 1695.9656982421875, "policy_loss": -0.0016031196573749185, "entropy": 1.8981499671936035, "vf_explained_var": 0.20744052529335022}, "grad_time_ms": 7002.939, "load_time_ms": 14.812, "num_steps_sampled": 2340000, "num_steps_trained": 2340000, "sample_time_ms": 13493.696}, "hostname": "ip-172-31-27-32", "timestamp": 1544504280, "episode_len_mean": 496.33, "iterations_since_restore": 117, "date": "2018-12-11_04-58-00", "episode_reward_mean": 0.0, "time_this_iter_s": 20.541645050048828, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 117}
{"pid": 3344, "timesteps_since_restore": 2360000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2360000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1e2e10>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2463.851758003235, "episodes_total": 5314, "policy_reward_mean": {"adversary": -406.422604216108, "av": 406.422604216108}, "time_total_s": 2463.851758003235, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1742.3505859375, "kl": 0.03456242009997368, "vf_loss": 1742.39599609375, "policy_loss": -0.05243451148271561, "entropy": 134.3362579345703, "vf_explained_var": 0.24687150120735168}, "update_time_ms": 8.249, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1750.1263427734375, "kl": 0.01579744927585125, "vf_loss": 1750.1280517578125, "policy_loss": -0.002221008762717247, "entropy": 1.8254834413528442, "vf_explained_var": 0.21653461456298828}, "grad_time_ms": 7013.551, "load_time_ms": 14.783, "num_steps_sampled": 2360000, "num_steps_trained": 2360000, "sample_time_ms": 13464.998}, "hostname": "ip-172-31-27-32", "timestamp": 1544504301, "episode_len_mean": 500.0, "iterations_since_restore": 118, "date": "2018-12-11_04-58-21", "episode_reward_mean": 0.0, "time_this_iter_s": 20.49502968788147, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 118}
{"pid": 3344, "timesteps_since_restore": 2380000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2380000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731ea358>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2484.0435016155243, "episodes_total": 5357, "policy_reward_mean": {"adversary": -409.4370107648852, "av": 409.4370107648852}, "time_total_s": 2484.0435016155243, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1784.827880859375, "kl": 0.03536928445100784, "vf_loss": 1784.873779296875, "policy_loss": -0.05290587618947029, "entropy": 134.11036682128906, "vf_explained_var": 0.24719277024269104}, "update_time_ms": 7.971, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1795.94775390625, "kl": 0.02076725848019123, "vf_loss": 1795.9483642578125, "policy_loss": -0.0013599508674815297, "entropy": 1.8459481000900269, "vf_explained_var": 0.20163440704345703}, "grad_time_ms": 7020.07, "load_time_ms": 14.873, "num_steps_sampled": 2380000, "num_steps_trained": 2380000, "sample_time_ms": 13408.352}, "hostname": "ip-172-31-27-32", "timestamp": 1544504321, "episode_len_mean": 500.0, "iterations_since_restore": 119, "date": "2018-12-11_04-58-41", "episode_reward_mean": 0.0, "time_this_iter_s": 20.19174361228943, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 119}
{"pid": 3344, "timesteps_since_restore": 2400000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2400000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731ebbe0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2504.991255044937, "episodes_total": 5401, "policy_reward_mean": {"adversary": -411.3791272835833, "av": 411.3791272835833}, "time_total_s": 2504.991255044937, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1747.75341796875, "kl": 0.03408908471465111, "vf_loss": 1747.7958984375, "policy_loss": -0.04954437538981438, "entropy": 133.98301696777344, "vf_explained_var": 0.26404282450675964}, "update_time_ms": 7.986, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1768.068359375, "kl": 0.01757483370602131, "vf_loss": 1768.0694580078125, "policy_loss": -0.0017019623192027211, "entropy": 1.8236123323440552, "vf_explained_var": 0.21895834803581238}, "grad_time_ms": 7014.975, "load_time_ms": 15.026, "num_steps_sampled": 2400000, "num_steps_trained": 2400000, "sample_time_ms": 13442.14}, "hostname": "ip-172-31-27-32", "timestamp": 1544504342, "episode_len_mean": 500.0, "iterations_since_restore": 120, "date": "2018-12-11_04-59-02", "episode_reward_mean": 0.0, "time_this_iter_s": 20.947753429412842, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 120}
{"pid": 3344, "timesteps_since_restore": 2420000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2420000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673286fd0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2525.6457381248474, "episodes_total": 5445, "policy_reward_mean": {"adversary": -404.62234810842375, "av": 404.62234810842375}, "time_total_s": 2525.6457381248474, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1665.7447509765625, "kl": 0.03640967234969139, "vf_loss": 1665.7916259765625, "policy_loss": -0.054082099348306656, "entropy": 133.80528259277344, "vf_explained_var": 0.2937639653682709}, "update_time_ms": 7.988, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1697.2003173828125, "kl": 0.019781623035669327, "vf_loss": 1697.2022705078125, "policy_loss": -0.0027304983232170343, "entropy": 1.8503867387771606, "vf_explained_var": 0.23796309530735016}, "grad_time_ms": 7045.701, "load_time_ms": 15.035, "num_steps_sampled": 2420000, "num_steps_trained": 2420000, "sample_time_ms": 13429.562}, "hostname": "ip-172-31-27-32", "timestamp": 1544504362, "episode_len_mean": 499.84, "iterations_since_restore": 121, "date": "2018-12-11_04-59-22", "episode_reward_mean": 0.0, "time_this_iter_s": 20.65448307991028, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 121}
{"pid": 3344, "timesteps_since_restore": 2440000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2440000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673290048>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2545.9123270511627, "episodes_total": 5489, "policy_reward_mean": {"adversary": -405.77954653117064, "av": 405.77954653117064}, "time_total_s": 2545.9123270511627, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1778.171875, "kl": 0.036025602370500565, "vf_loss": 1778.2178955078125, "policy_loss": -0.05326564610004425, "entropy": 134.08738708496094, "vf_explained_var": 0.26819664239883423}, "update_time_ms": 8.175, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1802.2828369140625, "kl": 0.021531015634536743, "vf_loss": 1802.283203125, "policy_loss": -0.0008165492326952517, "entropy": 1.8399724960327148, "vf_explained_var": 0.2271546572446823}, "grad_time_ms": 7039.85, "load_time_ms": 15.107, "num_steps_sampled": 2440000, "num_steps_trained": 2440000, "sample_time_ms": 13392.352}, "hostname": "ip-172-31-27-32", "timestamp": 1544504383, "episode_len_mean": 499.84, "iterations_since_restore": 122, "date": "2018-12-11_04-59-43", "episode_reward_mean": 0.0, "time_this_iter_s": 20.266588926315308, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 122}
{"pid": 3344, "timesteps_since_restore": 2460000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2460000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731eb748>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2566.8465662002563, "episodes_total": 5533, "policy_reward_mean": {"adversary": -403.38668221698254, "av": 403.38668221698254}, "time_total_s": 2566.8465662002563, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1750.9034423828125, "kl": 0.03548212721943855, "vf_loss": 1750.9483642578125, "policy_loss": -0.051954977214336395, "entropy": 133.7384490966797, "vf_explained_var": 0.22296969592571259}, "update_time_ms": 8.208, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1757.4315185546875, "kl": 0.01768350973725319, "vf_loss": 1757.432861328125, "policy_loss": -0.0019628978334367275, "entropy": 1.8639111518859863, "vf_explained_var": 0.18770061433315277}, "grad_time_ms": 7029.424, "load_time_ms": 14.723, "num_steps_sampled": 2460000, "num_steps_trained": 2460000, "sample_time_ms": 13433.073}, "hostname": "ip-172-31-27-32", "timestamp": 1544504404, "episode_len_mean": 500.0, "iterations_since_restore": 123, "date": "2018-12-11_05-00-04", "episode_reward_mean": 0.0, "time_this_iter_s": 20.934239149093628, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 123}
{"pid": 3344, "timesteps_since_restore": 2480000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2480000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732898d0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2587.1447188854218, "episodes_total": 5576, "policy_reward_mean": {"adversary": -403.69605837938684, "av": 403.69605837938684}, "time_total_s": 2587.1447188854218, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1796.2904052734375, "kl": 0.0356297492980957, "vf_loss": 1796.3365478515625, "policy_loss": -0.05323099344968796, "entropy": 134.0930938720703, "vf_explained_var": 0.2663421630859375}, "update_time_ms": 8.173, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1795.24560546875, "kl": 0.01737355627119541, "vf_loss": 1795.2474365234375, "policy_loss": -0.002321789972484112, "entropy": 1.7984826564788818, "vf_explained_var": 0.22565262019634247}, "grad_time_ms": 7049.485, "load_time_ms": 15.211, "num_steps_sampled": 2480000, "num_steps_trained": 2480000, "sample_time_ms": 13405.298}, "hostname": "ip-172-31-27-32", "timestamp": 1544504424, "episode_len_mean": 500.0, "iterations_since_restore": 124, "date": "2018-12-11_05-00-24", "episode_reward_mean": 0.0, "time_this_iter_s": 20.298152685165405, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 124}
{"pid": 3344, "timesteps_since_restore": 2500000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2500000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673290898>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2607.8060998916626, "episodes_total": 5620, "policy_reward_mean": {"adversary": -408.20971836457306, "av": 408.20971836457306}, "time_total_s": 2607.8060998916626, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1768.8758544921875, "kl": 0.035431280732154846, "vf_loss": 1768.9215087890625, "policy_loss": -0.05291938781738281, "entropy": 133.812255859375, "vf_explained_var": 0.24007591605186462}, "update_time_ms": 7.912, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1757.1806640625, "kl": 0.016422107815742493, "vf_loss": 1757.181884765625, "policy_loss": -0.002091114642098546, "entropy": 1.8221091032028198, "vf_explained_var": 0.20428358018398285}, "grad_time_ms": 7044.517, "load_time_ms": 15.081, "num_steps_sampled": 2500000, "num_steps_trained": 2500000, "sample_time_ms": 13402.5}, "hostname": "ip-172-31-27-32", "timestamp": 1544504445, "episode_len_mean": 500.0, "iterations_since_restore": 125, "date": "2018-12-11_05-00-45", "episode_reward_mean": 0.0, "time_this_iter_s": 20.661381006240845, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 125}
{"pid": 3344, "timesteps_since_restore": 2520000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2520000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731ebc88>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2628.5422575473785, "episodes_total": 5665, "policy_reward_mean": {"adversary": -403.3374326092381, "av": 403.3374326092381}, "time_total_s": 2628.5422575473785, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1755.0552978515625, "kl": 0.03617173433303833, "vf_loss": 1755.1025390625, "policy_loss": -0.054401200264692307, "entropy": 133.80386352539062, "vf_explained_var": 0.26449522376060486}, "update_time_ms": 7.952, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1757.73681640625, "kl": 0.020732112228870392, "vf_loss": 1757.73876953125, "policy_loss": -0.002761358628049493, "entropy": 1.8565603494644165, "vf_explained_var": 0.22480957210063934}, "grad_time_ms": 7061.919, "load_time_ms": 15.261, "num_steps_sampled": 2520000, "num_steps_trained": 2520000, "sample_time_ms": 13428.501}, "hostname": "ip-172-31-27-32", "timestamp": 1544504465, "episode_len_mean": 500.0, "iterations_since_restore": 126, "date": "2018-12-11_05-01-05", "episode_reward_mean": 0.0, "time_this_iter_s": 20.736157655715942, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 126}
{"pid": 3344, "timesteps_since_restore": 2540000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2540000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731f6128>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2648.628786087036, "episodes_total": 5710, "policy_reward_mean": {"adversary": -407.3714180122473, "av": 407.3714180122473}, "time_total_s": 2648.628786087036, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1775.2552490234375, "kl": 0.035373326390981674, "vf_loss": 1775.298828125, "policy_loss": -0.05089494585990906, "entropy": 134.00331115722656, "vf_explained_var": 0.29646921157836914}, "update_time_ms": 8.102, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1779.3780517578125, "kl": 0.020296070724725723, "vf_loss": 1779.378662109375, "policy_loss": -0.0013447350356727839, "entropy": 1.7948111295700073, "vf_explained_var": 0.25756287574768066}, "grad_time_ms": 7061.222, "load_time_ms": 15.441, "num_steps_sampled": 2540000, "num_steps_trained": 2540000, "sample_time_ms": 13382.419}, "hostname": "ip-172-31-27-32", "timestamp": 1544504485, "episode_len_mean": 500.0, "iterations_since_restore": 127, "date": "2018-12-11_05-01-25", "episode_reward_mean": 0.0, "time_this_iter_s": 20.086528539657593, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 127}
{"pid": 3344, "timesteps_since_restore": 2560000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2560000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673289fd0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2668.890412092209, "episodes_total": 5753, "policy_reward_mean": {"adversary": -409.218607433046, "av": 409.218607433046}, "time_total_s": 2668.890412092209, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1835.5789794921875, "kl": 0.03553587198257446, "vf_loss": 1835.62255859375, "policy_loss": -0.05097510665655136, "entropy": 134.0963134765625, "vf_explained_var": 0.21868805587291718}, "update_time_ms": 7.952, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1832.1502685546875, "kl": 0.02092786133289337, "vf_loss": 1832.15087890625, "policy_loss": -0.0012888350756838918, "entropy": 1.7809706926345825, "vf_explained_var": 0.199178084731102}, "grad_time_ms": 7038.274, "load_time_ms": 15.526, "num_steps_sampled": 2560000, "num_steps_trained": 2560000, "sample_time_ms": 13382.807}, "hostname": "ip-172-31-27-32", "timestamp": 1544504506, "episode_len_mean": 498.37, "iterations_since_restore": 128, "date": "2018-12-11_05-01-46", "episode_reward_mean": 0.0, "time_this_iter_s": 20.26162600517273, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 128}
{"pid": 3344, "timesteps_since_restore": 2580000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2580000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732781d0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2689.251838684082, "episodes_total": 5797, "policy_reward_mean": {"adversary": -401.81514921231303, "av": 401.81514921231303}, "time_total_s": 2689.251838684082, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1878.5919189453125, "kl": 0.03572724759578705, "vf_loss": 1878.6402587890625, "policy_loss": -0.05526643991470337, "entropy": 133.84228515625, "vf_explained_var": 0.21098513901233673}, "update_time_ms": 7.906, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1886.1121826171875, "kl": 0.02217530645430088, "vf_loss": 1886.11181640625, "policy_loss": -0.0003528906381689012, "entropy": 1.8172417879104614, "vf_explained_var": 0.18894095718860626}, "grad_time_ms": 7042.787, "load_time_ms": 15.566, "num_steps_sampled": 2580000, "num_steps_trained": 2580000, "sample_time_ms": 13396.334}, "hostname": "ip-172-31-27-32", "timestamp": 1544504526, "episode_len_mean": 496.89, "iterations_since_restore": 129, "date": "2018-12-11_05-02-06", "episode_reward_mean": 0.0, "time_this_iter_s": 20.36142659187317, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 129}
{"pid": 3344, "timesteps_since_restore": 2600000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2600000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673278128>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2709.468941450119, "episodes_total": 5843, "policy_reward_mean": {"adversary": -394.4008292907758, "av": 394.4008292907758}, "time_total_s": 2709.468941450119, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1841.08056640625, "kl": 0.03439902141690254, "vf_loss": 1841.1253662109375, "policy_loss": -0.05163450911641121, "entropy": 133.79258728027344, "vf_explained_var": 0.20863373577594757}, "update_time_ms": 7.929, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1869.9405517578125, "kl": 0.01915169507265091, "vf_loss": 1869.94189453125, "policy_loss": -0.0018315508496016264, "entropy": 1.8072298765182495, "vf_explained_var": 0.18437278270721436}, "grad_time_ms": 7047.755, "load_time_ms": 15.468, "num_steps_sampled": 2600000, "num_steps_trained": 2600000, "sample_time_ms": 13318.714}, "hostname": "ip-172-31-27-32", "timestamp": 1544504546, "episode_len_mean": 490.96, "iterations_since_restore": 130, "date": "2018-12-11_05-02-26", "episode_reward_mean": 0.0, "time_this_iter_s": 20.217102766036987, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 130}
{"pid": 3344, "timesteps_since_restore": 2620000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2620000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732768d0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2730.1787247657776, "episodes_total": 5888, "policy_reward_mean": {"adversary": -386.48199617562454, "av": 386.48199617562454}, "time_total_s": 2730.1787247657776, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1849.603759765625, "kl": 0.035306308418512344, "vf_loss": 1849.6484375, "policy_loss": -0.05183614790439606, "entropy": 133.68702697753906, "vf_explained_var": 0.2678477466106415}, "update_time_ms": 7.914, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1874.3328857421875, "kl": 0.02454717457294464, "vf_loss": 1874.3306884765625, "policy_loss": 0.001394549966789782, "entropy": 1.8107256889343262, "vf_explained_var": 0.22955527901649475}, "grad_time_ms": 7041.455, "load_time_ms": 15.581, "num_steps_sampled": 2620000, "num_steps_trained": 2620000, "sample_time_ms": 13330.283}, "hostname": "ip-172-31-27-32", "timestamp": 1544504567, "episode_len_mean": 486.77, "iterations_since_restore": 131, "date": "2018-12-11_05-02-47", "episode_reward_mean": 0.0, "time_this_iter_s": 20.70978331565857, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 131}
{"pid": 3344, "timesteps_since_restore": 2640000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2640000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673278908>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2750.652172088623, "episodes_total": 5932, "policy_reward_mean": {"adversary": -388.7752068252539, "av": 388.7752068252539}, "time_total_s": 2750.652172088623, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1762.97900390625, "kl": 0.03840712830424309, "vf_loss": 1763.02685546875, "policy_loss": -0.0557471364736557, "entropy": 133.47618103027344, "vf_explained_var": 0.27619391679763794}, "update_time_ms": 7.647, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1804.7872314453125, "kl": 0.025425737723708153, "vf_loss": 1804.7884521484375, "policy_loss": -0.0019314965466037393, "entropy": 1.841208815574646, "vf_explained_var": 0.2371760606765747}, "grad_time_ms": 7045.337, "load_time_ms": 15.664, "num_steps_sampled": 2640000, "num_steps_trained": 2640000, "sample_time_ms": 13347.305}, "hostname": "ip-172-31-27-32", "timestamp": 1544504588, "episode_len_mean": 489.03, "iterations_since_restore": 132, "date": "2018-12-11_05-03-08", "episode_reward_mean": 0.0, "time_this_iter_s": 20.47344732284546, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 132}
{"pid": 3344, "timesteps_since_restore": 2660000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2660000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff65d1b6b00>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2771.3354432582855, "episodes_total": 5975, "policy_reward_mean": {"adversary": -406.1459522048856, "av": 406.1459522048856}, "time_total_s": 2771.3354432582855, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1814.322509765625, "kl": 0.03470226377248764, "vf_loss": 1814.3662109375, "policy_loss": -0.0507349818944931, "entropy": 133.6240692138672, "vf_explained_var": 0.22983506321907043}, "update_time_ms": 7.674, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1828.0506591796875, "kl": 0.015793953090906143, "vf_loss": 1828.0509033203125, "policy_loss": -0.0005426539573818445, "entropy": 1.7579199075698853, "vf_explained_var": 0.20395371317863464}, "grad_time_ms": 7043.461, "load_time_ms": 15.545, "num_steps_sampled": 2660000, "num_steps_trained": 2660000, "sample_time_ms": 13323.767}, "hostname": "ip-172-31-27-32", "timestamp": 1544504608, "episode_len_mean": 500.0, "iterations_since_restore": 133, "date": "2018-12-11_05-03-28", "episode_reward_mean": 0.0, "time_this_iter_s": 20.683271169662476, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 133}
{"pid": 3344, "timesteps_since_restore": 2680000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2680000, "episode_reward_min": 0.0, "episodes_this_iter": 47, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673276a20>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2792.1508445739746, "episodes_total": 6022, "policy_reward_mean": {"adversary": -404.9840910319225, "av": 404.9840910319225}, "time_total_s": 2792.1508445739746, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1786.76904296875, "kl": 0.03682873770594597, "vf_loss": 1786.816650390625, "policy_loss": -0.05486492067575455, "entropy": 133.53857421875, "vf_explained_var": 0.28794801235198975}, "update_time_ms": 7.691, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1806.3272705078125, "kl": 0.016056615859270096, "vf_loss": 1806.328369140625, "policy_loss": -0.0013525348622351885, "entropy": 1.7712033987045288, "vf_explained_var": 0.24754685163497925}, "grad_time_ms": 7048.595, "load_time_ms": 15.036, "num_steps_sampled": 2680000, "num_steps_trained": 2680000, "sample_time_ms": 13372.05}, "hostname": "ip-172-31-27-32", "timestamp": 1544504629, "episode_len_mean": 498.43, "iterations_since_restore": 134, "date": "2018-12-11_05-03-49", "episode_reward_mean": 0.0, "time_this_iter_s": 20.815401315689087, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 134}
{"pid": 3344, "timesteps_since_restore": 2700000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2700000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731f61d0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2812.413378715515, "episodes_total": 6065, "policy_reward_mean": {"adversary": -397.163382628304, "av": 397.163382628304}, "time_total_s": 2812.413378715515, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1749.7269287109375, "kl": 0.03441537171602249, "vf_loss": 1749.7720947265625, "policy_loss": -0.05170317366719246, "entropy": 133.268798828125, "vf_explained_var": 0.25456976890563965}, "update_time_ms": 7.866, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1762.2421875, "kl": 0.020500153303146362, "vf_loss": 1762.2435302734375, "policy_loss": -0.0018887724727392197, "entropy": 1.8182300329208374, "vf_explained_var": 0.22336602210998535}, "grad_time_ms": 7036.963, "load_time_ms": 15.09, "num_steps_sampled": 2700000, "num_steps_trained": 2700000, "sample_time_ms": 13341.709}, "hostname": "ip-172-31-27-32", "timestamp": 1544504649, "episode_len_mean": 495.4, "iterations_since_restore": 135, "date": "2018-12-11_05-04-09", "episode_reward_mean": 0.0, "time_this_iter_s": 20.262534141540527, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 135}
{"pid": 3344, "timesteps_since_restore": 2720000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2720000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732769b0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2833.352714061737, "episodes_total": 6109, "policy_reward_mean": {"adversary": -396.8093133284128, "av": 396.8093133284128}, "time_total_s": 2833.352714061737, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1820.9578857421875, "kl": 0.03683767467737198, "vf_loss": 1821.0047607421875, "policy_loss": -0.054259490221738815, "entropy": 133.48321533203125, "vf_explained_var": 0.2455628663301468}, "update_time_ms": 8.321, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1823.874755859375, "kl": 0.02072802558541298, "vf_loss": 1823.8763427734375, "policy_loss": -0.002168366452679038, "entropy": 1.7953606843948364, "vf_explained_var": 0.22345492243766785}, "grad_time_ms": 7007.672, "load_time_ms": 14.909, "num_steps_sampled": 2720000, "num_steps_trained": 2720000, "sample_time_ms": 13391.562}, "hostname": "ip-172-31-27-32", "timestamp": 1544504670, "episode_len_mean": 491.66, "iterations_since_restore": 136, "date": "2018-12-11_05-04-30", "episode_reward_mean": 0.0, "time_this_iter_s": 20.939335346221924, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 136}
{"pid": 3344, "timesteps_since_restore": 2740000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2740000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673278470>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2853.4326519966125, "episodes_total": 6155, "policy_reward_mean": {"adversary": -405.1795037769756, "av": 405.1795037769756}, "time_total_s": 2853.4326519966125, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1900.570068359375, "kl": 0.03513437137007713, "vf_loss": 1900.6175537109375, "policy_loss": -0.05437078699469566, "entropy": 133.63807678222656, "vf_explained_var": 0.2747562527656555}, "update_time_ms": 8.141, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1879.894287109375, "kl": 0.02097047120332718, "vf_loss": 1879.8953857421875, "policy_loss": -0.0021166920196264982, "entropy": 1.7290505170822144, "vf_explained_var": 0.24765917658805847}, "grad_time_ms": 7035.381, "load_time_ms": 14.801, "num_steps_sampled": 2740000, "num_steps_trained": 2740000, "sample_time_ms": 13363.425}, "hostname": "ip-172-31-27-32", "timestamp": 1544504690, "episode_len_mean": 496.26, "iterations_since_restore": 137, "date": "2018-12-11_05-04-50", "episode_reward_mean": 0.0, "time_this_iter_s": 20.07993793487549, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 137}
{"pid": 3344, "timesteps_since_restore": 2760000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2760000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673292048>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2873.6090652942657, "episodes_total": 6198, "policy_reward_mean": {"adversary": -403.52003336975133, "av": 403.52003336975133}, "time_total_s": 2873.6090652942657, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1776.380615234375, "kl": 0.03398856148123741, "vf_loss": 1776.4234619140625, "policy_loss": -0.049842435866594315, "entropy": 133.26620483398438, "vf_explained_var": 0.24296386539936066}, "update_time_ms": 8.199, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1792.0633544921875, "kl": 0.021076006814837456, "vf_loss": 1792.0643310546875, "policy_loss": -0.0015097659779712558, "entropy": 1.7678911685943604, "vf_explained_var": 0.22766932845115662}, "grad_time_ms": 7049.874, "load_time_ms": 14.859, "num_steps_sampled": 2760000, "num_steps_trained": 2760000, "sample_time_ms": 13338.99}, "hostname": "ip-172-31-27-32", "timestamp": 1544504711, "episode_len_mean": 499.18, "iterations_since_restore": 138, "date": "2018-12-11_05-05-11", "episode_reward_mean": 0.0, "time_this_iter_s": 20.1764132976532, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 138}
{"pid": 3344, "timesteps_since_restore": 2780000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2780000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731f6400>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2894.1464467048645, "episodes_total": 6241, "policy_reward_mean": {"adversary": -406.61776602677253, "av": 406.61776602677253}, "time_total_s": 2894.1464467048645, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1874.456787109375, "kl": 0.036729615181684494, "vf_loss": 1874.5028076171875, "policy_loss": -0.05362505838274956, "entropy": 133.6339874267578, "vf_explained_var": 0.2721823751926422}, "update_time_ms": 8.321, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1874.76123046875, "kl": 0.01811867579817772, "vf_loss": 1874.762451171875, "policy_loss": -0.0018032934749498963, "entropy": 1.657604455947876, "vf_explained_var": 0.24555495381355286}, "grad_time_ms": 7058.072, "load_time_ms": 14.816, "num_steps_sampled": 2780000, "num_steps_trained": 2780000, "sample_time_ms": 13347.66}, "hostname": "ip-172-31-27-32", "timestamp": 1544504731, "episode_len_mean": 500.0, "iterations_since_restore": 139, "date": "2018-12-11_05-05-31", "episode_reward_mean": 0.0, "time_this_iter_s": 20.537381410598755, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 139}
{"pid": 3344, "timesteps_since_restore": 2800000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2800000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731f6358>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2914.460491657257, "episodes_total": 6287, "policy_reward_mean": {"adversary": -406.42032542969037, "av": 406.42032542969037}, "time_total_s": 2914.460491657257, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1798.309326171875, "kl": 0.036415185779333115, "vf_loss": 1798.35693359375, "policy_loss": -0.05492442846298218, "entropy": 133.51126098632812, "vf_explained_var": 0.3260428011417389}, "update_time_ms": 8.562, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1813.4852294921875, "kl": 0.019548315554857254, "vf_loss": 1813.4853515625, "policy_loss": -0.0008647197391837835, "entropy": 1.689663052558899, "vf_explained_var": 0.30296728014945984}, "grad_time_ms": 7057.054, "load_time_ms": 14.572, "num_steps_sampled": 2800000, "num_steps_trained": 2800000, "sample_time_ms": 13359.376}, "hostname": "ip-172-31-27-32", "timestamp": 1544504751, "episode_len_mean": 494.6, "iterations_since_restore": 140, "date": "2018-12-11_05-05-51", "episode_reward_mean": 0.0, "time_this_iter_s": 20.314044952392578, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 140}
{"pid": 3344, "timesteps_since_restore": 2820000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2820000, "episode_reward_min": 0.0, "episodes_this_iter": 43, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673289b38>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2935.0681190490723, "episodes_total": 6330, "policy_reward_mean": {"adversary": -404.36495540945356, "av": 404.36495540945356}, "time_total_s": 2935.0681190490723, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1765.6419677734375, "kl": 0.03646058961749077, "vf_loss": 1765.6875, "policy_loss": -0.05284615233540535, "entropy": 133.2421417236328, "vf_explained_var": 0.3047047257423401}, "update_time_ms": 8.606, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1786.5013427734375, "kl": 0.019945088773965836, "vf_loss": 1786.5030517578125, "policy_loss": -0.002136080991476774, "entropy": 1.7171335220336914, "vf_explained_var": 0.2820834517478943}, "grad_time_ms": 7053.166, "load_time_ms": 14.422, "num_steps_sampled": 2820000, "num_steps_trained": 2820000, "sample_time_ms": 13353.48}, "hostname": "ip-172-31-27-32", "timestamp": 1544504772, "episode_len_mean": 494.6, "iterations_since_restore": 141, "date": "2018-12-11_05-06-12", "episode_reward_mean": 0.0, "time_this_iter_s": 20.607627391815186, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 141}
{"pid": 3344, "timesteps_since_restore": 2840000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2840000, "episode_reward_min": 0.0, "episodes_this_iter": 47, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731f65c0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2955.8749539852142, "episodes_total": 6377, "policy_reward_mean": {"adversary": -402.5424349394052, "av": 402.5424349394052}, "time_total_s": 2955.8749539852142, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1707.2528076171875, "kl": 0.036853741854429245, "vf_loss": 1707.3009033203125, "policy_loss": -0.05548609048128128, "entropy": 133.28472900390625, "vf_explained_var": 0.3145087659358978}, "update_time_ms": 8.678, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1743.2882080078125, "kl": 0.019577331840991974, "vf_loss": 1743.2900390625, "policy_loss": -0.0022532911971211433, "entropy": 1.7042713165283203, "vf_explained_var": 0.2854039669036865}, "grad_time_ms": 7078.518, "load_time_ms": 14.442, "num_steps_sampled": 2840000, "num_steps_trained": 2840000, "sample_time_ms": 13360.614}, "hostname": "ip-172-31-27-32", "timestamp": 1544504793, "episode_len_mean": 500.0, "iterations_since_restore": 142, "date": "2018-12-11_05-06-33", "episode_reward_mean": 0.0, "time_this_iter_s": 20.806834936141968, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 142}
{"pid": 3344, "timesteps_since_restore": 2860000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2860000, "episode_reward_min": 0.0, "episodes_this_iter": 42, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6732924e0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2976.1249346733093, "episodes_total": 6419, "policy_reward_mean": {"adversary": -398.4104379476476, "av": 398.4104379476476}, "time_total_s": 2976.1249346733093, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1708.6959228515625, "kl": 0.035944655537605286, "vf_loss": 1708.7415771484375, "policy_loss": -0.052868299186229706, "entropy": 133.09104919433594, "vf_explained_var": 0.2751293182373047}, "update_time_ms": 8.716, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1725.5540771484375, "kl": 0.020700259134173393, "vf_loss": 1725.5543212890625, "policy_loss": -0.0008697735029272735, "entropy": 1.7133628129959106, "vf_explained_var": 0.2533976137638092}, "grad_time_ms": 7074.447, "load_time_ms": 14.598, "num_steps_sampled": 2860000, "num_steps_trained": 2860000, "sample_time_ms": 13321.177}, "hostname": "ip-172-31-27-32", "timestamp": 1544504813, "episode_len_mean": 500.0, "iterations_since_restore": 143, "date": "2018-12-11_05-06-53", "episode_reward_mean": 0.0, "time_this_iter_s": 20.249980688095093, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 143}
{"pid": 3344, "timesteps_since_restore": 2880000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2880000, "episode_reward_min": 0.0, "episodes_this_iter": 45, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673289128>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 2996.6992025375366, "episodes_total": 6464, "policy_reward_mean": {"adversary": -396.36391121487986, "av": 396.36391121487986}, "time_total_s": 2996.6992025375366, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1689.9921875, "kl": 0.03683841973543167, "vf_loss": 1690.0384521484375, "policy_loss": -0.053548697382211685, "entropy": 133.0995635986328, "vf_explained_var": 0.2902842164039612}, "update_time_ms": 8.763, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1710.492431640625, "kl": 0.020438091829419136, "vf_loss": 1710.4947509765625, "policy_loss": -0.003030164632946253, "entropy": 1.7399749755859375, "vf_explained_var": 0.25989991426467896}, "grad_time_ms": 7060.375, "load_time_ms": 14.58, "num_steps_sampled": 2880000, "num_steps_trained": 2880000, "sample_time_ms": 13310.344}, "hostname": "ip-172-31-27-32", "timestamp": 1544504834, "episode_len_mean": 500.0, "iterations_since_restore": 144, "date": "2018-12-11_05-07-14", "episode_reward_mean": 0.0, "time_this_iter_s": 20.574267864227295, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 144}
{"pid": 3344, "timesteps_since_restore": 2900000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2900000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff67326b080>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 3016.743189096451, "episodes_total": 6508, "policy_reward_mean": {"adversary": -396.7791021998981, "av": 396.7791021998981}, "time_total_s": 3016.743189096451, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1595.5677490234375, "kl": 0.036104895174503326, "vf_loss": 1595.6129150390625, "policy_loss": -0.05238286033272743, "entropy": 133.17613220214844, "vf_explained_var": 0.344996839761734}, "update_time_ms": 8.655, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1607.9981689453125, "kl": 0.020155228674411774, "vf_loss": 1607.99951171875, "policy_loss": -0.0018151458352804184, "entropy": 1.6911321878433228, "vf_explained_var": 0.3140403926372528}, "grad_time_ms": 7083.052, "load_time_ms": 14.44, "num_steps_sampled": 2900000, "num_steps_trained": 2900000, "sample_time_ms": 13267.182}, "hostname": "ip-172-31-27-32", "timestamp": 1544504854, "episode_len_mean": 500.0, "iterations_since_restore": 145, "date": "2018-12-11_05-07-34", "episode_reward_mean": 0.0, "time_this_iter_s": 20.043986558914185, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 145}
{"pid": 3344, "timesteps_since_restore": 2920000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2920000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731ccfd0>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 3037.3355300426483, "episodes_total": 6554, "policy_reward_mean": {"adversary": -396.4671800054341, "av": 396.4671800054341}, "time_total_s": 3037.3355300426483, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1719.7249755859375, "kl": 0.038416821509599686, "vf_loss": 1719.7734375, "policy_loss": -0.05593326315283775, "entropy": 132.86056518554688, "vf_explained_var": 0.30905523896217346}, "update_time_ms": 8.401, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1723.0428466796875, "kl": 0.020751958712935448, "vf_loss": 1723.044677734375, "policy_loss": -0.0024447159375995398, "entropy": 1.6850210428237915, "vf_explained_var": 0.2827661335468292}, "grad_time_ms": 7096.482, "load_time_ms": 14.541, "num_steps_sampled": 2920000, "num_steps_trained": 2920000, "sample_time_ms": 13218.697}, "hostname": "ip-172-31-27-32", "timestamp": 1544504874, "episode_len_mean": 490.93, "iterations_since_restore": 146, "date": "2018-12-11_05-07-54", "episode_reward_mean": 0.0, "time_this_iter_s": 20.59234094619751, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 146}
{"pid": 3344, "timesteps_since_restore": 2940000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2940000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673204828>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 3057.938865661621, "episodes_total": 6598, "policy_reward_mean": {"adversary": -391.8087526441518, "av": 391.8087526441518}, "time_total_s": 3057.938865661621, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1844.1558837890625, "kl": 0.03507906198501587, "vf_loss": 1844.2022705078125, "policy_loss": -0.053625136613845825, "entropy": 132.97996520996094, "vf_explained_var": 0.319315105676651}, "update_time_ms": 8.292, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1854.907470703125, "kl": 0.024547377601265907, "vf_loss": 1854.90869140625, "policy_loss": -0.0018922965973615646, "entropy": 1.6421610116958618, "vf_explained_var": 0.28099197149276733}, "grad_time_ms": 7075.504, "load_time_ms": 16.369, "num_steps_sampled": 2940000, "num_steps_trained": 2940000, "sample_time_ms": 13290.218}, "hostname": "ip-172-31-27-32", "timestamp": 1544504895, "episode_len_mean": 486.2, "iterations_since_restore": 147, "date": "2018-12-11_05-08-15", "episode_reward_mean": 0.0, "time_this_iter_s": 20.60333561897278, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 147}
{"pid": 3344, "timesteps_since_restore": 2960000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2960000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673286470>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 3078.4262042045593, "episodes_total": 6642, "policy_reward_mean": {"adversary": -397.3613040423868, "av": 397.3613040423868}, "time_total_s": 3078.4262042045593, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1806.2503662109375, "kl": 0.0386064238846302, "vf_loss": 1806.2987060546875, "policy_loss": -0.05609637126326561, "entropy": 133.1853790283203, "vf_explained_var": 0.3220835328102112}, "update_time_ms": 8.287, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1801.7640380859375, "kl": 0.022001339122653008, "vf_loss": 1801.764404296875, "policy_loss": -0.0013804581249132752, "entropy": 1.608182430267334, "vf_explained_var": 0.2986581325531006}, "grad_time_ms": 7075.976, "load_time_ms": 16.357, "num_steps_sampled": 2960000, "num_steps_trained": 2960000, "sample_time_ms": 13321.322}, "hostname": "ip-172-31-27-32", "timestamp": 1544504916, "episode_len_mean": 490.75, "iterations_since_restore": 148, "date": "2018-12-11_05-08-36", "episode_reward_mean": 0.0, "time_this_iter_s": 20.487338542938232, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 148}
{"pid": 3344, "timesteps_since_restore": 2980000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 2980000, "episode_reward_min": 0.0, "episodes_this_iter": 44, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff6731e2a58>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 3099.0248124599457, "episodes_total": 6686, "policy_reward_mean": {"adversary": -410.2445502861572, "av": 410.2445502861572}, "time_total_s": 3099.0248124599457, "done": false, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1878.9146728515625, "kl": 0.03620978444814682, "vf_loss": 1878.961181640625, "policy_loss": -0.054104048758745193, "entropy": 133.09840393066406, "vf_explained_var": 0.2842201888561249}, "update_time_ms": 8.348, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1845.4534912109375, "kl": 0.018837766721844673, "vf_loss": 1845.455322265625, "policy_loss": -0.0022266660816967487, "entropy": 1.589959740638733, "vf_explained_var": 0.26102036237716675}, "grad_time_ms": 7061.588, "load_time_ms": 16.43, "num_steps_sampled": 2980000, "num_steps_trained": 2980000, "sample_time_ms": 13341.46}, "hostname": "ip-172-31-27-32", "timestamp": 1544504936, "episode_len_mean": 495.48, "iterations_since_restore": 149, "date": "2018-12-11_05-08-56", "episode_reward_mean": 0.0, "time_this_iter_s": 20.598608255386353, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 149}
{"pid": 3344, "timesteps_since_restore": 3000000, "episode_reward_max": 0.0, "custom_metrics": {}, "timesteps_total": 3000000, "episode_reward_min": 0.0, "episodes_this_iter": 46, "node_ip": "172.31.27.32", "config": {"callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null, "on_episode_step": null}, "horizon": 500, "use_gae": true, "sample_async": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "num_envs_per_worker": 1, "simple_optimizer": false, "model": {"lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "fcnet_hiddens": [100, 50, 25], "conv_activation": "relu", "channel_major": false, "grayscale": false, "dim": 84, "zero_mean": true, "squash_to_range": false, "conv_filters": null, "fcnet_activation": "tanh", "use_lstm": false}, "compress_observations": false, "num_workers": 10, "observation_filter": "NoFilter", "sample_batch_size": 200, "batch_mode": "truncate_episodes", "log_level": "INFO", "lambda": 0.97, "num_gpus": 0, "num_sgd_iter": 10, "env": "MultiAgentUDSSCMergeEnvReset-v0", "train_batch_size": 20000, "monitor": false, "num_gpus_per_worker": 0, "collect_metrics_timeout": 180, "kl_coeff": 0.2, "synchronize_filters": true, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"adv_action_weight\": 0.1,\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"n_following\": 1,\n            \"n_merging_in\": 6,\n            \"n_preceding\": 1,\n            \"range_inflow_0\": [\n                1,\n                4\n            ],\n            \"range_inflow_1\": [\n                1,\n                7\n            ],\n            \"target_velocity\": 8\n        },\n        \"evaluate\": false,\n        \"horizon\": 500,\n        \"sims_per_step\": 1,\n        \"sort_vehicles\": false,\n        \"starting_position_shuffle\": false,\n        \"vehicle_arrangement_shuffle\": false,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiAgentUDSSCMergeEnvReset\",\n    \"exp_tag\": \"ma_24\",\n    \"generator\": \"UDSSCMergingGenerator\",\n    \"initial\": {\n        \"additional_params\": {\n            \"merge_bunching\": 0\n        },\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"custom\",\n        \"x0\": 50\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 55,\n            \"lane_num\": 1,\n            \"merge_length\": 15,\n            \"outer_lanes\": 1,\n            \"outside_speed_limit\": 10,\n            \"resolution\": 100,\n            \"ring_radius\": 15,\n            \"roundabout_speed_limit\": 10\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_0\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_1\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_2\",\n                    \"route\": \"routeinflow_0\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"rl_3\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_4\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_5\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                },\n                {\n                    \"begin\": 1,\n                    \"end\": 2000000.0,\n                    \"name\": \"idm_6\",\n                    \"route\": \"routeinflow_1\",\n                    \"vehsPerHour\": 50,\n                    \"vtype\": \"idm\"\n                }\n            ],\n            \"num_flows\": 7\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"UDSSCMergingScenario\",\n    \"sumo\": {\n        \"ballistic\": false,\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 1,\n        \"teleport_time\": -1\n    },\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.1\n                }\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 31,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SumoLaneChangeController\",\n                {}\n            ],\n            \"lane_change_mode\": 0,\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"speed_mode\": 1,\n            \"sumo_car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.05,\n                    \"maxSpeed\": 8,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.1\n                }\n            },\n            \"sumo_lc_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                }\n            },\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "clip_param": 0.3, "num_cpus_for_driver": 1, "multiagent": {"policy_mapping_fn": "<ray.tune.suggest.variant_generator.function object at 0x7ff673204b38>", "policies_to_train": null, "policy_graphs": {"adversary": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(96,)", {}], "av": ["<class 'ray.rllib.agents.ppo.ppo_policy_graph.PPOPolicyGraph'>", "Box(94,)", "Box(2,)", {}]}}, "tf_session_args": {"gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2}, "vf_share_layers": false, "optimizer": {}, "kl_target": 0.02, "vf_clip_param": 10.0, "clip_actions": false, "gamma": 0.999, "lr_schedule": null, "lr": 0.0001}, "time_since_restore": 3119.6288373470306, "episodes_total": 6732, "policy_reward_mean": {"adversary": -399.77738050601977, "av": 399.77738050601977}, "time_total_s": 3119.6288373470306, "done": true, "timesteps_this_iter": 20000, "info": {"adversary": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1693.659423828125, "kl": 0.036646731197834015, "vf_loss": 1693.705322265625, "policy_loss": -0.05309100076556206, "entropy": 132.61073303222656, "vf_explained_var": 0.30308467149734497}, "update_time_ms": 8.162, "av": {"cur_lr": 9.999999747378752e-05, "cur_kl_coeff": 0.03164062276482582, "total_loss": 1688.7872314453125, "kl": 0.026848511770367622, "vf_loss": 1688.7880859375, "policy_loss": -0.0015210809651762247, "entropy": 1.7274762392044067, "vf_explained_var": 0.2751332223415375}, "grad_time_ms": 7071.868, "load_time_ms": 17.093, "num_steps_sampled": 3000000, "num_steps_trained": 3000000, "sample_time_ms": 13360.084}, "hostname": "ip-172-31-27-32", "timestamp": 1544504957, "episode_len_mean": 496.1, "iterations_since_restore": 150, "date": "2018-12-11_05-09-17", "episode_reward_mean": 0.0, "time_this_iter_s": 20.60402488708496, "num_metric_batches_dropped": 0, "experiment_id": "5c0d697eaf714f6392ca3a756c32c1fa", "training_iteration": 150}
